2025-05-14 02:17:34,733 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-14 02:17:34,736 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-14 02:17:34,736 - main_orchestrator - INFO - Se usará la fecha proporcionada: 16042025
2025-05-14 02:17:34,736 - main_orchestrator - INFO - ==================================================
2025-05-14 02:17:34,736 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-14 02:17:34,736 - main_orchestrator - INFO - Usando fecha: 16042025
2025-05-14 02:17:34,736 - main_orchestrator - INFO - ==================================================
2025-05-14 02:17:34,736 - lib.config_manager - INFO - Configuración cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\config.yaml
2025-05-14 02:17:34,736 - lib.config_manager - WARNING - Archivo de credenciales no encontrado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\credentials/api_keys.yaml
2025-05-14 02:17:34,736 - lib.config_manager - WARNING - Clave API de Gemini no configurada. La funcionalidad de API de imágenes fallará.
2025-05-14 02:17:34,736 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-14 02:17:34,736 - lib.history_tracker - INFO - Archivo de historial no encontrado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json. Se creará uno nuevo al guardar.
2025-05-14 02:17:34,736 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-14 02:17:34,736 - lib.image_processor - WARNING - No se pudo inicializar Gemini API: No se encontró GOOGLE_API_KEY en variables de entorno o .env
2025-05-14 02:17:34,736 - lib.image_processor - WARNING - API de extracción de texto de imágenes no configurada. No se procesarán imágenes con API.
2025-05-14 02:17:34,740 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-14 02:17:34,741 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-14 02:17:34,742 - lib.pdf_processor - INFO - Abriendo PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025.pdf (6 páginas)
2025-05-14 02:17:34,842 - lib.pdf_processor - INFO - Se extrajeron 59 enlaces URI (no mailto) de 16042025.pdf.
2025-05-14 02:17:34,842 - main_orchestrator - INFO - PDF procesado en 0.10 seg. Enlaces encontrados: 59
2025-05-14 02:17:34,846 - lib.file_manager - INFO - Datos guardados en CSV: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\In\links_extracted_16042025.csv
2025-05-14 02:17:34,847 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-14 02:17:34,848 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025.pdf (6 páginas)
2025-05-14 02:17:34,880 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_16042025\pdf_text_16042025.json
2025-05-14 02:17:34,880 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 6 párrafos
2025-05-14 02:17:34,881 - main_orchestrator - INFO - Texto del PDF extraído en 0.03 seg. Guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_16042025\pdf_text_16042025.json
2025-05-14 02:17:34,882 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-14 02:17:34,882 - main_orchestrator - INFO - URLs nuevas para procesar: 59 (de 59 total)
2025-05-14 02:17:34,882 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-14 02:17:34,882 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-14 02:17:34,882 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-14 02:17:34,882 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-14 02:17:34,882 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-14 02:17:34,884 - lib.url_manager - INFO - Clasificación de 59 URLs:
2025-05-14 02:17:34,884 - lib.url_manager - INFO -  - HTML: 33
2025-05-14 02:17:34,884 - lib.url_manager - INFO -  - IMAGES: 12
2025-05-14 02:17:34,884 - lib.url_manager - INFO -  - SOCIAL: 14
2025-05-14 02:17:34,884 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_16042025_unprocessed.json
2025-05-14 02:17:34,887 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Social\social_links_16042025_unprocessed.json
2025-05-14 02:17:34,887 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-14 02:17:34,887 - lib.image_processor - INFO - Iniciando descarga paralela de 12 imágenes para la fecha 16042025...
2025-05-14 02:17:36,978 - lib.image_processor - INFO - Imagen 9 guardada como 'img_9_94815644_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (185015 bytes)
2025-05-14 02:17:37,142 - lib.image_processor - INFO - Imagen 7 guardada como 'img_7_135386b4_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (329609 bytes)
2025-05-14 02:17:37,340 - lib.image_processor - INFO - Imagen 4 guardada como 'img_4_edfc8ed9_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (284407 bytes)
2025-05-14 02:17:37,355 - lib.image_processor - INFO - Imagen 8 guardada como 'img_8_3ce873be_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (297977 bytes)
2025-05-14 02:17:37,893 - lib.image_processor - INFO - Imagen 5 guardada como 'img_5_5872ca8a_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (396505 bytes)
2025-05-14 02:17:38,809 - lib.image_processor - INFO - Imagen 12 guardada como 'img_12_bb44165b_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (159855 bytes)
2025-05-14 02:17:39,504 - lib.image_processor - INFO - Imagen 6 guardada como 'img_6_9b807dd9_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (707746 bytes)
2025-05-14 02:17:40,421 - lib.image_processor - INFO - Imagen 10 guardada como 'img_10_2e3ad109_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (1054067 bytes)
2025-05-14 02:17:40,672 - lib.image_processor - INFO - Imagen 2 guardada como 'img_2_1e67714b_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (951901 bytes)
2025-05-14 02:17:41,184 - lib.image_processor - INFO - Imagen 11 guardada como 'img_11_141a2c9a_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (1040422 bytes)
2025-05-14 02:17:41,771 - lib.image_processor - INFO - Imagen 3 guardada como 'img_3_f5bc9928_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (1049210 bytes)
2025-05-14 02:17:41,884 - lib.image_processor - INFO - Progreso descarga imágenes: 10/12 en 7.00 seg.
2025-05-14 02:17:43,368 - lib.image_processor - INFO - Imagen 1 guardada como 'img_1_bd4e765a_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (2109336 bytes)
2025-05-14 02:17:43,655 - lib.image_processor - INFO - Progreso descarga imágenes: 12/12 en 8.77 seg.
2025-05-14 02:17:43,659 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_16042025.json
2025-05-14 02:17:43,659 - lib.image_processor - INFO - Descarga de imágenes completada para 12/12 URLs en 8.77 segundos.
2025-05-14 02:17:43,660 - main_orchestrator - INFO - Descarga de imágenes completada en 8.77 seg.
2025-05-14 02:17:43,660 - lib.history_tracker - INFO - Añadidas 12 nuevas URLs al historial.
2025-05-14 02:17:43,661 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 12 URLs.
2025-05-14 02:17:43,662 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-14 02:17:43,663 - lib.html_scraper - INFO - Iniciando scraping paralelo de 33 URLs...
2025-05-14 02:17:50,058 - lib.html_scraper - INFO - Progreso: 20/33 URLs procesadas en 6.40 seg.
2025-05-14 02:18:05,448 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=3, read=2, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='lahora.pe', port=443): Read timed out. (read timeout=20)")': /ultimas-noticias/no-al-alza-en-recibos-de-agua-piura-ciudadanos-rechazan-posible-alza-en-la-tarifa-del-agua/
2025-05-14 02:18:07,842 - lib.html_scraper - INFO - Progreso: 33/33 URLs procesadas en 24.18 seg.
2025-05-14 02:18:07,842 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_16042025.json
2025-05-14 02:18:07,842 - lib.html_scraper - INFO - Scraping completado para 33/33 URLs en 24.18 segundos.
2025-05-14 02:18:07,842 - lib.html_scraper - INFO - Resultados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_16042025.json
2025-05-14 02:18:07,851 - main_orchestrator - INFO - Scraping HTML completado en 24.19 seg.
2025-05-14 02:18:07,851 - lib.history_tracker - INFO - Añadidas 31 nuevas URLs al historial.
2025-05-14 02:18:07,853 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 43 URLs.
2025-05-14 02:18:07,854 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-14 02:18:07,855 - lib.image_processor - WARNING - Cliente API no inicializado. Saltando procesamiento de texto de imágenes.
2025-05-14 02:18:07,855 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 0.00 seg.
2025-05-14 02:18:07,855 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-14 02:18:07,855 - main_orchestrator - INFO - Leyendo archivo social para la fecha 16042025: social_links_16042025_unprocessed.json
2025-05-14 02:18:07,856 - main_orchestrator - INFO - Encontradas 9 URLs de Facebook para procesar
2025-05-14 02:18:07,856 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output
2025-05-14 02:18:07,856 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 9 URLs de Facebook para la fecha 16042025...
2025-05-14 02:18:07,856 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/watch/?mibextid=wwXIfr&v=3007796432728360&rdid=dwTFhLT54rEu7lo1
2025-05-14 02:18:07,856 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/permalink.php?story_fbid=pfbid09ACxxwnwvhgHhbqkGtJUuECu47dMTUFvPWAfCeP7tFNBhh7M9mdYm5SVfb2rtsDPl&id=100063616446639
2025-05-14 02:18:07,856 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/permalink.php?story_fbid=pfbid0gx7Pg2NrMZca5bR3hwTVSh6FSZuDwqa2fesjxWk7KCiUni3vohjaSj6fW4M3MUKkl&id=100065273659654
2025-05-14 02:18:07,862 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/permalink.php?story_fbid=pfbid0d1rwcSyt4kFugPvuGnZUvZE7nbwY34VvAXYZk54edPc2mJgs2dEXcDCwjqhexj1pl&id=100064089484737
2025-05-14 02:18:07,863 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/permalink.php?story_fbid=pfbid02z62m7HKa1tBsxHC9YHA2TuS2Bc5twqTBf9PANRUXvgffgrhDdnuGXJQuBNhf8SuMl&id=61559613183648
2025-05-14 02:18:32,794 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-4.pdf
2025-05-14 02:18:36,128 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-2.pdf
2025-05-14 02:18:37,907 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/permalink.php?story_fbid=pfbid02jjxa5vMavsFyt2VVpMfg7aLimbMDQw21agnBHdsiyWfSL6BomtXekrcmNyiKkviNl&id=100062993063417
2025-05-14 02:18:38,405 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-3.pdf
2025-05-14 02:18:38,764 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-1.pdf
2025-05-14 02:18:39,720 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-5.pdf
2025-05-14 02:18:40,027 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/permalink.php?story_fbid=pfbid02ozZBtnBo2bLjaHnXZ4TTZygwN3fjLhwdZEwab7R7vyUj8k8DKoUsC4rey5YfaEbel&id=100072108931277
2025-05-14 02:18:42,286 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/share/v/15kkoxxenF/
2025-05-14 02:18:43,329 - lib.facebook_processor - INFO - Procesando URL de Facebook (9): https://www.facebook.com/larepublicanorte/posts/980634487518628
2025-05-14 02:18:43,773 - lib.facebook_processor - INFO - Progreso Facebook: 5/9 en 35.92 seg.
2025-05-14 02:18:52,953 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-6.pdf
2025-05-14 02:18:56,266 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-7.pdf
2025-05-14 02:19:01,009 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-9.pdf
2025-05-14 02:19:07,951 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-8.pdf
2025-05-14 02:19:11,744 - lib.facebook_processor - INFO - Progreso Facebook: 9/9 en 63.89 seg.
2025-05-14 02:19:11,746 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_results_16042025.json
2025-05-14 02:19:11,748 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 9/9 exitosos en 63.89 segundos.
2025-05-14 02:19:11,750 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 63.89 seg.
2025-05-14 02:19:11,751 - lib.history_tracker - INFO - Añadidas 9 nuevas URLs al historial.
2025-05-14 02:19:11,752 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 52 URLs.
2025-05-14 02:19:11,753 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-14 02:19:12,421 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-4.pdf
2025-05-14 02:19:13,152 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-2.pdf
2025-05-14 02:19:13,878 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-3.pdf
2025-05-14 02:19:14,035 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-1.pdf
2025-05-14 02:19:14,742 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-5.pdf
2025-05-14 02:19:15,416 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-6.pdf
2025-05-14 02:19:16,123 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-7.pdf
2025-05-14 02:19:16,845 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-9.pdf
2025-05-14 02:19:16,906 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-8.pdf
2025-05-14 02:19:16,906 - lib.facebook_processor - INFO - Texto extraído de 9 PDFs de Facebook
2025-05-14 02:19:16,907 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 5.15 seg.
2025-05-14 02:19:16,907 - main_orchestrator - INFO - Texto extraído de 9 PDFs de Facebook
2025-05-14 02:19:16,908 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_16042025.json
2025-05-14 02:19:16,909 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_16042025.json
2025-05-14 02:19:16,909 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-14 02:19:16,909 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_16042025.json
2025-05-14 02:19:16,910 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_16042025.json
2025-05-14 02:19:16,910 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:19:16.909908', 'date_processed': '16042025', 'total_urls_in_pdf': 59, 'new_urls_processed_count': 59, 'history_total_urls': 52, 'categories': {'html': 33, 'images': 12, 'social': 14}, 'html_processing': {'attempted': 33, 'processed': 31, 'successful': 31, 'relevant (>=0.3)': 17, 'average_relevance': 0.48387096774193544}, 'image_processing': {'attempted_download': 12, 'successful_download': 12, 'attempted_api': 12, 'successful_api': 0}, 'facebook_processing': {'attempted': 9, 'successful': 9, 'extracted_texts': 9}, 'timings_seconds': {'pdf_extraction': 0.1, 'pdf_text_extraction': 5.15, 'image_download': 8.77, 'html_scraping': 24.19, 'image_api': 0.0, 'facebook_processing': 63.89, 'facebook_text_extraction': 5.15, 'stats_consolidation': 0.0}}
2025-05-14 02:19:16,911 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-14 02:19:16,911 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-14 02:19:16,912 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_16042025\pdf_text_16042025.json
2025-05-14 02:19:16,918 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_16042025.json
2025-05-14 02:19:16,919 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_16042025.json
2025-05-14 02:19:16,919 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-14 02:19:16,942 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-14 02:19:16,942 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-14 02:19:16,942 - semantic_cleaner - INFO - Extraídos 6 textos de PDF
2025-05-14 02:19:16,942 - semantic_cleaner - INFO - Extraídos 31 textos de HTML
2025-05-14 02:19:16,942 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-14 02:19:16,942 - semantic_cleaner - INFO - Extraídos 9 textos de Facebook
2025-05-14 02:19:23,516 - semantic_cleaner - INFO - Se identificaron 46 grupos de textos similares
2025-05-14 02:19:23,516 - semantic_cleaner - INFO - Se seleccionaron 46 textos representativos
2025-05-14 02:19:23,516 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-14 02:19:23,517 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_16042025.json
2025-05-14 02:19:23,517 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_16042025.json
2025-05-14 02:19:23,520 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_16042025.md
2025-05-14 02:19:23,528 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_16042025.md
2025-05-14 02:19:23,529 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_16042025.json
2025-05-14 02:19:23,529 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_16042025.json
2025-05-14 02:19:23,529 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:19:16.909908', 'date_processed': '16042025', 'total_urls_in_pdf': 59, 'new_urls_processed_count': 59, 'history_total_urls': 52, 'categories': {'html': 33, 'images': 12, 'social': 14}, 'html_processing': {'attempted': 33, 'processed': 31, 'successful': 31, 'relevant (>=0.3)': 17, 'average_relevance': 0.48387096774193544}, 'image_processing': {'attempted_download': 12, 'successful_download': 12, 'attempted_api': 12, 'successful_api': 0}, 'facebook_processing': {'attempted': 9, 'successful': 9, 'extracted_texts': 9}, 'timings_seconds': {'pdf_extraction': 0.1, 'pdf_text_extraction': 5.15, 'image_download': 8.77, 'html_scraping': 24.19, 'image_api': 0.0, 'facebook_processing': 63.89, 'facebook_text_extraction': 5.15, 'stats_consolidation': 0.0, 'semantic_cleaning': 6.61}}
2025-05-14 02:19:23,532 - main_orchestrator - INFO - Limpieza semántica completada en 6.61 seg.
2025-05-14 02:19:23,532 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-14 02:19:23,532 - facebook_extractor_fix - ERROR - No se encontró el archivo de textos de Facebook: C:\Jerson\SUNASS\2025\5_May\output\facebook_texts_16042025.json
2025-05-14 02:19:23,532 - main_orchestrator - WARNING - No se pudieron integrar los textos de Facebook en archivos limpios
2025-05-14 02:19:23,532 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-14 02:19:23,532 - main_orchestrator - INFO - ==================================================
2025-05-14 02:19:23,532 - main_orchestrator - INFO - PIPELINE FINALIZADO en 108.80 segundos.
2025-05-14 02:19:23,532 - main_orchestrator - INFO - ==================================================
2025-05-14 02:41:00,943 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-14 02:41:00,943 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-14 02:41:00,943 - main_orchestrator - INFO - Se usará la fecha proporcionada: 06052025
2025-05-14 02:41:00,943 - main_orchestrator - INFO - ==================================================
2025-05-14 02:41:00,943 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-14 02:41:00,943 - main_orchestrator - INFO - Usando fecha: 06052025
2025-05-14 02:41:00,943 - main_orchestrator - INFO - ==================================================
2025-05-14 02:41:00,943 - lib.config_manager - INFO - Configuración cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\config.yaml
2025-05-14 02:41:00,963 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\credentials/api_keys.yaml
2025-05-14 02:41:00,964 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-14 02:41:00,965 - lib.history_tracker - INFO - Historial cargado desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 52 URLs.
2025-05-14 02:41:00,965 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-14 02:41:00,965 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-14 02:41:00,966 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-14 02:41:00,966 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-14 02:41:00,966 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-14 02:41:00,966 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-14 02:41:00,997 - lib.pdf_processor - INFO - Abriendo PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:41:01,102 - lib.pdf_processor - INFO - Se extrajeron 57 enlaces URI (no mailto) de 06052025.pdf.
2025-05-14 02:41:01,102 - main_orchestrator - INFO - PDF procesado en 0.14 seg. Enlaces encontrados: 57
2025-05-14 02:41:01,107 - lib.file_manager - INFO - Datos guardados en CSV: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\In\links_extracted_06052025.csv
2025-05-14 02:41:01,107 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-14 02:41:01,110 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:41:01,130 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:41:01,130 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 4 párrafos
2025-05-14 02:41:01,130 - main_orchestrator - INFO - Texto del PDF extraído en 0.02 seg. Guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:41:01,130 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-14 02:41:01,130 - main_orchestrator - INFO - URLs nuevas para procesar: 57 (de 57 total)
2025-05-14 02:41:01,130 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-14 02:41:01,130 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-14 02:41:01,130 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-14 02:41:01,130 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-14 02:41:01,130 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-14 02:41:01,134 - lib.url_manager - INFO - Clasificación de 57 URLs:
2025-05-14 02:41:01,134 - lib.url_manager - INFO -  - HTML: 21
2025-05-14 02:41:01,134 - lib.url_manager - INFO -  - IMAGES: 6
2025-05-14 02:41:01,134 - lib.url_manager - INFO -  - SOCIAL: 30
2025-05-14 02:41:01,134 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_06052025_unprocessed.json
2025-05-14 02:41:01,136 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Social\social_links_06052025_unprocessed.json
2025-05-14 02:41:01,136 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-14 02:41:01,136 - lib.image_processor - INFO - Iniciando descarga paralela de 6 imágenes para la fecha 06052025...
2025-05-14 02:41:02,155 - lib.image_processor - WARNING - URL https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-C4-ANIEGO-EN-VENTANILLA-AFECTO-A-COLEGIO-PRIMERA-EDICION.mp4 contiene video/mp4, no una imagen. Se registrará como tipo no válido.
2025-05-14 02:41:02,171 - lib.image_processor - WARNING - URL https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-EXITOSA-ANIEGO-EN-AV-TOMAS-VALLE-EN-EL-CALLAO.mp3 contiene audio/mpeg, no una imagen. Se registrará como tipo no válido.
2025-05-14 02:41:03,102 - lib.image_processor - INFO - Imagen 4 guardada como 'img_4_9e84a0e9_06052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (331801 bytes)
2025-05-14 02:41:04,722 - lib.image_processor - INFO - Imagen 5 guardada como 'img_5_391db554_06052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (936303 bytes)
2025-05-14 02:41:05,205 - lib.image_processor - INFO - Imagen 6 guardada como 'img_6_c180ea3a_06052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (1122167 bytes)
2025-05-14 02:41:05,250 - lib.image_processor - INFO - Imagen 3 guardada como 'img_3_7b273d74_06052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (858252 bytes)
2025-05-14 02:41:07,731 - lib.image_processor - INFO - Imagen 2 guardada como 'img_2_c92d4982_06052025.mp3' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (1604336 bytes)
2025-05-14 02:41:08,158 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-EXITOSA-ANIEGO-EN-AV-TOMAS-VALLE-EN-EL-CALLAO.mp3: Content type 'audio/mpeg' is not an image
2025-05-14 02:41:49,214 - lib.image_processor - INFO - Imagen 1 guardada como 'img_1_be57c13d_06052025.mp4' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (34572743 bytes)
2025-05-14 02:41:49,995 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-C4-ANIEGO-EN-VENTANILLA-AFECTO-A-COLEGIO-PRIMERA-EDICION.mp4: Content type 'video/mp4' is not an image
2025-05-14 02:41:49,995 - lib.image_processor - INFO - Progreso descarga imágenes: 6/6 en 48.86 seg.
2025-05-14 02:41:49,995 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_06052025.json
2025-05-14 02:41:49,995 - lib.image_processor - INFO - Descarga de imágenes completada para 6/6 URLs en 48.86 segundos.
2025-05-14 02:41:49,995 - main_orchestrator - INFO - Descarga de imágenes completada en 48.86 seg.
2025-05-14 02:41:49,995 - lib.history_tracker - INFO - Añadidas 6 nuevas URLs al historial.
2025-05-14 02:41:49,995 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 58 URLs.
2025-05-14 02:41:49,995 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-14 02:41:49,995 - lib.html_scraper - INFO - Iniciando scraping paralelo de 21 URLs...
2025-05-14 02:41:59,281 - lib.html_scraper - INFO - Progreso: 20/21 URLs procesadas en 9.29 seg.
2025-05-14 02:41:59,594 - lib.html_scraper - INFO - Progreso: 21/21 URLs procesadas en 9.60 seg.
2025-05-14 02:41:59,604 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_06052025.json
2025-05-14 02:41:59,613 - lib.html_scraper - INFO - Scraping completado para 21/21 URLs en 9.61 segundos.
2025-05-14 02:41:59,613 - lib.html_scraper - INFO - Resultados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_06052025.json
2025-05-14 02:41:59,613 - main_orchestrator - INFO - Scraping HTML completado en 9.62 seg.
2025-05-14 02:41:59,613 - lib.history_tracker - INFO - Añadidas 20 nuevas URLs al historial.
2025-05-14 02:41:59,616 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 78 URLs.
2025-05-14 02:41:59,616 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-14 02:42:02,458 - lib.api_client - INFO - Texto extraído de tmp2sotv_rd.jpg (4 chars).
2025-05-14 02:42:02,458 - lib.image_processor - INFO - Procesando 6 imágenes con API (batch_size=3, pausa=60s)
2025-05-14 02:42:02,458 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-14 02:42:02,458 - lib.image_processor - INFO - Procesando imagen con API: img_4_9e84a0e9_06052025.jpg
2025-05-14 02:42:15,671 - lib.api_client - INFO - Texto extraído de img_4_9e84a0e9_06052025.jpg (3033 chars).
2025-05-14 02:42:17,869 - lib.image_processor - INFO - Imagen procesada exitosamente: img_4_9e84a0e9_06052025.jpg
2025-05-14 02:42:18,774 - lib.image_processor - INFO - Procesando imagen con API: img_5_391db554_06052025.jpg
2025-05-14 02:42:39,742 - lib.api_client - INFO - Texto extraído de img_5_391db554_06052025.jpg (4526 chars).
2025-05-14 02:42:41,984 - lib.image_processor - INFO - Imagen procesada exitosamente: img_5_391db554_06052025.jpg
2025-05-14 02:42:42,728 - lib.image_processor - INFO - Procesando imagen con API: img_3_7b273d74_06052025.jpg
2025-05-14 02:43:01,354 - lib.api_client - INFO - Texto extraído de img_3_7b273d74_06052025.jpg (3842 chars).
2025-05-14 02:43:02,725 - lib.image_processor - INFO - Imagen procesada exitosamente: img_3_7b273d74_06052025.jpg
2025-05-14 02:43:03,332 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-14 02:44:03,334 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-14 02:44:03,335 - lib.image_processor - INFO - Procesando imagen con API: img_6_c180ea3a_06052025.jpg
2025-05-14 02:44:36,992 - lib.api_client - INFO - Texto extraído de img_6_c180ea3a_06052025.jpg (9639 chars).
2025-05-14 02:44:39,706 - lib.image_processor - INFO - Imagen procesada exitosamente: img_6_c180ea3a_06052025.jpg
2025-05-14 02:44:40,460 - lib.image_processor - INFO - Procesando imagen con API: img_2_c92d4982_06052025.mp3
2025-05-14 02:44:40,554 - lib.image_processor - WARNING - Archivo no es una imagen válida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\img_2_c92d4982_06052025.mp3 (formato detectado: None)
2025-05-14 02:44:40,554 - lib.image_processor - WARNING - Error procesando imagen img_2_c92d4982_06052025.mp3: File is not a valid image
2025-05-14 02:44:41,163 - lib.image_processor - INFO - Procesando imagen con API: img_1_be57c13d_06052025.mp4
2025-05-14 02:44:41,165 - lib.image_processor - WARNING - Archivo demasiado grande para procesar eficientemente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\img_1_be57c13d_06052025.mp4 (32.97 MB)
2025-05-14 02:44:41,166 - lib.image_processor - WARNING - Error procesando imagen img_1_be57c13d_06052025.mp4: Image file too large
2025-05-14 02:44:42,147 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\texto_imagenes_api.json
2025-05-14 02:44:42,147 - lib.image_processor - INFO - Resultados de API guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\texto_imagenes_api.json
2025-05-14 02:44:42,147 - lib.image_processor - INFO - Procesamiento API completado para 4/6 imágenes en 159.69 segundos.
2025-05-14 02:44:42,147 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 162.53 seg.
2025-05-14 02:44:42,147 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-14 02:44:42,147 - main_orchestrator - INFO - Leyendo archivo social para la fecha 06052025: social_links_06052025_unprocessed.json
2025-05-14 02:44:42,147 - main_orchestrator - INFO - Encontradas 30 URLs de Facebook para procesar
2025-05-14 02:44:42,147 - main_orchestrator - INFO - Creado directorio para PDFs: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025
2025-05-14 02:44:42,152 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output
2025-05-14 02:44:42,152 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 30 URLs de Facebook para la fecha 06052025...
2025-05-14 02:44:42,152 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/share/p/1AVpMfDczs/
2025-05-14 02:44:42,152 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/share/p/15kUeKXC6H/
2025-05-14 02:44:42,154 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/share/p/15qghShx33/
2025-05-14 02:44:42,157 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/share/p/1F8gx4wghr/
2025-05-14 02:44:42,160 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/100066732634603/posts/1028868266014252/?rdid=0TcKPOXhtH3yWKZy
2025-05-14 02:45:15,707 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-3.pdf
2025-05-14 02:45:16,234 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-4.pdf
2025-05-14 02:45:16,762 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-5.pdf
2025-05-14 02:45:17,321 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-2.pdf
2025-05-14 02:45:18,115 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-1.pdf
2025-05-14 02:45:19,964 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/share/v/1XctzAahok/
2025-05-14 02:45:20,079 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/share/p/192GFaU29S/
2025-05-14 02:45:21,064 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/share/p/1EhkoFiaV2/
2025-05-14 02:45:22,393 - lib.facebook_processor - INFO - Procesando URL de Facebook (9): https://www.facebook.com/share/1BocxKr6Qn/
2025-05-14 02:45:23,310 - lib.facebook_processor - INFO - Progreso Facebook: 5/30 en 41.16 seg.
2025-05-14 02:45:23,310 - lib.facebook_processor - INFO - Procesando URL de Facebook (10): https://www.facebook.com/share/p/15hTeYeevY/
2025-05-14 02:45:36,834 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-7.pdf
2025-05-14 02:45:40,734 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-8.pdf
2025-05-14 02:45:41,862 - lib.facebook_processor - INFO - Procesando URL de Facebook (11): https://www.facebook.com/share/p/1HKaVAnoJ2/
2025-05-14 02:45:44,372 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-6.pdf
2025-05-14 02:45:44,987 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-9.pdf
2025-05-14 02:45:45,314 - lib.facebook_processor - INFO - Procesando URL de Facebook (12): https://www.facebook.com/share/p/1BHpQk4mih/
2025-05-14 02:45:47,647 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-10.pdf
2025-05-14 02:45:48,496 - lib.facebook_processor - INFO - Procesando URL de Facebook (13): https://www.facebook.com/share/p/19dJjceBSW/
2025-05-14 02:45:49,233 - lib.facebook_processor - INFO - Procesando URL de Facebook (14): https://www.facebook.com/share/p/19dJjceBSW/
2025-05-14 02:45:51,737 - lib.facebook_processor - INFO - Progreso Facebook: 10/30 en 69.59 seg.
2025-05-14 02:45:51,739 - lib.facebook_processor - INFO - Procesando URL de Facebook (15): https://www.facebook.com/share/p/1AFoGitX4y/
2025-05-14 02:45:59,655 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-11.pdf
2025-05-14 02:46:02,175 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-12.pdf
2025-05-14 02:46:03,922 - lib.facebook_processor - INFO - Procesando URL de Facebook (16): https://www.facebook.com/share/p/18sg1mx7nx/
2025-05-14 02:46:07,308 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-13.pdf
2025-05-14 02:46:07,607 - lib.facebook_processor - INFO - Procesando URL de Facebook (17): https://www.facebook.com/share/p/1AF49nK1oy/
2025-05-14 02:46:10,992 - lib.facebook_processor - INFO - Procesando URL de Facebook (18): https://www.facebook.com/share/p/199xMHfuQ1/
2025-05-14 02:46:11,256 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-14.pdf
2025-05-14 02:46:14,147 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-15.pdf
2025-05-14 02:46:15,116 - lib.facebook_processor - INFO - Procesando URL de Facebook (19): https://www.facebook.com/share/p/199xMHfuQ1/
2025-05-14 02:46:21,008 - lib.facebook_processor - INFO - Procesando URL de Facebook (20): https://www.facebook.com/share/p/16NkHjJEFu/
2025-05-14 02:46:21,008 - lib.facebook_processor - INFO - Progreso Facebook: 15/30 en 98.86 seg.
2025-05-14 02:46:26,421 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-16.pdf
2025-05-14 02:46:30,766 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-18.pdf
2025-05-14 02:46:31,508 - lib.facebook_processor - INFO - Procesando URL de Facebook (21): https://www.facebook.com/share/p/1BWGygN4TC/
2025-05-14 02:46:31,786 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-17.pdf
2025-05-14 02:46:33,973 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-19.pdf
2025-05-14 02:46:35,164 - lib.facebook_processor - INFO - Procesando URL de Facebook (22): https://www.facebook.com/share/p/1Sjz8hsc8Y/
2025-05-14 02:46:36,809 - lib.facebook_processor - INFO - Procesando URL de Facebook (23): https://www.facebook.com/share/p/1JjuDqfNCm/
2025-05-14 02:46:37,588 - lib.facebook_processor - INFO - Procesando URL de Facebook (24): https://www.facebook.com/share/p/1Bf7UDZiQk/
2025-05-14 02:46:41,175 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-20.pdf
2025-05-14 02:46:46,231 - lib.facebook_processor - INFO - Progreso Facebook: 20/30 en 124.08 seg.
2025-05-14 02:46:46,232 - lib.facebook_processor - INFO - Procesando URL de Facebook (25): https://www.facebook.com/share/p/1Bf7UDZiQk/
2025-05-14 02:46:49,064 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-21.pdf
2025-05-14 02:46:54,676 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-22.pdf
2025-05-14 02:46:55,698 - lib.facebook_processor - INFO - Procesando URL de Facebook (26): https://www.facebook.com/story.php?story_fbid=1196662068921517&id=100057332054648&rdid=jk2mBuzI4yy4LORe
2025-05-14 02:46:58,741 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-23.pdf
2025-05-14 02:46:58,803 - lib.facebook_processor - INFO - Procesando URL de Facebook (27): https://www.facebook.com/story.php?story_fbid=1242392167888479&id=100063531222092&rdid=RHrPxg3nx2KofPcH
2025-05-14 02:47:02,375 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-24.pdf
2025-05-14 02:47:03,100 - lib.facebook_processor - INFO - Procesando URL de Facebook (28): https://www.facebook.com/share/p/15VZ5ExH6Q/
2025-05-14 02:47:07,052 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-25.pdf
2025-05-14 02:47:07,081 - lib.facebook_processor - INFO - Procesando URL de Facebook (29): https://www.facebook.com/share/p/1Edis5Q4Wn/
2025-05-14 02:47:12,376 - lib.facebook_processor - INFO - Procesando URL de Facebook (30): https://www.facebook.com/share/p/1Edis5Q4Wn/
2025-05-14 02:47:12,376 - lib.facebook_processor - INFO - Progreso Facebook: 25/30 en 150.22 seg.
2025-05-14 02:47:15,384 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-26.pdf
2025-05-14 02:47:16,573 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-27.pdf
2025-05-14 02:47:20,792 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-28.pdf
2025-05-14 02:47:24,633 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-29.pdf
2025-05-14 02:47:31,038 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-30.pdf
2025-05-14 02:47:35,776 - lib.facebook_processor - INFO - Progreso Facebook: 30/30 en 173.62 seg.
2025-05-14 02:47:35,777 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_results_06052025.json
2025-05-14 02:47:35,777 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 26/30 exitosos en 173.62 segundos.
2025-05-14 02:47:35,777 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 173.63 seg.
2025-05-14 02:47:35,777 - lib.history_tracker - INFO - Añadidas 26 nuevas URLs al historial.
2025-05-14 02:47:35,777 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 104 URLs.
2025-05-14 02:47:35,777 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-14 02:47:36,468 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-3.pdf
2025-05-14 02:47:36,682 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-5.pdf
2025-05-14 02:47:37,452 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-4.pdf
2025-05-14 02:47:38,102 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-1.pdf
2025-05-14 02:47:38,841 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-2.pdf
2025-05-14 02:47:39,081 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-7.pdf
2025-05-14 02:47:39,383 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-8.pdf
2025-05-14 02:47:39,532 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-6.pdf
2025-05-14 02:47:39,695 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-9.pdf
2025-05-14 02:47:39,826 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-10.pdf
2025-05-14 02:47:39,984 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-11.pdf
2025-05-14 02:47:40,126 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-12.pdf
2025-05-14 02:47:40,830 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-14.pdf
2025-05-14 02:47:41,617 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-15.pdf
2025-05-14 02:47:41,771 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-16.pdf
2025-05-14 02:47:41,920 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-19.pdf
2025-05-14 02:47:42,066 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-17.pdf
2025-05-14 02:47:42,220 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-20.pdf
2025-05-14 02:47:42,421 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-21.pdf
2025-05-14 02:47:42,590 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-22.pdf
2025-05-14 02:47:43,259 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-23.pdf
2025-05-14 02:47:43,519 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-25.pdf
2025-05-14 02:47:43,596 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-26.pdf
2025-05-14 02:47:43,673 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-27.pdf
2025-05-14 02:47:44,384 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-28.pdf
2025-05-14 02:47:44,555 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-30.pdf
2025-05-14 02:47:44,555 - lib.facebook_processor - INFO - Texto extraído de 26 PDFs de Facebook
2025-05-14 02:47:44,555 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 8.78 seg.
2025-05-14 02:47:44,555 - main_orchestrator - INFO - Texto extraído de 26 PDFs de Facebook
2025-05-14 02:47:44,555 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_06052025.json
2025-05-14 02:47:44,555 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_06052025.json
2025-05-14 02:47:44,555 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-14 02:47:44,565 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:47:44,566 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:47:44,567 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:47:44.555435', 'date_processed': '06052025', 'total_urls_in_pdf': 57, 'new_urls_processed_count': 57, 'history_total_urls': 104, 'categories': {'html': 21, 'images': 6, 'social': 30}, 'html_processing': {'attempted': 21, 'processed': 20, 'successful': 20, 'relevant (>=0.3)': 13, 'average_relevance': 0.55}, 'image_processing': {'attempted_download': 6, 'successful_download': 4, 'attempted_api': 4, 'successful_api': 4}, 'facebook_processing': {'attempted': 30, 'successful': 26, 'extracted_texts': 26}, 'timings_seconds': {'pdf_extraction': 0.14, 'pdf_text_extraction': 8.78, 'image_download': 48.86, 'html_scraping': 9.62, 'image_api': 162.53, 'facebook_processing': 173.63, 'facebook_text_extraction': 8.78, 'stats_consolidation': 0.0}}
2025-05-14 02:47:44,567 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-14 02:47:44,568 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-14 02:47:44,569 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:47:44,571 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_06052025.json
2025-05-14 02:47:44,571 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_06052025.json
2025-05-14 02:47:44,571 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-14 02:47:44,605 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-14 02:47:44,614 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-14 02:47:44,615 - semantic_cleaner - INFO - Extraídos 4 textos de PDF
2025-05-14 02:47:44,615 - semantic_cleaner - INFO - Extraídos 20 textos de HTML
2025-05-14 02:47:44,616 - main_orchestrator - ERROR - Error durante la limpieza semántica: 'list' object has no attribute 'items'
Traceback (most recent call last):
  File "C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\main3.py", line 637, in run_pipeline
    cleaned_json = cleaner.clean_consolidated_json(json_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\semantic_cleaner\semantic_cleaner.py", line 338, in clean_consolidated_json
    image_texts = self._extract_texts_from_images(image_data)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\semantic_cleaner\semantic_cleaner.py", line 121, in _extract_texts_from_images
    for image_key, image_info in image_data.items():
                                 ^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'items'
2025-05-14 02:47:44,621 - main_orchestrator - WARNING - La limpieza semántica falló, pero el proceso principal continúa.
2025-05-14 02:47:44,621 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-14 02:47:44,621 - main_orchestrator - INFO - ==================================================
2025-05-14 02:47:44,621 - main_orchestrator - INFO - PIPELINE FINALIZADO en 403.68 segundos.
2025-05-14 02:47:44,621 - main_orchestrator - INFO - ==================================================
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Se usará la fecha proporcionada: 06052025
2025-05-14 02:57:40,290 - main_orchestrator - INFO - ==================================================
2025-05-14 02:57:40,290 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Usando fecha: 06052025
2025-05-14 02:57:40,290 - main_orchestrator - INFO - ==================================================
2025-05-14 02:57:40,290 - lib.config_manager - INFO - Configuración cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\config.yaml
2025-05-14 02:57:40,290 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\credentials/api_keys.yaml
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-14 02:57:40,290 - lib.history_tracker - INFO - Historial cargado desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 104 URLs.
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-14 02:57:40,290 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-14 02:57:40,290 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-14 02:57:40,290 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-14 02:57:40,290 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-14 02:57:40,296 - lib.pdf_processor - INFO - Abriendo PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:57:40,391 - lib.pdf_processor - INFO - Se extrajeron 57 enlaces URI (no mailto) de 06052025.pdf.
2025-05-14 02:57:40,391 - main_orchestrator - INFO - PDF procesado en 0.10 seg. Enlaces encontrados: 57
2025-05-14 02:57:40,399 - lib.file_manager - INFO - Datos guardados en CSV: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\In\links_extracted_06052025.csv
2025-05-14 02:57:40,399 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-14 02:57:40,400 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:57:40,416 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:57:40,416 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 4 párrafos
2025-05-14 02:57:40,416 - main_orchestrator - INFO - Texto del PDF extraído en 0.02 seg. Guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:57:40,416 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-14 02:57:40,416 - lib.history_tracker - INFO - Filtradas 57 URLs ya procesadas del lote actual.
2025-05-14 02:57:40,416 - main_orchestrator - INFO - URLs nuevas para procesar: 0 (de 57 total)
2025-05-14 02:57:40,416 - main_orchestrator - INFO - No hay URLs nuevas para procesar en esta ejecución.
2025-05-14 02:57:40,417 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:57:40,417 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:57:40,417 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:57:40.416852', 'date_processed': '06052025', 'total_urls_in_pdf': 57, 'new_urls_processed_count': 0, 'history_total_urls': 104, 'info': 'No new URLs to process in this run.'}
2025-05-14 02:57:40,417 - main_orchestrator - INFO - Estadísticas guardadas en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:57:40,417 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-14 02:57:40,417 - main_orchestrator - INFO - ==================================================
2025-05-14 02:57:40,417 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.13 segundos.
2025-05-14 02:57:40,417 - main_orchestrator - INFO - ==================================================
2025-05-14 02:58:11,770 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Se usará la fecha proporcionada: 06052025
2025-05-14 02:58:11,778 - main_orchestrator - INFO - ==================================================
2025-05-14 02:58:11,778 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Usando fecha: 06052025
2025-05-14 02:58:11,778 - main_orchestrator - INFO - ==================================================
2025-05-14 02:58:11,778 - lib.config_manager - INFO - Configuración cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\config.yaml
2025-05-14 02:58:11,778 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\credentials/api_keys.yaml
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-14 02:58:11,778 - lib.history_tracker - INFO - Archivo de historial no encontrado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json. Se creará uno nuevo al guardar.
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-14 02:58:11,778 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-14 02:58:11,778 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-14 02:58:11,778 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-14 02:58:11,778 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-14 02:58:11,778 - lib.pdf_processor - INFO - Abriendo PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:58:11,874 - lib.pdf_processor - INFO - Se extrajeron 57 enlaces URI (no mailto) de 06052025.pdf.
2025-05-14 02:58:11,874 - main_orchestrator - INFO - PDF procesado en 0.10 seg. Enlaces encontrados: 57
2025-05-14 02:58:11,884 - lib.file_manager - INFO - Datos guardados en CSV: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\In\links_extracted_06052025.csv
2025-05-14 02:58:11,884 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-14 02:58:11,885 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:58:11,903 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:58:11,903 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 4 párrafos
2025-05-14 02:58:11,903 - main_orchestrator - INFO - Texto del PDF extraído en 0.02 seg. Guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:58:11,903 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-14 02:58:11,903 - main_orchestrator - INFO - URLs nuevas para procesar: 57 (de 57 total)
2025-05-14 02:58:11,903 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-14 02:58:11,903 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-14 02:58:11,904 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-14 02:58:11,904 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-14 02:58:11,904 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-14 02:58:11,905 - lib.url_manager - INFO - Clasificación de 57 URLs:
2025-05-14 02:58:11,905 - lib.url_manager - INFO -  - HTML: 21
2025-05-14 02:58:11,905 - lib.url_manager - INFO -  - IMAGES: 6
2025-05-14 02:58:11,906 - lib.url_manager - INFO -  - SOCIAL: 30
2025-05-14 02:58:11,906 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_06052025_unprocessed.json
2025-05-14 02:58:11,907 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Social\social_links_06052025_unprocessed.json
2025-05-14 02:58:11,907 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-14 02:58:11,907 - lib.image_processor - INFO - Iniciando descarga paralela de 6 imágenes para la fecha 06052025...
2025-05-14 02:58:11,923 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-C4-ANIEGO-EN-VENTANILLA-AFECTO-A-COLEGIO-PRIMERA-EDICION.mp4: Content type 'video/mp4' is not an image
2025-05-14 02:58:11,926 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-EXITOSA-ANIEGO-EN-AV-TOMAS-VALLE-EN-EL-CALLAO.mp3: Content type 'audio/mpeg' is not an image
2025-05-14 02:58:11,930 - lib.image_processor - INFO - Progreso descarga imágenes: 6/6 en 0.02 seg.
2025-05-14 02:58:11,931 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_06052025.json
2025-05-14 02:58:11,932 - lib.image_processor - INFO - Descarga de imágenes completada para 6/6 URLs en 0.03 segundos.
2025-05-14 02:58:11,932 - main_orchestrator - INFO - Descarga de imágenes completada en 0.03 seg.
2025-05-14 02:58:11,932 - lib.history_tracker - INFO - Añadidas 6 nuevas URLs al historial.
2025-05-14 02:58:11,932 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 6 URLs.
2025-05-14 02:58:11,933 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-14 02:58:11,933 - lib.html_scraper - INFO - Iniciando scraping paralelo de 21 URLs...
2025-05-14 02:58:12,021 - lib.html_scraper - INFO - Progreso: 20/21 URLs procesadas en 0.09 seg.
2025-05-14 02:58:12,021 - lib.html_scraper - INFO - Progreso: 21/21 URLs procesadas en 0.09 seg.
2025-05-14 02:58:12,026 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_06052025.json
2025-05-14 02:58:12,026 - lib.html_scraper - INFO - Scraping completado para 21/21 URLs en 0.09 segundos.
2025-05-14 02:58:12,026 - lib.html_scraper - INFO - Resultados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_06052025.json
2025-05-14 02:58:12,026 - main_orchestrator - INFO - Scraping HTML completado en 0.09 seg.
2025-05-14 02:58:12,026 - lib.history_tracker - INFO - Añadidas 20 nuevas URLs al historial.
2025-05-14 02:58:12,027 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 26 URLs.
2025-05-14 02:58:12,028 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-14 02:58:14,952 - lib.api_client - INFO - Texto extraído de tmp8yl84xd4.jpg (4 chars).
2025-05-14 02:58:14,955 - lib.image_processor - INFO - Procesando 6 imágenes con API (batch_size=3, pausa=60s)
2025-05-14 02:58:14,955 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-14 02:58:14,955 - lib.image_processor - INFO - Procesando imagen con API: img_1_be57c13d_06052025.mp4
2025-05-14 02:58:14,955 - lib.image_processor - WARNING - Archivo demasiado grande para procesar eficientemente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\img_1_be57c13d_06052025.mp4 (32.97 MB)
2025-05-14 02:58:14,955 - lib.image_processor - WARNING - Error procesando imagen img_1_be57c13d_06052025.mp4: Image file too large
2025-05-14 02:58:15,508 - lib.image_processor - INFO - Procesando imagen con API: img_2_c92d4982_06052025.mp3
2025-05-14 02:58:15,552 - lib.image_processor - WARNING - Archivo no es una imagen válida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\img_2_c92d4982_06052025.mp3 (formato detectado: None)
2025-05-14 02:58:15,552 - lib.image_processor - WARNING - Error procesando imagen img_2_c92d4982_06052025.mp3: File is not a valid image
2025-05-14 02:58:16,139 - lib.image_processor - INFO - Procesando imagen con API: img_6_c180ea3a_06052025.jpg
2025-05-14 02:58:16,214 - lib.image_processor - INFO - Imagen img_6_c180ea3a_06052025.jpg visualmente similar a otra ya procesada
2025-05-14 02:58:16,232 - lib.image_processor - INFO - Imagen procesada exitosamente: img_6_c180ea3a_06052025.jpg
2025-05-14 02:58:17,175 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-14 02:59:17,176 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-14 02:59:17,176 - lib.image_processor - INFO - Procesando imagen con API: img_3_7b273d74_06052025.jpg
2025-05-14 02:59:17,245 - lib.image_processor - INFO - Imagen img_3_7b273d74_06052025.jpg visualmente similar a otra ya procesada
2025-05-14 02:59:17,262 - lib.image_processor - INFO - Imagen procesada exitosamente: img_3_7b273d74_06052025.jpg
2025-05-14 02:59:17,942 - lib.image_processor - INFO - Procesando imagen con API: img_4_9e84a0e9_06052025.jpg
2025-05-14 02:59:17,979 - lib.image_processor - INFO - Imagen img_4_9e84a0e9_06052025.jpg visualmente similar a otra ya procesada
2025-05-14 02:59:17,994 - lib.image_processor - INFO - Imagen procesada exitosamente: img_4_9e84a0e9_06052025.jpg
2025-05-14 02:59:18,599 - lib.image_processor - INFO - Procesando imagen con API: img_5_391db554_06052025.jpg
2025-05-14 02:59:18,686 - lib.image_processor - INFO - Imagen img_5_391db554_06052025.jpg visualmente similar a otra ya procesada
2025-05-14 02:59:18,704 - lib.image_processor - INFO - Imagen procesada exitosamente: img_5_391db554_06052025.jpg
2025-05-14 02:59:19,461 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\texto_imagenes_api.json
2025-05-14 02:59:19,461 - lib.image_processor - INFO - Resultados de API guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\texto_imagenes_api.json
2025-05-14 02:59:19,461 - lib.image_processor - INFO - Procesamiento API completado para 4/6 imágenes en 64.51 segundos.
2025-05-14 02:59:19,461 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 67.43 seg.
2025-05-14 02:59:19,461 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-14 02:59:19,462 - main_orchestrator - INFO - Leyendo archivo social para la fecha 06052025: social_links_06052025_unprocessed.json
2025-05-14 02:59:19,462 - main_orchestrator - INFO - Encontradas 30 URLs de Facebook para procesar
2025-05-14 02:59:19,462 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output
2025-05-14 02:59:19,462 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 30 URLs de Facebook para la fecha 06052025...
2025-05-14 02:59:19,495 - lib.facebook_processor - INFO - Progreso Facebook: 5/30 en 0.03 seg.
2025-05-14 02:59:19,512 - lib.facebook_processor - INFO - Progreso Facebook: 10/30 en 0.05 seg.
2025-05-14 02:59:19,528 - lib.facebook_processor - INFO - Progreso Facebook: 15/30 en 0.07 seg.
2025-05-14 02:59:19,540 - lib.facebook_processor - INFO - Progreso Facebook: 20/30 en 0.08 seg.
2025-05-14 02:59:19,550 - lib.facebook_processor - INFO - Progreso Facebook: 25/30 en 0.09 seg.
2025-05-14 02:59:19,560 - lib.facebook_processor - INFO - Progreso Facebook: 30/30 en 0.10 seg.
2025-05-14 02:59:19,564 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_results_06052025.json
2025-05-14 02:59:19,564 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 26/30 exitosos en 0.10 segundos.
2025-05-14 02:59:19,564 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 0.10 seg.
2025-05-14 02:59:19,564 - lib.history_tracker - INFO - Añadidas 26 nuevas URLs al historial.
2025-05-14 02:59:19,565 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 52 URLs.
2025-05-14 02:59:19,565 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-14 02:59:19,630 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-3.pdf
2025-05-14 02:59:19,669 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-2.pdf
2025-05-14 02:59:19,711 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-1.pdf
2025-05-14 02:59:19,755 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-4.pdf
2025-05-14 02:59:19,800 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-9.pdf
2025-05-14 02:59:19,937 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-7.pdf
2025-05-14 02:59:19,968 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-6.pdf
2025-05-14 02:59:20,015 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-5.pdf
2025-05-14 02:59:20,050 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-8.pdf
2025-05-14 02:59:20,092 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-10.pdf
2025-05-14 02:59:20,132 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-14.pdf
2025-05-14 02:59:20,169 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-11.pdf
2025-05-14 02:59:20,206 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-12.pdf
2025-05-14 02:59:20,247 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-17.pdf
2025-05-14 02:59:20,285 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-15.pdf
2025-05-14 02:59:20,399 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-16.pdf
2025-05-14 02:59:20,441 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-19.pdf
2025-05-14 02:59:20,482 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-21.pdf
2025-05-14 02:59:20,529 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-20.pdf
2025-05-14 02:59:20,573 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-25.pdf
2025-05-14 02:59:20,611 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-22.pdf
2025-05-14 02:59:20,647 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-23.pdf
2025-05-14 02:59:20,656 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-26.pdf
2025-05-14 02:59:20,691 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-30.pdf
2025-05-14 02:59:20,700 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-27.pdf
2025-05-14 02:59:20,735 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-28.pdf
2025-05-14 02:59:20,735 - lib.facebook_processor - INFO - Texto extraído de 26 PDFs de Facebook
2025-05-14 02:59:20,735 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 1.17 seg.
2025-05-14 02:59:20,735 - main_orchestrator - INFO - Texto extraído de 26 PDFs de Facebook
2025-05-14 02:59:20,736 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_06052025.json
2025-05-14 02:59:20,737 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_06052025.json
2025-05-14 02:59:20,737 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-14 02:59:20,737 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:59:20,738 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:59:20,738 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:59:20.737237', 'date_processed': '06052025', 'total_urls_in_pdf': 57, 'new_urls_processed_count': 57, 'history_total_urls': 52, 'categories': {'html': 21, 'images': 6, 'social': 30}, 'html_processing': {'attempted': 21, 'processed': 20, 'successful': 20, 'relevant (>=0.3)': 13, 'average_relevance': 0.55}, 'image_processing': {'attempted_download': 6, 'successful_download': 4, 'attempted_api': 4, 'successful_api': 4}, 'facebook_processing': {'attempted': 30, 'successful': 26, 'extracted_texts': 26}, 'timings_seconds': {'pdf_extraction': 0.1, 'pdf_text_extraction': 1.17, 'image_download': 0.03, 'html_scraping': 0.09, 'image_api': 67.43, 'facebook_processing': 0.1, 'facebook_text_extraction': 1.17, 'stats_consolidation': 0.0}}
2025-05-14 02:59:20,738 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-14 02:59:20,738 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-14 02:59:20,738 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:59:20,741 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_06052025.json
2025-05-14 02:59:20,741 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_06052025.json
2025-05-14 02:59:20,741 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-14 02:59:20,757 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-14 02:59:20,757 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-14 02:59:20,757 - semantic_cleaner - INFO - Extraídos 4 textos de PDF
2025-05-14 02:59:20,757 - semantic_cleaner - INFO - Extraídos 20 textos de HTML
2025-05-14 02:59:20,757 - semantic_cleaner - INFO - Extraídos 4 textos de imágenes
2025-05-14 02:59:20,757 - semantic_cleaner - INFO - Extraídos 26 textos de Facebook
2025-05-14 02:59:29,408 - semantic_cleaner - INFO - Se identificaron 53 grupos de textos similares
2025-05-14 02:59:29,408 - semantic_cleaner - INFO - Se seleccionaron 53 textos representativos
2025-05-14 02:59:29,408 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-14 02:59:29,408 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_06052025.json
2025-05-14 02:59:29,412 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_06052025.json
2025-05-14 02:59:29,412 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_06052025.md
2025-05-14 02:59:29,418 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_06052025.md
2025-05-14 02:59:29,418 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:59:29,418 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:59:29,418 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:59:20.737237', 'date_processed': '06052025', 'total_urls_in_pdf': 57, 'new_urls_processed_count': 57, 'history_total_urls': 52, 'categories': {'html': 21, 'images': 6, 'social': 30}, 'html_processing': {'attempted': 21, 'processed': 20, 'successful': 20, 'relevant (>=0.3)': 13, 'average_relevance': 0.55}, 'image_processing': {'attempted_download': 6, 'successful_download': 4, 'attempted_api': 4, 'successful_api': 4}, 'facebook_processing': {'attempted': 30, 'successful': 26, 'extracted_texts': 26}, 'timings_seconds': {'pdf_extraction': 0.1, 'pdf_text_extraction': 1.17, 'image_download': 0.03, 'html_scraping': 0.09, 'image_api': 67.43, 'facebook_processing': 0.1, 'facebook_text_extraction': 1.17, 'stats_consolidation': 0.0, 'semantic_cleaning': 8.68}}
2025-05-14 02:59:29,419 - main_orchestrator - INFO - Limpieza semántica completada en 8.68 seg.
2025-05-14 02:59:29,419 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-14 02:59:29,419 - facebook_extractor_fix - ERROR - No se encontró el archivo de textos de Facebook: C:\Jerson\SUNASS\2025\5_May\output\facebook_texts_06052025.json
2025-05-14 02:59:29,419 - main_orchestrator - WARNING - No se pudieron integrar los textos de Facebook en archivos limpios
2025-05-14 02:59:29,419 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-14 02:59:29,419 - main_orchestrator - INFO - ==================================================
2025-05-14 02:59:29,419 - main_orchestrator - INFO - PIPELINE FINALIZADO en 77.64 segundos.
2025-05-14 02:59:29,419 - main_orchestrator - INFO - ==================================================
2025-05-14 02:59:56,285 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-14 02:59:56,285 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-14 02:59:56,285 - main_orchestrator - INFO - Se usará la fecha proporcionada: 07052025
2025-05-14 02:59:56,285 - main_orchestrator - INFO - ==================================================
2025-05-14 02:59:56,285 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-14 02:59:56,285 - main_orchestrator - INFO - Usando fecha: 07052025
2025-05-14 02:59:56,285 - main_orchestrator - INFO - ==================================================
2025-05-14 02:59:56,292 - lib.config_manager - INFO - Configuración cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\config.yaml
2025-05-14 02:59:56,292 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\credentials/api_keys.yaml
2025-05-14 02:59:56,292 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-14 02:59:56,295 - lib.history_tracker - INFO - Historial cargado desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 52 URLs.
2025-05-14 02:59:56,297 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-14 02:59:56,297 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-14 02:59:56,297 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-14 02:59:56,297 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-14 02:59:56,298 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-14 02:59:56,298 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-14 02:59:56,324 - lib.pdf_processor - INFO - Abriendo PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025.pdf (4 páginas)
2025-05-14 02:59:56,528 - lib.pdf_processor - INFO - Se extrajeron 99 enlaces URI (no mailto) de 07052025.pdf.
2025-05-14 02:59:56,528 - main_orchestrator - INFO - PDF procesado en 0.23 seg. Enlaces encontrados: 99
2025-05-14 02:59:56,533 - lib.file_manager - INFO - Datos guardados en CSV: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\In\links_extracted_07052025.csv
2025-05-14 02:59:56,533 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-14 02:59:56,533 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025.pdf (4 páginas)
2025-05-14 02:59:56,561 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_07052025\pdf_text_07052025.json
2025-05-14 02:59:56,564 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 4 párrafos
2025-05-14 02:59:56,564 - main_orchestrator - INFO - Texto del PDF extraído en 0.03 seg. Guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_07052025\pdf_text_07052025.json
2025-05-14 02:59:56,564 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-14 02:59:56,564 - lib.history_tracker - INFO - Filtradas 2 URLs ya procesadas del lote actual.
2025-05-14 02:59:56,564 - main_orchestrator - INFO - URLs nuevas para procesar: 97 (de 99 total)
2025-05-14 02:59:56,565 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-14 02:59:56,565 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-14 02:59:56,565 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-14 02:59:56,566 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-14 02:59:56,566 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-14 02:59:56,566 - lib.url_manager - INFO - Clasificación de 97 URLs:
2025-05-14 02:59:56,566 - lib.url_manager - INFO -  - HTML: 28
2025-05-14 02:59:56,566 - lib.url_manager - INFO -  - IMAGES: 7
2025-05-14 02:59:56,566 - lib.url_manager - INFO -  - SOCIAL: 62
2025-05-14 02:59:56,566 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_07052025_unprocessed.json
2025-05-14 02:59:56,570 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Social\social_links_07052025_unprocessed.json
2025-05-14 02:59:56,571 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-14 02:59:56,571 - lib.image_processor - INFO - Iniciando descarga paralela de 7 imágenes para la fecha 07052025...
2025-05-14 02:59:57,440 - lib.image_processor - WARNING - URL http://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-C31-EL-ESTADO-A-TU-SERVICIO-ESPECIALIZACION-DE-ALUMNOS-EN-SANEAMIENTO.mp4 contiene video/mp4, no una imagen. Se registrará como tipo no válido.
2025-05-14 02:59:58,623 - lib.image_processor - INFO - Imagen 3 guardada como 'img_3_58337370_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (181882 bytes)
2025-05-14 02:59:58,645 - lib.image_processor - INFO - Imagen 4 guardada como 'img_4_acc2869d_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (189683 bytes)
2025-05-14 02:59:59,208 - lib.image_processor - INFO - Imagen 7 guardada como 'img_7_2574b789_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (266961 bytes)
2025-05-14 03:00:05,925 - lib.image_processor - INFO - Imagen 6 guardada como 'img_6_2f0f4648_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (929524 bytes)
2025-05-14 03:00:05,946 - lib.image_processor - INFO - Imagen 5 guardada como 'img_5_3b1a9efd_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (770580 bytes)
2025-05-14 03:00:06,828 - lib.image_processor - INFO - Imagen 1 guardada como 'img_1_4259ce81_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (265440 bytes)
2025-05-14 03:01:03,383 - lib.image_processor - INFO - Imagen 2 guardada como 'img_2_0940cb8a_07052025.mp4' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (60376403 bytes)
2025-05-14 03:01:03,766 - lib.image_processor - WARNING - Error procesando imagen http://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-C31-EL-ESTADO-A-TU-SERVICIO-ESPECIALIZACION-DE-ALUMNOS-EN-SANEAMIENTO.mp4: Content type 'video/mp4' is not an image
2025-05-14 03:01:03,767 - lib.image_processor - INFO - Progreso descarga imágenes: 7/7 en 67.20 seg.
2025-05-14 03:01:03,770 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_07052025.json
2025-05-14 03:01:03,770 - lib.image_processor - INFO - Descarga de imágenes completada para 7/7 URLs en 67.20 segundos.
2025-05-14 03:01:03,770 - main_orchestrator - INFO - Descarga de imágenes completada en 67.20 seg.
2025-05-14 03:01:03,771 - lib.history_tracker - INFO - Añadidas 7 nuevas URLs al historial.
2025-05-14 03:01:03,772 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 59 URLs.
2025-05-14 03:01:03,772 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-14 03:01:03,772 - lib.html_scraper - INFO - Iniciando scraping paralelo de 28 URLs...
2025-05-14 03:01:10,561 - lib.html_scraper - INFO - Progreso: 20/28 URLs procesadas en 6.79 seg.
2025-05-14 03:01:14,022 - lib.html_scraper - INFO - Progreso: 28/28 URLs procesadas en 10.25 seg.
2025-05-14 03:01:14,037 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_07052025.json
2025-05-14 03:01:14,038 - lib.html_scraper - INFO - Scraping completado para 28/28 URLs en 10.27 segundos.
2025-05-14 03:01:14,039 - lib.html_scraper - INFO - Resultados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_07052025.json
2025-05-14 03:01:14,039 - main_orchestrator - INFO - Scraping HTML completado en 10.27 seg.
2025-05-14 03:01:14,040 - lib.history_tracker - INFO - Añadidas 28 nuevas URLs al historial.
2025-05-14 03:01:14,042 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 87 URLs.
2025-05-14 03:01:14,043 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-14 03:01:16,403 - lib.api_client - INFO - Texto extraído de tmpjfbhoq57.jpg (4 chars).
2025-05-14 03:01:16,406 - lib.image_processor - INFO - Procesando 7 imágenes con API (batch_size=3, pausa=60s)
2025-05-14 03:01:16,407 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-14 03:01:16,408 - lib.image_processor - INFO - Procesando imagen con API: img_4_acc2869d_07052025.jpg
2025-05-14 03:01:27,979 - lib.api_client - INFO - Texto extraído de img_4_acc2869d_07052025.jpg (2588 chars).
2025-05-14 03:01:30,452 - lib.image_processor - INFO - Imagen procesada exitosamente: img_4_acc2869d_07052025.jpg
2025-05-14 03:01:31,351 - lib.image_processor - INFO - Procesando imagen con API: img_3_58337370_07052025.jpg
2025-05-14 03:01:41,497 - lib.api_client - INFO - Texto extraído de img_3_58337370_07052025.jpg (2350 chars).
2025-05-14 03:01:43,414 - lib.image_processor - INFO - Imagen procesada exitosamente: img_3_58337370_07052025.jpg
2025-05-14 03:01:44,048 - lib.image_processor - INFO - Procesando imagen con API: img_7_2574b789_07052025.jpg
2025-05-14 03:02:04,701 - lib.api_client - INFO - Texto extraído de img_7_2574b789_07052025.jpg (4389 chars).
2025-05-14 03:02:07,004 - lib.image_processor - INFO - Imagen procesada exitosamente: img_7_2574b789_07052025.jpg
2025-05-14 03:02:07,525 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-14 03:03:07,526 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-14 03:03:07,526 - lib.image_processor - INFO - Procesando imagen con API: img_5_3b1a9efd_07052025.jpg
2025-05-14 03:03:25,143 - lib.api_client - INFO - Texto extraído de img_5_3b1a9efd_07052025.jpg (3521 chars).
2025-05-14 03:03:27,925 - lib.image_processor - INFO - Imagen procesada exitosamente: img_5_3b1a9efd_07052025.jpg
2025-05-14 03:03:28,872 - lib.image_processor - INFO - Procesando imagen con API: img_6_2f0f4648_07052025.jpg
2025-05-14 03:04:00,250 - lib.api_client - INFO - Texto extraído de img_6_2f0f4648_07052025.jpg (5162 chars).
2025-05-14 03:04:03,161 - lib.image_processor - INFO - Imagen procesada exitosamente: img_6_2f0f4648_07052025.jpg
2025-05-14 03:04:03,819 - lib.image_processor - INFO - Procesando imagen con API: img_1_4259ce81_07052025.jpg
2025-05-14 03:04:10,596 - lib.api_client - INFO - Texto extraído de img_1_4259ce81_07052025.jpg (468 chars).
2025-05-14 03:04:12,353 - lib.image_processor - INFO - Imagen procesada exitosamente: img_1_4259ce81_07052025.jpg
2025-05-14 03:04:12,946 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-14 03:05:12,948 - lib.image_processor - INFO - Procesando batch 3 (1 imágenes)
2025-05-14 03:05:12,949 - lib.image_processor - INFO - Procesando imagen con API: img_2_0940cb8a_07052025.mp4
2025-05-14 03:05:12,950 - lib.image_processor - WARNING - Archivo demasiado grande para procesar eficientemente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025\img_2_0940cb8a_07052025.mp4 (57.58 MB)
2025-05-14 03:05:12,952 - lib.image_processor - WARNING - Error procesando imagen img_2_0940cb8a_07052025.mp4: Image file too large
2025-05-14 03:05:13,872 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025\texto_imagenes_api.json
2025-05-14 03:05:13,873 - lib.image_processor - INFO - Resultados de API guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025\texto_imagenes_api.json
2025-05-14 03:05:13,873 - lib.image_processor - INFO - Procesamiento API completado para 6/7 imágenes en 237.47 segundos.
2025-05-14 03:05:13,875 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 239.83 seg.
2025-05-14 03:05:13,875 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-14 03:05:13,876 - main_orchestrator - INFO - Leyendo archivo social para la fecha 07052025: social_links_07052025_unprocessed.json
2025-05-14 03:05:13,877 - main_orchestrator - INFO - Encontradas 58 URLs de Facebook para procesar
2025-05-14 03:05:13,878 - main_orchestrator - INFO - Creado directorio para PDFs: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025
2025-05-14 03:05:13,884 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output
2025-05-14 03:05:13,884 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 58 URLs de Facebook para la fecha 07052025...
2025-05-14 03:05:13,886 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/share/p/16iwL3twkz/
2025-05-14 03:05:13,886 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/share/p/19cHPJySEs/
2025-05-14 03:05:13,887 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/share/p/1Bzsx8UpCj/
2025-05-14 03:05:13,893 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/share/p/1AfwHc2Ao6/
2025-05-14 03:05:13,897 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/share/p/19FijZnYbE/
2025-05-14 03:05:36,983 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-4.pdf
2025-05-14 03:05:37,340 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-3.pdf
2025-05-14 03:05:38,121 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-1.pdf
2025-05-14 03:05:39,258 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-2.pdf
2025-05-14 03:05:40,175 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/share/p/151JiRn2mdc/
2025-05-14 03:05:41,670 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-5.pdf
2025-05-14 03:05:42,174 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/share/16FhGTQ4xe/
2025-05-14 03:05:42,822 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/share/p/1PkSia3LZe/
2025-05-14 03:05:42,899 - lib.facebook_processor - INFO - Procesando URL de Facebook (9): https://www.facebook.com/share/p/19XYVoXWnC/
2025-05-14 03:05:46,499 - lib.facebook_processor - INFO - Progreso Facebook: 5/58 en 32.62 seg.
2025-05-14 03:05:46,501 - lib.facebook_processor - INFO - Procesando URL de Facebook (10): https://www.facebook.com/share/p/16jQUMgBZY/
2025-05-14 03:05:59,078 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-6.pdf
2025-05-14 03:06:00,710 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-7.pdf
2025-05-14 03:06:02,714 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-8.pdf
2025-05-14 03:06:03,151 - lib.facebook_processor - INFO - Procesando URL de Facebook (11): https://www.facebook.com/share/p/1KgyzLtm5E/
2025-05-14 03:06:04,340 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-9.pdf
2025-05-14 03:06:05,637 - lib.facebook_processor - INFO - Procesando URL de Facebook (12): https://www.facebook.com/share/p/18jqJiJ7co/
2025-05-14 03:06:07,905 - lib.facebook_processor - INFO - Procesando URL de Facebook (13): https://www.facebook.com/share/p/1CJGwmUQxx/
2025-05-14 03:06:08,321 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-10.pdf
2025-05-14 03:06:09,246 - lib.facebook_processor - INFO - Procesando URL de Facebook (14): https://www.facebook.com/share/p/18R3okUHFm/
2025-05-14 03:06:12,159 - lib.facebook_processor - INFO - Progreso Facebook: 10/58 en 58.27 seg.
2025-05-14 03:06:12,159 - lib.facebook_processor - INFO - Procesando URL de Facebook (15): https://www.facebook.com/share/p/16ZUTYkfny/
2025-05-14 03:06:21,294 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-11.pdf
2025-05-14 03:06:24,394 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-12.pdf
2025-05-14 03:06:26,399 - lib.facebook_processor - INFO - Procesando URL de Facebook (16): https://www.facebook.com/share/p/16QKBykzv2/
2025-05-14 03:06:27,717 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-13.pdf
2025-05-14 03:06:28,460 - lib.facebook_processor - INFO - Procesando URL de Facebook (17): https://www.facebook.com/share/p/191igBA3W4/
2025-05-14 03:06:30,835 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-14.pdf
2025-05-14 03:06:31,883 - lib.facebook_processor - INFO - Procesando URL de Facebook (18): https://www.facebook.com/share/p/1BFia5qfMJ/
2025-05-14 03:06:35,271 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-15.pdf
2025-05-14 03:06:36,546 - lib.facebook_processor - INFO - Procesando URL de Facebook (19): https://www.facebook.com/share/p/16bNRnqUZ4/
2025-05-14 03:06:39,622 - lib.facebook_processor - INFO - Procesando URL de Facebook (20): https://www.facebook.com/share/p/16QEvZcXvs/
2025-05-14 03:06:39,623 - lib.facebook_processor - INFO - Progreso Facebook: 15/58 en 85.74 seg.
2025-05-14 03:06:46,962 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-16.pdf
2025-05-14 03:06:54,975 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-18.pdf
2025-05-14 03:06:57,796 - lib.facebook_processor - INFO - Procesando URL de Facebook (21): https://www.facebook.com/share/p/1EeY3aeaor/
2025-05-14 03:06:58,637 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-20.pdf
2025-05-14 03:06:59,554 - lib.facebook_processor - INFO - Procesando URL de Facebook (22): https://www.facebook.com/share/p/1AKQuNKUvf/
2025-05-14 03:07:01,129 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-17.pdf
2025-05-14 03:07:02,491 - lib.facebook_processor - INFO - Procesando URL de Facebook (23): https://www.facebook.com/share/p/1938F6wWHd/
2025-05-14 03:07:03,040 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-19.pdf
2025-05-14 03:07:05,839 - lib.facebook_processor - INFO - Procesando URL de Facebook (24): https://www.facebook.com/share/p/16Xz2MbJVk/
2025-05-14 03:07:07,078 - lib.facebook_processor - INFO - Progreso Facebook: 20/58 en 113.19 seg.
2025-05-14 03:07:07,079 - lib.facebook_processor - INFO - Procesando URL de Facebook (25): https://www.facebook.com/share/p/1AoMu16tF4/
2025-05-14 03:07:15,089 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-21.pdf
2025-05-14 03:07:18,434 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-22.pdf
2025-05-14 03:07:21,692 - lib.facebook_processor - INFO - Procesando URL de Facebook (26): https://www.facebook.com/share/p/1GdJnM6nCT/
2025-05-14 03:07:21,713 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-23.pdf
2025-05-14 03:07:23,905 - lib.facebook_processor - INFO - Procesando URL de Facebook (27): https://www.facebook.com/share/p/1GdJnM6nCT/
2025-05-14 03:07:25,336 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-24.pdf
2025-05-14 03:07:25,433 - lib.facebook_processor - INFO - Procesando URL de Facebook (28): https://www.facebook.com/share/p/16TM7vLoR2/
2025-05-14 03:07:27,245 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-25.pdf
2025-05-14 03:07:31,461 - lib.facebook_processor - INFO - Procesando URL de Facebook (29): https://www.facebook.com/share/p/15CPtY2RBG/
2025-05-14 03:07:32,171 - lib.facebook_processor - INFO - Progreso Facebook: 25/58 en 138.29 seg.
2025-05-14 03:07:32,172 - lib.facebook_processor - INFO - Procesando URL de Facebook (30): https://www.facebook.com/share/p/1D4iAu7a73/
2025-05-14 03:07:42,302 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-26.pdf
2025-05-14 03:07:45,046 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-28.pdf
2025-05-14 03:07:45,569 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-27.pdf
2025-05-14 03:07:46,826 - lib.facebook_processor - INFO - Procesando URL de Facebook (31): https://www.facebook.com/share/p/198Ld13uPp/
2025-05-14 03:07:49,242 - lib.facebook_processor - INFO - Procesando URL de Facebook (32): https://www.facebook.com/photo/?fbid=1238350431629492&set=a.498407755623767
2025-05-14 03:07:50,636 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-29.pdf
2025-05-14 03:07:51,091 - lib.facebook_processor - INFO - Procesando URL de Facebook (33): https://www.facebook.com/photo?fbid=9319136754881022&set=a.740299552764828
2025-05-14 03:07:53,603 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-30.pdf
2025-05-14 03:07:55,466 - lib.facebook_processor - INFO - Procesando URL de Facebook (34): https://www.facebook.com/photo?fbid=9319136754881022&set=a.740299552764828
2025-05-14 03:07:57,812 - lib.facebook_processor - INFO - Progreso Facebook: 30/58 en 163.93 seg.
2025-05-14 03:07:57,812 - lib.facebook_processor - INFO - Procesando URL de Facebook (35): https://www.facebook.com/riberenalajoya/posts/pfbid02eAbjnjMVjknzUntJHjxzzdCTj3yqC8u9vuMBg9QgBTyMFFNXdu6cu4QqZo46tMfml
2025-05-14 03:08:07,526 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-31.pdf
2025-05-14 03:08:09,408 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-32.pdf
2025-05-14 03:08:15,088 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-33.pdf
2025-05-14 03:08:17,784 - lib.facebook_processor - INFO - Procesando URL de Facebook (36): https://www.facebook.com/permalink.php?story_fbid=pfbid02gWMA3t8TYMyhSjwaBXJZxo5YoP7C48YALuvWzPsDQhDD6Djvfh3cVTqseAQfPGMEl&id=61575120090485
2025-05-14 03:08:19,395 - lib.facebook_processor - INFO - Procesando URL de Facebook (37): https://www.facebook.com/permalink.php?story_fbid=pfbid0f7kb1Y2wqNijz6GvyFvV7Pxz5fa2eNJSgj8UR9GVUUZmHcPRsEudRKnkoLufGJbLl&id=100047283977319
2025-05-14 03:08:19,791 - lib.facebook_processor - INFO - Procesando URL de Facebook (38): https://www.facebook.com/permalink.php?story_fbid=pfbid0f7kb1Y2wqNijz6GvyFvV7Pxz5fa2eNJSgj8UR9GVUUZmHcPRsEudRKnkoLufGJbLl&id=100047283977319
2025-05-14 03:08:21,542 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-34.pdf
2025-05-14 03:08:22,305 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-35.pdf
2025-05-14 03:08:26,893 - lib.facebook_processor - INFO - Procesando URL de Facebook (39): https://www.facebook.com/DiarioEP.pe/posts/pfbid02Kgp4Nz2QZFNp2bb8g52rSZMK7j1v5YFGRTBFpRiizSdiZxezN3nnASdgKqvEKZwbl
2025-05-14 03:08:28,472 - lib.facebook_processor - INFO - Progreso Facebook: 35/58 en 194.59 seg.
2025-05-14 03:08:28,473 - lib.facebook_processor - INFO - Procesando URL de Facebook (40): https://www.facebook.com/photo?fbid=660818233449061&set=a.107006905496866
2025-05-14 03:08:37,791 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-36.pdf
2025-05-14 03:08:39,674 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-38.pdf
2025-05-14 03:08:43,238 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-37.pdf
2025-05-14 03:08:44,972 - lib.facebook_processor - INFO - Procesando URL de Facebook (41): https://www.facebook.com/permalink.php?story_fbid=pfbid02PhkrU3Eaw2YsGZD1vBEJmD7LWVLEFipc7d7Eo5Kkv97TQrXeTBG7mU6pmYh9sbL8l&id=61575464192731
2025-05-14 03:08:46,801 - lib.facebook_processor - INFO - Procesando URL de Facebook (42): https://www.facebook.com/PaoDavilaCanaElTigre/posts/pfbid033JTuk9RSTGkd9mPtzkEnkFwuRSeGhNtz1Wwt9XcRNLPTpVcNmGCV3mbW3TFqSTVxl
2025-05-14 03:08:46,825 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-40.pdf
2025-05-14 03:08:47,188 - lib.facebook_processor - INFO - Procesando URL de Facebook (43): https://www.facebook.com/PaoDavilaCanaElTigre/posts/pfbid033JTuk9RSTGkd9mPtzkEnkFwuRSeGhNtz1Wwt9XcRNLPTpVcNmGCV3mbW3TFqSTVxl
2025-05-14 03:08:50,914 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-39.pdf
2025-05-14 03:08:51,756 - lib.facebook_processor - INFO - Procesando URL de Facebook (44): https://www.facebook.com/permalink.php?story_fbid=pfbid0AL3DJwtfzUNKag7DYMh632AuPcC2rWCBF5daFgwNxpLZLNKRwsFfPKFK3oqGThxsl&id=100067011262342
2025-05-14 03:08:57,418 - lib.facebook_processor - INFO - Progreso Facebook: 40/58 en 223.53 seg.
2025-05-14 03:08:57,419 - lib.facebook_processor - INFO - Procesando URL de Facebook (45): https://www.facebook.com/Losprotagonistasdelanoticia/posts/pfbid021oeGT1ffzTghb6Qq1nRmLYdZpn7pxUm6LQQ3JAXAFguLDepLRubsYpNKVsc9gbaYl
2025-05-14 03:09:07,008 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-41.pdf
2025-05-14 03:09:09,169 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-42.pdf
2025-05-14 03:09:09,535 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-43.pdf
2025-05-14 03:09:12,787 - lib.facebook_processor - INFO - Procesando URL de Facebook (46): https://www.facebook.com/Arequipa.pe/posts/pfbid02YN87NK1sS2RmZwsM7iU7djS1r2s7iNWbxfztnGHy423rnpv4fGWdrR2nCPeJ1D1jl
2025-05-14 03:09:12,949 - lib.facebook_processor - INFO - Procesando URL de Facebook (47): https://www.facebook.com/Arequipa.pe/posts/pfbid02YN87NK1sS2RmZwsM7iU7djS1r2s7iNWbxfztnGHy423rnpv4fGWdrR2nCPeJ1D1jl
2025-05-14 03:09:13,734 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-44.pdf
2025-05-14 03:09:14,893 - lib.facebook_processor - INFO - Procesando URL de Facebook (48): https://www.facebook.com/Arequipa.pe/posts/pfbid02YN87NK1sS2RmZwsM7iU7djS1r2s7iNWbxfztnGHy423rnpv4fGWdrR2nCPeJ1D1jl
2025-05-14 03:09:20,736 - lib.facebook_processor - INFO - Procesando URL de Facebook (49): https://www.facebook.com/universaltvarequipa/posts/pfbid02Yg9GxzBnT5fdLqBuwZkCD8Lzo6F7Go644a4tcLHUuNyg5qheoD87KuDCjJw5CNAql
2025-05-14 03:09:22,987 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-45.pdf
2025-05-14 03:09:32,754 - lib.facebook_processor - INFO - Progreso Facebook: 45/58 en 258.87 seg.
2025-05-14 03:09:32,754 - lib.facebook_processor - INFO - Procesando URL de Facebook (50): https://www.facebook.com/permalink.php?story_fbid=pfbid0wfvjCA2NDiJRn6aqadGmf2hiikE8znPQSYA6wXEEH9VbVeNpeNwu1dkeYXzJkZ4tl&id=100083119487359
2025-05-14 03:09:37,356 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-47.pdf
2025-05-14 03:09:38,569 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-46.pdf
2025-05-14 03:09:41,166 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-49.pdf
2025-05-14 03:09:41,472 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-48.pdf
2025-05-14 03:09:44,510 - lib.facebook_processor - INFO - Procesando URL de Facebook (51): https://www.facebook.com/photo?fbid=1262239625904066&set=a.524736176321085
2025-05-14 03:09:44,543 - lib.facebook_processor - INFO - Procesando URL de Facebook (52): https://www.facebook.com/EntreVocesArequipa/posts/pfbid0sT5UwmuepMsdVpximSDTuU4cjX5QK5yy8zhGFdQ4Gt6NkbeXojHw45Nu3aqdpbC9l
2025-05-14 03:09:45,696 - lib.facebook_processor - INFO - Procesando URL de Facebook (53): https://www.facebook.com/permalink.php?story_fbid=pfbid02PME2VwLxQ4htjKAMQTJJArLUZWWAas41UE6XV17Vveg4fbGBBbyFXGEGgWD4QeLkl&id=100064303594358
2025-05-14 03:09:46,183 - lib.facebook_processor - INFO - Procesando URL de Facebook (54): https://www.facebook.com/permalink.php?story_fbid=pfbid02PME2VwLxQ4htjKAMQTJJArLUZWWAas41UE6XV17Vveg4fbGBBbyFXGEGgWD4QeLkl&id=100064303594358
2025-05-14 03:09:54,856 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-50.pdf
2025-05-14 03:10:03,374 - lib.facebook_processor - INFO - Progreso Facebook: 50/58 en 289.49 seg.
2025-05-14 03:10:03,375 - lib.facebook_processor - INFO - Procesando URL de Facebook (55): https://www.facebook.com/photo/?fbid=656482207213066&set=a.114708711390421
2025-05-14 03:10:05,140 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-52.pdf
2025-05-14 03:10:05,224 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-51.pdf
2025-05-14 03:10:08,605 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-53.pdf
2025-05-14 03:10:10,256 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-54.pdf
2025-05-14 03:10:10,498 - lib.facebook_processor - INFO - Procesando URL de Facebook (56): https://www.facebook.com/watch/?v=1386577492667461
2025-05-14 03:10:11,853 - lib.facebook_processor - INFO - Procesando URL de Facebook (57): https://www.facebook.com/impetudiario/posts/pfbid0MXWbQyfHAkNacHYzxhBhTvj72XDXiuvGgAdFNo9YmKVXQ7oc5Uj2oRqAfuA6J4akl
2025-05-14 03:10:13,894 - lib.facebook_processor - INFO - Procesando URL de Facebook (58): https://www.facebook.com/plusnoticias.pe/videos/997867349135424
2025-05-14 03:10:23,143 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-55.pdf
2025-05-14 03:10:32,434 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-56.pdf
2025-05-14 03:10:35,487 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-57.pdf
2025-05-14 03:10:37,130 - lib.facebook_processor - INFO - Progreso Facebook: 55/58 en 323.25 seg.
2025-05-14 03:10:41,334 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-58.pdf
2025-05-14 03:10:46,816 - lib.facebook_processor - INFO - Progreso Facebook: 58/58 en 332.93 seg.
2025-05-14 03:10:46,827 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_results_07052025.json
2025-05-14 03:10:46,827 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 51/58 exitosos en 332.94 segundos.
2025-05-14 03:10:46,827 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 332.95 seg.
2025-05-14 03:10:46,827 - lib.history_tracker - INFO - Añadidas 51 nuevas URLs al historial.
2025-05-14 03:10:46,834 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 138 URLs.
2025-05-14 03:10:46,834 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-14 03:10:47,738 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-4.pdf
2025-05-14 03:10:48,469 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-3.pdf
2025-05-14 03:10:49,205 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-2.pdf
2025-05-14 03:10:50,645 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-1.pdf
2025-05-14 03:10:51,936 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-5.pdf
2025-05-14 03:10:53,683 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-6.pdf
2025-05-14 03:10:54,569 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-7.pdf
2025-05-14 03:10:55,164 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-8.pdf
2025-05-14 03:10:55,783 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-9.pdf
2025-05-14 03:10:56,457 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-10.pdf
2025-05-14 03:10:57,102 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-11.pdf
2025-05-14 03:10:57,914 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-12.pdf
2025-05-14 03:10:58,594 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-13.pdf
2025-05-14 03:10:59,234 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-14.pdf
2025-05-14 03:11:00,088 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-15.pdf
2025-05-14 03:11:00,645 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-16.pdf
2025-05-14 03:11:01,252 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-18.pdf
2025-05-14 03:11:01,321 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-20.pdf
2025-05-14 03:11:01,904 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-17.pdf
2025-05-14 03:11:02,594 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-19.pdf
2025-05-14 03:11:02,676 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-21.pdf
2025-05-14 03:11:03,380 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-22.pdf
2025-05-14 03:11:04,011 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-23.pdf
2025-05-14 03:11:04,680 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-25.pdf
2025-05-14 03:11:05,338 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-24.pdf
2025-05-14 03:11:05,964 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-27.pdf
2025-05-14 03:11:06,752 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-28.pdf
2025-05-14 03:11:07,315 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-29.pdf
2025-05-14 03:11:07,991 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-30.pdf
2025-05-14 03:11:08,134 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-32.pdf
2025-05-14 03:11:08,755 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-31.pdf
2025-05-14 03:11:08,867 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-34.pdf
2025-05-14 03:11:09,652 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-35.pdf
2025-05-14 03:11:10,414 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-37.pdf
2025-05-14 03:11:10,554 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-36.pdf
2025-05-14 03:11:10,677 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-40.pdf
2025-05-14 03:11:10,886 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-39.pdf
2025-05-14 03:11:11,585 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-41.pdf
2025-05-14 03:11:12,217 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-43.pdf
2025-05-14 03:11:12,404 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-44.pdf
2025-05-14 03:11:13,615 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-45.pdf
2025-05-14 03:11:13,804 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-48.pdf
2025-05-14 03:11:14,605 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-49.pdf
2025-05-14 03:11:14,734 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-50.pdf
2025-05-14 03:11:14,870 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-52.pdf
2025-05-14 03:11:15,111 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-51.pdf
2025-05-14 03:11:15,827 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-54.pdf
2025-05-14 03:11:15,970 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-56.pdf
2025-05-14 03:11:16,092 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-55.pdf
2025-05-14 03:11:16,901 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-57.pdf
2025-05-14 03:11:17,078 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-58.pdf
2025-05-14 03:11:17,080 - lib.facebook_processor - INFO - Texto extraído de 51 PDFs de Facebook
2025-05-14 03:11:17,080 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 30.25 seg.
2025-05-14 03:11:17,081 - main_orchestrator - INFO - Texto extraído de 51 PDFs de Facebook
2025-05-14 03:11:17,087 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_07052025.json
2025-05-14 03:11:17,089 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_07052025.json
2025-05-14 03:11:17,089 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-14 03:11:17,116 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_07052025.json
2025-05-14 03:11:17,135 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_07052025.json
2025-05-14 03:11:17,145 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T03:11:17.104948', 'date_processed': '07052025', 'total_urls_in_pdf': 99, 'new_urls_processed_count': 97, 'history_total_urls': 138, 'categories': {'html': 28, 'images': 7, 'social': 62}, 'html_processing': {'attempted': 28, 'processed': 28, 'successful': 28, 'relevant (>=0.3)': 20, 'average_relevance': 0.5535714285714285}, 'image_processing': {'attempted_download': 7, 'successful_download': 6, 'attempted_api': 6, 'successful_api': 6}, 'facebook_processing': {'attempted': 58, 'successful': 51, 'extracted_texts': 51}, 'timings_seconds': {'pdf_extraction': 0.23, 'pdf_text_extraction': 30.25, 'image_download': 67.2, 'html_scraping': 10.27, 'image_api': 239.83, 'facebook_processing': 332.95, 'facebook_text_extraction': 30.25, 'stats_consolidation': 0.0}}
2025-05-14 03:11:17,146 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-14 03:11:17,152 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-14 03:11:17,170 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_07052025\pdf_text_07052025.json
2025-05-14 03:11:17,213 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_07052025.json
2025-05-14 03:11:17,224 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_07052025.json
2025-05-14 03:11:17,227 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-14 03:11:17,292 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-14 03:11:17,302 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-14 03:11:17,302 - semantic_cleaner - INFO - Extraídos 4 textos de PDF
2025-05-14 03:11:17,302 - semantic_cleaner - INFO - Extraídos 28 textos de HTML
2025-05-14 03:11:17,302 - semantic_cleaner - INFO - Extraídos 6 textos de imágenes
2025-05-14 03:11:17,302 - semantic_cleaner - INFO - Extraídos 51 textos de Facebook
2025-05-14 03:12:07,999 - semantic_cleaner - INFO - Se identificaron 87 grupos de textos similares
2025-05-14 03:12:08,000 - semantic_cleaner - INFO - Se seleccionaron 87 textos representativos
2025-05-14 03:12:08,000 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-14 03:12:08,002 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_07052025.json
2025-05-14 03:12:08,008 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_07052025.json
2025-05-14 03:12:08,011 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_07052025.md
2025-05-14 03:12:08,034 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_07052025.md
2025-05-14 03:12:08,034 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_07052025.json
2025-05-14 03:12:08,034 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_07052025.json
2025-05-14 03:12:08,034 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T03:11:17.104948', 'date_processed': '07052025', 'total_urls_in_pdf': 99, 'new_urls_processed_count': 97, 'history_total_urls': 138, 'categories': {'html': 28, 'images': 7, 'social': 62}, 'html_processing': {'attempted': 28, 'processed': 28, 'successful': 28, 'relevant (>=0.3)': 20, 'average_relevance': 0.5535714285714285}, 'image_processing': {'attempted_download': 7, 'successful_download': 6, 'attempted_api': 6, 'successful_api': 6}, 'facebook_processing': {'attempted': 58, 'successful': 51, 'extracted_texts': 51}, 'timings_seconds': {'pdf_extraction': 0.23, 'pdf_text_extraction': 30.25, 'image_download': 67.2, 'html_scraping': 10.27, 'image_api': 239.83, 'facebook_processing': 332.95, 'facebook_text_extraction': 30.25, 'stats_consolidation': 0.0, 'semantic_cleaning': 50.79}}
2025-05-14 03:12:08,034 - main_orchestrator - INFO - Limpieza semántica completada en 50.79 seg.
2025-05-14 03:12:08,034 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-14 03:12:08,034 - facebook_extractor_fix - ERROR - No se encontró el archivo de textos de Facebook: C:\Jerson\SUNASS\2025\5_May\output\facebook_texts_07052025.json
2025-05-14 03:12:08,034 - main_orchestrator - WARNING - No se pudieron integrar los textos de Facebook en archivos limpios
2025-05-14 03:12:08,042 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-14 03:12:08,042 - main_orchestrator - INFO - ==================================================
2025-05-14 03:12:08,042 - main_orchestrator - INFO - PIPELINE FINALIZADO en 731.76 segundos.
2025-05-14 03:12:08,042 - main_orchestrator - INFO - ==================================================
2025-05-20 15:27:56,894 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-20 15:27:56,902 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-20 15:27:56,903 - main_orchestrator - INFO - ==================================================
2025-05-20 15:27:56,903 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-20 15:27:56,903 - main_orchestrator - INFO - Usando fecha: 20052025
2025-05-20 15:27:56,904 - main_orchestrator - INFO - ==================================================
2025-05-20 15:27:56,915 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-20 15:27:56,916 - lib.config_manager - WARNING - No se encontró 'google_api_key' o 'api_key' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-20 15:27:56,917 - lib.config_manager - WARNING - Clave API de Gemini no configurada. La funcionalidad de API de imágenes fallará.
2025-05-20 15:27:56,918 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-20 15:27:56,919 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 138 URLs.
2025-05-20 15:27:56,920 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-20 15:27:56,921 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-20 15:27:56,921 - lib.image_processor - WARNING - No se pudo inicializar Gemini API: No se encontró GOOGLE_API_KEY en variables de entorno o .env
2025-05-20 15:27:56,922 - lib.image_processor - WARNING - API de extracción de texto de imágenes no configurada. No se procesarán imágenes con API.
2025-05-20 15:27:56,922 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-20 15:27:56,922 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-20 15:27:56,922 - lib.pdf_processor - ERROR - Archivo PDF no encontrado: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\20052025.pdf
2025-05-20 15:27:56,923 - main_orchestrator - WARNING - No se encontraron enlaces en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\20052025.pdf. Terminando proceso para esta fecha.
2025-05-20 15:27:56,924 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_20052025.json
2025-05-20 15:27:56,924 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_20052025.json
2025-05-20 15:27:56,924 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-20T15:27:56.923408', 'date_processed': '20052025', 'total_urls_in_pdf': 0, 'error': 'No links found in PDF'}
2025-05-20 15:27:56,925 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-20 15:27:56,925 - main_orchestrator - INFO - ==================================================
2025-05-20 15:27:56,925 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.02 segundos.
2025-05-20 15:27:56,925 - main_orchestrator - INFO - ==================================================
2025-05-20 15:47:31,713 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-20 15:47:31,718 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-20 15:47:31,718 - main_orchestrator - INFO - Se usará la fecha proporcionada: 22042025
2025-05-20 15:47:31,719 - main_orchestrator - INFO - ==================================================
2025-05-20 15:47:31,719 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-20 15:47:31,719 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-20 15:47:31,719 - main_orchestrator - INFO - ==================================================
2025-05-20 15:47:31,720 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-20 15:47:31,721 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-20 15:47:31,722 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-20 15:47:31,724 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 138 URLs.
2025-05-20 15:47:31,724 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-20 15:47:31,725 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-20 15:47:31,725 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-20 15:47:31,725 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-20 15:47:31,726 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-20 15:47:31,726 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-20 15:47:31,751 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-20 15:47:32,188 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-20 15:47:32,189 - main_orchestrator - INFO - PDF procesado en 0.46 seg. Enlaces encontrados: 103
2025-05-20 15:47:32,201 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-20 15:47:32,201 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-20 15:47:32,203 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-20 15:47:32,282 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-20 15:47:32,282 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-20 15:47:32,282 - main_orchestrator - INFO - Texto del PDF extraído en 0.08 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-20 15:47:32,283 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-20 15:47:32,283 - main_orchestrator - INFO - URLs nuevas para procesar: 103 (de 103 total)
2025-05-20 15:47:32,283 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-20 15:47:32,284 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-20 15:47:32,284 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-20 15:47:32,285 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-20 15:47:32,285 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-20 15:47:32,288 - lib.url_manager - INFO - Clasificación de 103 URLs:
2025-05-20 15:47:32,288 - lib.url_manager - INFO -  - HTML: 39
2025-05-20 15:47:32,288 - lib.url_manager - INFO -  - IMAGES: 14
2025-05-20 15:47:32,288 - lib.url_manager - INFO -  - SOCIAL: 50
2025-05-20 15:47:32,290 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\image_links_22042025_unprocessed.json
2025-05-20 15:47:32,292 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-20 15:47:32,293 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-20 15:47:32,293 - lib.image_processor - INFO - Iniciando descarga paralela de 14 imágenes para la fecha 22042025...
2025-05-20 15:47:32,293 - lib.image_processor - WARNING - URL duplicada detectada: https://imacorpplataforma.com/wp-content/uploads/2025/04/HILDEBRANDT-EN-SUS-TRECE-30-31-MAL-AGUA-18-04-2025-scaled.jpg. Primera ocurrencia: #3, segunda: #4
2025-05-20 15:47:32,296 - lib.image_processor - INFO - Omitiendo URL duplicada #4: https://imacorpplataforma.com/wp-content/uploads/2025/04/HILDEBRANDT-EN-SUS-TRECE-30-31-MAL-AGUA-18-04-2025-scaled.jpg
2025-05-20 15:47:33,164 - lib.image_processor - WARNING - URL https://imacorpplataforma.com/wp-content/uploads/2025/04/20-04-2025-RPP-CIUDADANOS-DE-LAMBAYEQUE-REPORTAN-FALTA-DE-AGUA-DEBIDO-A-FALTA-DE-CISTERNAS.mp3 contiene audio/mpeg, no una imagen. Se registrará como tipo no válido.
2025-05-20 15:47:35,157 - lib.image_processor - WARNING - URL https://imacorpplataforma.com/wp-content/uploads/2025/04/17-04-2025-RPP-ENTREVISTA-A-GABRIELA-CORIMANYA-SOBRE-COMO-AHORRAR-EL-AGUA-QUE-LLEGA-A-NUESTRAS-CASAS-ROTATIVA-DEL-CAMPO.mp3 contiene audio/mpeg, no una imagen. Se registrará como tipo no válido.
2025-05-20 15:47:35,913 - lib.image_processor - INFO - Imagen 5 guardada como 'img_5_2dfc1883_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (441187 bytes)
2025-05-20 15:47:39,360 - lib.image_processor - INFO - Imagen 11 guardada como 'img_11_9bbb0695_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (361100 bytes)
2025-05-20 15:47:42,065 - lib.image_processor - INFO - Imagen 12 guardada como 'img_12_95ae401c_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (271113 bytes)
2025-05-20 15:47:42,557 - lib.image_processor - INFO - Imagen 6 guardada como 'img_6_1f526d7d_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (466784 bytes)
2025-05-20 15:47:46,802 - lib.image_processor - INFO - Imagen 14 guardada como 'img_14_6b7e17b8_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (562472 bytes)
2025-05-20 15:47:49,507 - lib.image_processor - INFO - Imagen 13 guardada como 'img_13_d71ed522_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (439104 bytes)
2025-05-20 15:47:51,849 - lib.image_processor - INFO - Imagen 10 guardada como 'img_10_e2ae2485_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (1245561 bytes)
2025-05-20 15:47:55,692 - lib.image_processor - INFO - Imagen 3 guardada como 'img_3_1301b08d_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (1394922 bytes)
2025-05-20 15:47:56,352 - lib.image_processor - INFO - Imagen 9 guardada como 'img_9_dfac0f97_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (1320851 bytes)
2025-05-20 15:47:56,823 - lib.image_processor - INFO - Imagen 2 guardada como 'img_2_4ab090c1_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (887403 bytes)
2025-05-20 15:47:57,233 - lib.image_processor - INFO - Progreso descarga imágenes: 10/14 en 24.94 seg.
2025-05-20 15:48:00,657 - lib.image_processor - INFO - Imagen 8 guardada como 'img_8_49a4d12a_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (1059563 bytes)
2025-05-20 15:48:03,317 - lib.image_processor - INFO - Imagen 7 guardada como 'img_7_ba0f95b8_22042025.mp3' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (2551484 bytes)
2025-05-20 15:48:03,548 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/04/20-04-2025-RPP-CIUDADANOS-DE-LAMBAYEQUE-REPORTAN-FALTA-DE-AGUA-DEBIDO-A-FALTA-DE-CISTERNAS.mp3: Content type 'audio/mpeg' is not an image
2025-05-20 15:48:13,757 - lib.image_processor - INFO - Imagen 1 guardada como 'img_1_6a69548f_22042025.mp3' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (3223249 bytes)
2025-05-20 15:48:14,404 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/04/17-04-2025-RPP-ENTREVISTA-A-GABRIELA-CORIMANYA-SOBRE-COMO-AHORRAR-EL-AGUA-QUE-LLEGA-A-NUESTRAS-CASAS-ROTATIVA-DEL-CAMPO.mp3: Content type 'audio/mpeg' is not an image
2025-05-20 15:48:14,408 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\image_links_22042025.json
2025-05-20 15:48:14,408 - lib.image_processor - INFO - Descarga de imágenes completada para 13/14 URLs en 42.12 segundos.
2025-05-20 15:48:14,409 - main_orchestrator - INFO - Descarga de imágenes completada en 42.12 seg.
2025-05-20 15:48:14,409 - lib.history_tracker - INFO - Añadidas 13 nuevas URLs al historial.
2025-05-20 15:48:14,411 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 151 URLs.
2025-05-20 15:48:14,412 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-20 15:48:14,412 - lib.html_scraper - INFO - Iniciando scraping paralelo de 39 URLs...
2025-05-20 15:48:19,119 - lib.html_scraper - WARNING - Error HTTP 404 scrapeando https://diarioactualidad.net/contenido/441/peru-necesita-s-138000-millones-para-cerrar-brecha-en-agua-y-saneamiento: 404 Client Error: Not Found for url: https://diarioactualidad.net/contenido/441/peru-necesita-s-138000-millones-para-cerrar-brecha-en-agua-y-saneamiento
2025-05-20 15:48:19,157 - lib.html_scraper - WARNING - Error procesando https://diarioactualidad.net/contenido/441/peru-necesita-s-138000-millones-para-cerrar-brecha-en-agua-y-saneamiento: HTTP Error: 404
2025-05-20 15:48:22,801 - lib.html_scraper - INFO - Progreso: 20/39 URLs procesadas en 8.39 seg.
2025-05-20 15:48:46,895 - lib.html_scraper - INFO - Contenido no es HTML para https://epdoc2.elperuano.pe/EpPo/VistaNLSE.asp?Referencias=MjM5MTk5Mi0xMjAyNTA0MTk= (application/pdf; charset=utf-8). Omitiendo body.
2025-05-20 15:48:51,268 - lib.html_scraper - INFO - Contenido no es HTML para https://epdoc2.elperuano.pe/EpPo/VistaNLSE.asp?Referencias=MjM5MTk5Mi0xMjAyNTA0MTk= (application/pdf; charset=utf-8). Omitiendo body.
2025-05-20 15:48:52,135 - lib.html_scraper - INFO - Progreso: 39/39 URLs procesadas en 37.72 seg.
2025-05-20 15:48:52,140 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-20 15:48:52,140 - lib.html_scraper - INFO - Scraping completado para 39/39 URLs en 37.73 segundos.
2025-05-20 15:48:52,140 - lib.html_scraper - INFO - Resultados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-20 15:48:52,141 - main_orchestrator - INFO - Scraping HTML completado en 37.73 seg.
2025-05-20 15:48:52,141 - lib.history_tracker - INFO - Añadidas 34 nuevas URLs al historial.
2025-05-20 15:48:52,142 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 185 URLs.
2025-05-20 15:48:52,142 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-20 15:48:53,708 - lib.api_client - ERROR - Error procesando tmpalcgy_et.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 3
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 3
}
]
2025-05-20 15:48:53,761 - lib.image_processor - WARNING - Error en prueba de API, pero no parece ser de configuración: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 3
}
]
2025-05-20 15:48:53,761 - lib.image_processor - INFO - Procesando 13 imágenes con API (batch_size=3, pausa=60s)
2025-05-20 15:48:53,762 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-20 15:48:53,762 - lib.image_processor - INFO - Procesando imagen con API: img_5_2dfc1883_22042025.jpg
2025-05-20 15:48:56,578 - lib.api_client - ERROR - Error procesando img_5_2dfc1883_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
}
]
2025-05-20 15:48:57,855 - lib.image_processor - WARNING - Imagen img_5_2dfc1883_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:48:57,857 - lib.image_processor - WARNING - Error procesando imagen img_5_2dfc1883_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
}
]
2025-05-20 15:48:58,711 - lib.image_processor - INFO - Procesando imagen con API: img_11_9bbb0695_22042025.jpg
2025-05-20 15:49:00,956 - lib.api_client - ERROR - Error procesando img_11_9bbb0695_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
2025-05-20 15:49:02,141 - lib.image_processor - WARNING - Imagen img_11_9bbb0695_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:49:02,144 - lib.image_processor - WARNING - Error procesando imagen img_11_9bbb0695_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
2025-05-20 15:49:02,951 - lib.image_processor - INFO - Procesando imagen con API: img_12_95ae401c_22042025.jpg
2025-05-20 15:49:04,767 - lib.api_client - ERROR - Error procesando img_12_95ae401c_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 52
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 52
}
]
2025-05-20 15:49:07,363 - lib.image_processor - WARNING - Imagen img_12_95ae401c_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:49:07,366 - lib.image_processor - WARNING - Error procesando imagen img_12_95ae401c_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 52
}
]
2025-05-20 15:49:08,300 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-20 15:50:08,301 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-20 15:50:08,302 - lib.image_processor - INFO - Procesando imagen con API: img_6_1f526d7d_22042025.jpg
2025-05-20 15:50:11,161 - lib.api_client - ERROR - Error procesando img_6_1f526d7d_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 46
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 46
}
]
2025-05-20 15:50:12,331 - lib.image_processor - WARNING - Imagen img_6_1f526d7d_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:50:12,335 - lib.image_processor - WARNING - Error procesando imagen img_6_1f526d7d_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 46
}
]
2025-05-20 15:50:13,076 - lib.image_processor - INFO - Procesando imagen con API: img_14_6b7e17b8_22042025.jpg
2025-05-20 15:50:16,488 - lib.api_client - ERROR - Error procesando img_14_6b7e17b8_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 40
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 40
}
]
2025-05-20 15:50:17,756 - lib.image_processor - WARNING - Imagen img_14_6b7e17b8_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:50:17,759 - lib.image_processor - WARNING - Error procesando imagen img_14_6b7e17b8_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 40
}
]
2025-05-20 15:50:18,418 - lib.image_processor - INFO - Procesando imagen con API: img_13_d71ed522_22042025.jpg
2025-05-20 15:50:21,238 - lib.api_client - ERROR - Error procesando img_13_d71ed522_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 35
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 35
}
]
2025-05-20 15:50:22,778 - lib.image_processor - WARNING - Imagen img_13_d71ed522_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:50:22,781 - lib.image_processor - WARNING - Error procesando imagen img_13_d71ed522_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 35
}
]
2025-05-20 15:50:23,324 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-20 15:51:23,324 - lib.image_processor - INFO - Procesando batch 3 (3 imágenes)
2025-05-20 15:51:23,325 - lib.image_processor - INFO - Procesando imagen con API: img_10_e2ae2485_22042025.jpg
2025-05-20 15:51:30,643 - lib.api_client - ERROR - Error procesando img_10_e2ae2485_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 26
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 26
}
]
2025-05-20 15:51:33,128 - lib.image_processor - WARNING - Imagen img_10_e2ae2485_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:51:33,131 - lib.image_processor - WARNING - Error procesando imagen img_10_e2ae2485_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 26
}
]
2025-05-20 15:51:34,058 - lib.image_processor - INFO - Procesando imagen con API: img_3_1301b08d_22042025.jpg
2025-05-20 15:51:42,017 - lib.api_client - ERROR - Error procesando img_3_1301b08d_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 15
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 15
}
]
2025-05-20 15:51:43,625 - lib.image_processor - WARNING - Imagen img_3_1301b08d_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:51:43,628 - lib.image_processor - WARNING - Error procesando imagen img_3_1301b08d_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 15
}
]
2025-05-20 15:51:44,262 - lib.image_processor - INFO - Procesando imagen con API: img_9_dfac0f97_22042025.jpg
2025-05-20 15:51:51,906 - lib.api_client - ERROR - Error procesando img_9_dfac0f97_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 5
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 5
}
]
2025-05-20 15:51:54,880 - lib.image_processor - WARNING - Imagen img_9_dfac0f97_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:51:54,882 - lib.image_processor - WARNING - Error procesando imagen img_9_dfac0f97_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 5
}
]
2025-05-20 15:51:55,546 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-20 15:52:55,547 - lib.image_processor - INFO - Procesando batch 4 (3 imágenes)
2025-05-20 15:52:55,548 - lib.image_processor - INFO - Procesando imagen con API: img_2_4ab090c1_22042025.jpg
2025-05-20 15:53:00,810 - lib.api_client - ERROR - Error procesando img_2_4ab090c1_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
2025-05-20 15:53:02,329 - lib.image_processor - WARNING - Imagen img_2_4ab090c1_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:53:02,332 - lib.image_processor - WARNING - Error procesando imagen img_2_4ab090c1_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
2025-05-20 15:53:02,952 - lib.image_processor - INFO - Procesando imagen con API: img_8_49a4d12a_22042025.jpg
2025-05-20 15:53:09,302 - lib.api_client - ERROR - Error procesando img_8_49a4d12a_22042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 47
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 47
}
]
2025-05-20 15:53:11,150 - lib.image_processor - WARNING - Imagen img_8_49a4d12a_22042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 15:53:11,152 - lib.image_processor - WARNING - Error procesando imagen img_8_49a4d12a_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 47
}
]
2025-05-20 15:53:11,789 - lib.image_processor - INFO - Procesando imagen con API: img_7_ba0f95b8_22042025.mp3
2025-05-20 15:53:11,937 - lib.image_processor - WARNING - Archivo no es una imagen válida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\img_7_ba0f95b8_22042025.mp3 (formato detectado: None)
2025-05-20 15:53:11,937 - lib.image_processor - WARNING - Error procesando imagen img_7_ba0f95b8_22042025.mp3: File is not a valid image
2025-05-20 15:53:12,811 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-20 15:54:12,811 - lib.image_processor - INFO - Procesando batch 5 (1 imágenes)
2025-05-20 15:54:12,812 - lib.image_processor - INFO - Procesando imagen con API: img_1_6a69548f_22042025.mp3
2025-05-20 15:54:12,823 - lib.image_processor - WARNING - Archivo no es una imagen válida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\img_1_6a69548f_22042025.mp3 (formato detectado: None)
2025-05-20 15:54:12,824 - lib.image_processor - WARNING - Error procesando imagen img_1_6a69548f_22042025.mp3: File is not a valid image
2025-05-20 15:54:13,342 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-20 15:54:13,342 - lib.image_processor - INFO - Resultados de API guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-20 15:54:13,343 - lib.image_processor - INFO - Procesamiento API completado para 0/13 imágenes en 319.58 segundos.
2025-05-20 15:54:13,343 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 321.20 seg.
2025-05-20 15:54:13,343 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-20 15:54:13,344 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-20 15:54:13,369 - main_orchestrator - INFO - Encontradas 49 URLs de Facebook para procesar
2025-05-20 15:54:13,370 - main_orchestrator - INFO - Creado directorio para PDFs: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025
2025-05-20 15:54:13,371 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output
2025-05-20 15:54:13,371 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 49 URLs de Facebook para la fecha 22042025...
2025-05-20 15:54:13,372 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/agenciandina/posts/pfbid0GoGrkSAmt6xy7bqZVtLhDRpmyYXpe9CQ8dS641ippmAcjbMuQtkK4o6yd75Gyoztl?rdid=1aMJtw9YNRZJfAlm
2025-05-20 15:54:13,373 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/RADIOTACNA104.3FM/posts/pfbid02yz2TNAb2gA7zXCCsuXxcnXknTvK3AhJptqtGP1C2uD1gxYNGqxME8NFGVf2n4EbJl?rdid=bhe3XVHyig6ZXpOJ
2025-05-20 15:54:13,373 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/RADIOTACNA104.3FM/posts/pfbid02yz2TNAb2gA7zXCCsuXxcnXknTvK3AhJptqtGP1C2uD1gxYNGqxME8NFGVf2n4EbJl?rdid=bhe3XVHyig6ZXpOJ
2025-05-20 15:54:13,374 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/SoemPeru/posts/pfbid023SyRCJCWJy3mfy5XUMsPjeiwFe38gGsj49sZJm9ckuD2uo5vHZ9GAWCh3PW2GLkml?rdid=9g14DZuhU7mq60uh
2025-05-20 15:54:13,375 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/decanaradio/posts/pfbid02DnD9Woi5x9YE7RFXhdsbqMELhCuecheDYfZZyKax2CNPtqMij1U1B1gr3x63G7ePl?rdid=OnJio5eiGkW6ZSGE
2025-05-20 15:54:57,968 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-20 15:55:03,077 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/diplomaciaciudadana/posts/pfbid0zABeJhxS8GzRQidm7mR4RzzFVzXGzwG3htiXKS712a6AVBP3ztQhvqgtCSpjGZa3l?rdid=ReVxRKJ9evbT34Px
2025-05-20 15:55:09,330 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-20 15:55:10,905 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-5.pdf
2025-05-20 15:55:12,586 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-3.pdf
2025-05-20 15:55:13,831 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/permalink.php?story_fbid=pfbid021PPZL5gbG9z13hAZLaPhAGULcR3VNipJMfCLH4VDJn8aQ9k7KvgC6yQeAsujyKepl&id=100064089484737&rdid=E1OEnXv4iVTbRGro
2025-05-20 15:55:14,130 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/groups/142925476261791/permalink/1713016105919379/?rdid=qlREPYVsMHdGHPMI&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2Fp%2F1EaGLriuJo%2F
2025-05-20 15:55:14,148 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-4.pdf
2025-05-20 15:55:17,536 - lib.facebook_processor - INFO - Procesando URL de Facebook (9): https://www.facebook.com/permalink.php?story_fbid=pfbid06u3kqH3zC7LaCNYixodwUjR7dpgY84Y2HkdEmXaPnNrvy5WSWkCeVUtYzix4ork8l&id=100062993063417&rdid=W7M6TZM9WxOnYRNM
2025-05-20 15:55:18,624 - lib.facebook_processor - INFO - Progreso Facebook: 5/49 en 65.25 seg.
2025-05-20 15:55:18,624 - lib.facebook_processor - INFO - Procesando URL de Facebook (10): https://www.facebook.com/permalink.php?story_fbid=pfbid0reYaJGKSrrrM5sH1sZBTvPsm8im1uhSwyjzjmE433Meqhw21yPtjcWuFU6LZfnb1l&id=100072108931277&rdid=h4uCPExW0ybiyePi
2025-05-20 15:55:29,035 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-6.pdf
2025-05-20 15:55:33,056 - lib.facebook_processor - INFO - Procesando URL de Facebook (11): https://www.facebook.com/permalink.php?story_fbid=pfbid0gdz3Jt9XeV6CqoTTNaicfRqxFMk6MWSbX8L6CTS62eJjBpGkZjMWC4T2ym5HrUTHl&id=100065273659654&rdid=uFgc1hNpAT2S3DpG
2025-05-20 15:55:35,524 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-7.pdf
2025-05-20 15:55:39,090 - lib.facebook_processor - INFO - Procesando URL de Facebook (12): https://www.facebook.com/diarioprimiciahyo/posts/pfbid0MyvvUrEXMwK9JweVexky3uoJu9xYaG5CrP4wLPi25vuo4i4su39fj8bZe4HjAyAYl?rdid=WQIs6UTvdY7Bm09T
2025-05-20 15:55:44,734 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-10.pdf
2025-05-20 15:55:48,933 - lib.facebook_processor - INFO - Procesando URL de Facebook (13): https://www.facebook.com/permalink.php?story_fbid=pfbid0rR7UDLVAfscSqNLjgQEC4tLSMNvwUxiU7ZJJpmgaDRvitJ25FWysDbgdHfqvTMYsl&id=100066844274567&rdid=YWZjIZXhyCZwg75K
2025-05-20 15:55:52,373 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-9.pdf
2025-05-20 15:55:55,615 - lib.facebook_processor - INFO - Procesando URL de Facebook (14): https://www.facebook.com/radiostudio1huancavelicaoficial2023/posts/pfbid02wzvGm2NmrehqThvWApngvHX3QKMNV14n3C4h3Edi4B8bTsEytcqU2gwbCk8B5C8ml?rdid=Wpa8rNsRaAuEefKp
2025-05-20 15:56:07,083 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-8.pdf
2025-05-20 15:56:09,587 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-12.pdf
2025-05-20 15:56:11,761 - lib.facebook_processor - INFO - Progreso Facebook: 10/49 en 118.39 seg.
2025-05-20 15:56:11,761 - lib.facebook_processor - INFO - Procesando URL de Facebook (15): https://www.facebook.com/permalink.php?story_fbid=pfbid02MfN5NQfmwvb4W9kQZX93BVp21WugQWTryig2tQerHE7kFb2KrZfwx6NbpxTxpR1sl&id=100063616446639&rdid=vTNwRKdtFe2BIznu
2025-05-20 15:56:14,296 - lib.facebook_processor - INFO - Procesando URL de Facebook (16): https://www.facebook.com/permalink.php?story_fbid=pfbid0e49Y6pejvWGo3v1yMUo98TeE65wKFp9r6VGNfVWyCzZQ4qaxtRvpSwBAo7cJEaFEl&id=61559613183648&rdid=P8fBqLGKDPDzeFaQ
2025-05-20 15:56:20,592 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-11.pdf
2025-05-20 15:56:24,326 - lib.facebook_processor - INFO - Procesando URL de Facebook (17): https://www.facebook.com/PorSuPuertoNoticiasChimbote/posts/pfbid02oVqM6Gq2kMtaW9FPJugkPAwryZLVSvcAdX7LWdJHqei9qU7CBbHTf4aWmPEW1dhal?rdid=dMzYD3xKAFmcOzaM&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2Fp%2F16fnxz3UG6%2F
2025-05-20 15:56:24,529 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-13.pdf
2025-05-20 15:56:24,681 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-14.pdf
2025-05-20 15:56:28,031 - lib.facebook_processor - INFO - Procesando URL de Facebook (18): https://www.facebook.com/permalink.php?story_fbid=pfbid0TzCZwTAWQvxGLNMQ77dhngX98TVYedA6pB4XL5ksMGojoTp6ju7V5YawYRwedsACl&id=100092180403233&rdid=fGJGXkUs6xgloihe
2025-05-20 15:56:29,817 - lib.facebook_processor - INFO - Procesando URL de Facebook (19): https://www.facebook.com/rct.toquepala/posts/pfbid0PnmjyQnAbbFL8AgHwo3q94vSGszTBMhdysJMoKRKWFMmboBRRjMmhPRs3d1cGjekl?rdid=2LhTafC5kKyz68Dm
2025-05-20 15:56:36,072 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-15.pdf
2025-05-20 15:56:39,454 - lib.facebook_processor - INFO - Progreso Facebook: 15/49 en 146.08 seg.
2025-05-20 15:56:39,455 - lib.facebook_processor - INFO - Procesando URL de Facebook (20): https://www.facebook.com/photo?fbid=1242232614579107&set=a.419399216862455
2025-05-20 15:56:47,105 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-16.pdf
2025-05-20 15:56:51,740 - lib.facebook_processor - INFO - Procesando URL de Facebook (21): https://www.facebook.com/photo?fbid=1242232614579107&set=a.419399216862455
2025-05-20 15:57:00,139 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-17.pdf
2025-05-20 15:57:02,240 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-19.pdf
2025-05-20 15:57:03,456 - lib.facebook_processor - INFO - Procesando URL de Facebook (22): https://www.facebook.com/photo?fbid=629540879905471&set=a.115323967993834
2025-05-20 15:57:06,352 - lib.facebook_processor - INFO - Procesando URL de Facebook (23): https://www.facebook.com/photo?fbid=1169198698550401&set=a.479540714182873
2025-05-20 15:57:25,649 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-21.pdf
2025-05-20 15:57:30,265 - lib.facebook_processor - INFO - Procesando URL de Facebook (24): https://www.facebook.com/photo?fbid=9169253469869352&set=a.740299552764828
2025-05-20 15:57:39,702 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-18.pdf
2025-05-20 15:57:40,290 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-20.pdf
2025-05-20 15:57:40,835 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-23.pdf
2025-05-20 15:57:42,989 - lib.facebook_processor - INFO - Progreso Facebook: 20/49 en 209.62 seg.
2025-05-20 15:57:42,989 - lib.facebook_processor - INFO - Procesando URL de Facebook (25): https://www.facebook.com/photo/?fbid=721410753566836&set=a.257328239975092
2025-05-20 15:57:45,081 - lib.facebook_processor - INFO - Procesando URL de Facebook (26): https://www.facebook.com/photo/?fbid=721410753566836&set=a.257328239975092
2025-05-20 15:57:45,557 - lib.facebook_processor - INFO - Procesando URL de Facebook (27): https://www.facebook.com/photo?fbid=122113948808817608&set=a.122095373924817608
2025-05-20 15:58:03,758 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-22.pdf
2025-05-20 15:58:07,410 - lib.facebook_processor - INFO - Procesando URL de Facebook (28): https://www.facebook.com/photo/?fbid=1237408555057217&set=a.487862856678461
2025-05-20 15:58:07,686 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-25.pdf
2025-05-20 15:58:11,757 - lib.facebook_processor - INFO - Procesando URL de Facebook (29): https://www.facebook.com/photo/?fbid=960858089464459&set=a.411299177753689
2025-05-20 15:58:13,578 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-26.pdf
2025-05-20 15:58:17,508 - lib.facebook_processor - INFO - Progreso Facebook: 25/49 en 244.14 seg.
2025-05-20 15:58:17,508 - lib.facebook_processor - INFO - Procesando URL de Facebook (30): https://www.facebook.com/photo/?fbid=1238539827994284&set=a.679333793914893
2025-05-20 15:58:29,808 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-27.pdf
2025-05-20 15:58:31,700 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo?fbid=9169253469869352&set=a.740299552764828
2025-05-20 15:58:34,022 - lib.facebook_processor - INFO - Procesando URL de Facebook (31): https://www.facebook.com/photo/?fbid=1280481786925630&set=a.545355187104964
2025-05-20 15:58:35,745 - lib.facebook_processor - INFO - Procesando URL de Facebook (32): https://www.facebook.com/photo/?fbid=1280481786925630&set=a.545355187104964
2025-05-20 15:58:51,062 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-30.pdf
2025-05-20 15:58:52,213 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-29.pdf
2025-05-20 15:58:53,607 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-28.pdf
2025-05-20 15:58:55,816 - lib.facebook_processor - INFO - Procesando URL de Facebook (33): https://www.facebook.com/photo?fbid=1221031636698408&set=a.449832287151684
2025-05-20 15:58:56,369 - lib.facebook_processor - INFO - Procesando URL de Facebook (34): https://www.facebook.com/photo?fbid=1226748526117403&set=a.533177645474498
2025-05-20 15:58:57,419 - lib.facebook_processor - INFO - Procesando URL de Facebook (35): https://www.facebook.com/photo/?fbid=665063799607597&set=a.639907132123264
2025-05-20 15:58:57,420 - lib.facebook_processor - INFO - Progreso Facebook: 30/49 en 284.05 seg.
2025-05-20 15:59:10,274 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-32.pdf
2025-05-20 15:59:15,166 - lib.facebook_processor - INFO - Procesando URL de Facebook (36): https://www.facebook.com/photo/?fbid=665063799607597&set=a.639907132123264
2025-05-20 15:59:22,035 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-31.pdf
2025-05-20 15:59:22,373 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-33.pdf
2025-05-20 15:59:26,488 - lib.facebook_processor - INFO - Procesando URL de Facebook (37): https://www.facebook.com/photo/?fbid=637559772594411&set=a.102388759444851
2025-05-20 15:59:27,372 - lib.facebook_processor - INFO - Procesando URL de Facebook (38): https://www.facebook.com/photo/?fbid=1114765144012473&set=a.467617325393928
2025-05-20 15:59:42,217 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-35.pdf
2025-05-20 15:59:42,661 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-36.pdf
2025-05-20 15:59:44,935 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-34.pdf
2025-05-20 15:59:46,407 - lib.facebook_processor - INFO - Procesando URL de Facebook (39): https://www.facebook.com/diarioprimiciahyo/posts/pfbid02RhqT532dku4YWMgG9rR7xk6zinb8p88hSDNmufVtcq3B7CPeLxDDsMBzAcJp2YtKl
2025-05-20 15:59:47,759 - lib.facebook_processor - INFO - Progreso Facebook: 35/49 en 334.39 seg.
2025-05-20 15:59:47,759 - lib.facebook_processor - INFO - Procesando URL de Facebook (40): https://www.facebook.com/permalink.php?story_fbid=pfbid021jouJF85dPagGf9hj1URuvz9sQ3aZHTDMfa21ysQyodLPtTowsiz32GEnAEEW9nel&id=100064089484737
2025-05-20 15:59:48,452 - lib.facebook_processor - INFO - Procesando URL de Facebook (41): https://www.facebook.com/permalink.php?story_fbid=pfbid02N1nRLa7GK2U8dPUq5Usshmcu1QCB1w8aNrm3eEcLJ4GKt33PQta8s9UPTAYqgGu5l&id=100063616446639
2025-05-20 16:00:00,125 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-38.pdf
2025-05-20 16:00:04,285 - lib.facebook_processor - INFO - Procesando URL de Facebook (42): https://www.facebook.com/permalink.php?story_fbid=pfbid02AcxHRTr6b1iFcHj3ggcnUA5qrrD5ffsJPLHJRqcxKgWtkxqURyGpmQJRZBVgDWBnl&id=100062993063417
2025-05-20 16:00:10,537 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-37.pdf
2025-05-20 16:00:14,236 - lib.facebook_processor - INFO - Procesando URL de Facebook (43): https://www.facebook.com/permalink.php?story_fbid=pfbid0rX1PhnBjQNstoQsQRsxAmLQZAVqseMC62eZSwBEbx4YNZDZLYabRqpkEkV4vKgYfl&id=100072108931277
2025-05-20 16:00:26,387 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-39.pdf
2025-05-20 16:00:28,890 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-42.pdf
2025-05-20 16:00:29,434 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-41.pdf
2025-05-20 16:00:29,838 - lib.facebook_processor - INFO - Procesando URL de Facebook (44): https://www.facebook.com/permalink.php?story_fbid=pfbid02hn44h1SrKMRtWAV4KJwrcNn3chKoJUJkKhtR9tm13BJ4ZwJtJQsw8Exc7YD525rnl&id=61559613183648
2025-05-20 16:00:32,466 - lib.facebook_processor - INFO - Progreso Facebook: 40/49 en 379.09 seg.
2025-05-20 16:00:32,466 - lib.facebook_processor - INFO - Procesando URL de Facebook (45): https://www.facebook.com/radiostudio1huancavelicaoficial2023/posts/pfbid0tKjuFNchYjzV4Sb3Tj8N4esSxErQhbHGhYpvKEvtbnBzjRhSR5vzXbrsx2r16Q74l
2025-05-20 16:00:33,020 - lib.facebook_processor - INFO - Procesando URL de Facebook (46): https://www.facebook.com/share/v/15kkoxxenF/
2025-05-20 16:00:34,649 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-40.pdf
2025-05-20 16:00:37,953 - lib.facebook_processor - INFO - Procesando URL de Facebook (47): https://www.facebook.com/share/v/18i7auJett/
2025-05-20 16:01:00,590 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-45.pdf
2025-05-20 16:01:01,456 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-43.pdf
2025-05-20 16:01:03,000 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-46.pdf
2025-05-20 16:01:04,074 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-47.pdf
2025-05-20 16:01:05,389 - lib.facebook_processor - INFO - Procesando URL de Facebook (48): https://www.facebook.com/share/p/16NS3V5NCt/
2025-05-20 16:01:05,658 - lib.facebook_processor - INFO - Procesando URL de Facebook (49): https://www.facebook.com/larepublicape/posts/pfbid0uqz2JPrmET9KxDugQG5sz6fQ7GiMgk4NmoNzGAXjaCvkY8EST5CAiDYgM8eWWkf4l?rdid=eENdOaqDW0ifabAR
2025-05-20 16:01:07,398 - lib.facebook_processor - INFO - Progreso Facebook: 45/49 en 414.03 seg.
2025-05-20 16:01:14,984 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-44.pdf
2025-05-20 16:01:30,978 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-48.pdf
2025-05-20 16:01:33,505 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-49.pdf
2025-05-20 16:01:38,591 - lib.facebook_processor - INFO - Progreso Facebook: 49/49 en 445.22 seg.
2025-05-20 16:01:38,595 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_results_22042025.json
2025-05-20 16:01:38,596 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 43/49 exitosos en 445.23 segundos.
2025-05-20 16:01:38,596 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 445.23 seg.
2025-05-20 16:01:38,597 - lib.history_tracker - INFO - Añadidas 44 nuevas URLs al historial.
2025-05-20 16:01:38,599 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 229 URLs.
2025-05-20 16:01:38,599 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-20 16:01:39,219 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-20 16:01:39,787 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-3.pdf
2025-05-20 16:01:40,322 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-5.pdf
2025-05-20 16:01:40,677 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-4.pdf
2025-05-20 16:01:40,768 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-6.pdf
2025-05-20 16:01:40,892 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-7.pdf
2025-05-20 16:01:40,981 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-10.pdf
2025-05-20 16:01:41,088 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-9.pdf
2025-05-20 16:01:41,646 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-8.pdf
2025-05-20 16:01:42,019 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-12.pdf
2025-05-20 16:01:42,385 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-11.pdf
2025-05-20 16:01:42,890 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-13.pdf
2025-05-20 16:01:43,288 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-14.pdf
2025-05-20 16:01:43,681 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-15.pdf
2025-05-20 16:01:43,782 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-16.pdf
2025-05-20 16:01:44,185 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-17.pdf
2025-05-20 16:01:44,560 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-19.pdf
2025-05-20 16:01:44,765 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-20.pdf
2025-05-20 16:01:45,095 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-18.pdf
2025-05-20 16:01:45,174 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-23.pdf
2025-05-20 16:01:45,246 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-22.pdf
2025-05-20 16:01:45,339 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-26.pdf
2025-05-20 16:01:45,428 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-27.pdf
2025-05-20 16:01:45,512 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-30.pdf
2025-05-20 16:01:45,593 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-29.pdf
2025-05-20 16:01:45,697 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-28.pdf
2025-05-20 16:01:45,773 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-31.pdf
2025-05-20 16:01:45,860 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-33.pdf
2025-05-20 16:01:45,935 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-36.pdf
2025-05-20 16:01:46,016 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-34.pdf
2025-05-20 16:01:46,095 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-38.pdf
2025-05-20 16:01:46,174 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-37.pdf
2025-05-20 16:01:46,535 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-39.pdf
2025-05-20 16:01:46,646 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-42.pdf
2025-05-20 16:01:47,028 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-41.pdf
2025-05-20 16:01:47,156 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-40.pdf
2025-05-20 16:01:47,601 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-45.pdf
2025-05-20 16:01:47,700 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-43.pdf
2025-05-20 16:01:48,117 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-46.pdf
2025-05-20 16:01:48,183 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-47.pdf
2025-05-20 16:01:48,281 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-44.pdf
2025-05-20 16:01:48,956 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-48.pdf
2025-05-20 16:01:50,052 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-49.pdf
2025-05-20 16:01:50,052 - lib.facebook_processor - INFO - Texto extraído de 43 PDFs de Facebook
2025-05-20 16:01:50,052 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 11.45 seg.
2025-05-20 16:01:50,053 - main_orchestrator - INFO - Texto extraído de 43 PDFs de Facebook
2025-05-20 16:01:50,055 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-20 16:01:50,056 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-20 16:01:50,056 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-20 16:01:50,057 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-20 16:01:50,058 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-20 16:01:50,058 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-20T16:01:50.056780', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 103, 'history_total_urls': 229, 'categories': {'html': 39, 'images': 14, 'social': 50}, 'html_processing': {'attempted': 39, 'processed': 34, 'successful': 33, 'relevant (>=0.3)': 22, 'average_relevance': 0.48484848484848486}, 'image_processing': {'attempted_download': 14, 'successful_download': 11, 'attempted_api': 11, 'successful_api': 0}, 'facebook_processing': {'attempted': 49, 'successful': 43, 'extracted_texts': 43}, 'timings_seconds': {'pdf_extraction': 0.46, 'pdf_text_extraction': 11.45, 'image_download': 42.12, 'html_scraping': 37.73, 'image_api': 321.2, 'facebook_processing': 445.23, 'facebook_text_extraction': 11.45, 'stats_consolidation': 0.0}}
2025-05-20 16:01:50,058 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-20 16:01:50,059 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-20 16:01:50,074 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-20 16:01:50,078 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-20 16:01:50,079 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-20 16:01:50,079 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-20 16:01:50,107 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-20 16:01:50,107 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-20 16:01:50,107 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-20 16:01:50,107 - semantic_cleaner - INFO - Extraídos 32 textos de HTML
2025-05-20 16:01:50,108 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-20 16:01:50,108 - semantic_cleaner - INFO - Extraídos 43 textos de Facebook
2025-05-20 16:02:03,659 - semantic_cleaner - INFO - Se identificaron 75 grupos de textos similares
2025-05-20 16:02:03,660 - semantic_cleaner - INFO - Se seleccionaron 75 textos representativos
2025-05-20 16:02:03,660 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-20 16:02:03,660 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-20 16:02:03,665 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-20 16:02:03,666 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-20 16:02:03,681 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-20 16:02:03,682 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-20 16:02:03,683 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-20 16:02:03,683 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-20T16:01:50.056780', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 103, 'history_total_urls': 229, 'categories': {'html': 39, 'images': 14, 'social': 50}, 'html_processing': {'attempted': 39, 'processed': 34, 'successful': 33, 'relevant (>=0.3)': 22, 'average_relevance': 0.48484848484848486}, 'image_processing': {'attempted_download': 14, 'successful_download': 11, 'attempted_api': 11, 'successful_api': 0}, 'facebook_processing': {'attempted': 49, 'successful': 43, 'extracted_texts': 43}, 'timings_seconds': {'pdf_extraction': 0.46, 'pdf_text_extraction': 11.45, 'image_download': 42.12, 'html_scraping': 37.73, 'image_api': 321.2, 'facebook_processing': 445.23, 'facebook_text_extraction': 11.45, 'stats_consolidation': 0.0, 'semantic_cleaning': 13.6}}
2025-05-20 16:02:03,683 - main_orchestrator - INFO - Limpieza semántica completada en 13.60 seg.
2025-05-20 16:02:03,683 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-20 16:02:03,684 - facebook_extractor_fix - INFO - Ruta del proyecto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent
2025-05-20 16:02:03,684 - facebook_extractor_fix - INFO - Buscando archivo de Facebook en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-20 16:02:03,706 - facebook_extractor_fix - INFO - Estructura de los datos de Facebook: https://www.facebook.com/agenciandina/posts/pfbid0GoGrkSAmt6xy7bqZVtLhDRpmyYXpe9CQ8dS641ippmAcjbMuQtkK4o6yd75Gyoztl?rdid=1aMJtw9YNRZJfAlm
2025-05-20 16:02:03,707 - facebook_extractor_fix - INFO - Claves en la primera entrada: ['extracted_text', 'pdf_path', 'processed_date']
2025-05-20 16:02:03,723 - facebook_extractor_fix - INFO - Sección de Facebook añadida al archivo C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-20 16:02:03,724 - facebook_extractor_fix - INFO - Se han añadido 43 textos de Facebook al archivo limpio
2025-05-20 16:02:03,724 - main_orchestrator - INFO - Textos de Facebook integrados correctamente en archivos limpios
2025-05-20 16:02:03,725 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-20 16:02:03,725 - main_orchestrator - INFO - ==================================================
2025-05-20 16:02:03,725 - main_orchestrator - INFO - PIPELINE FINALIZADO en 872.01 segundos.
2025-05-20 16:02:03,726 - main_orchestrator - INFO - ==================================================
2025-05-20 18:55:42,863 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-20 18:55:42,869 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-20 18:55:42,872 - main_orchestrator - INFO - ==================================================
2025-05-20 18:55:42,874 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-20 18:55:42,875 - main_orchestrator - INFO - Usando fecha: 09042025
2025-05-20 18:55:42,875 - main_orchestrator - INFO - ==================================================
2025-05-20 18:55:42,891 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-20 18:55:42,893 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-20 18:55:42,897 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-20 18:55:42,902 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 229 URLs.
2025-05-20 18:55:42,904 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-20 18:55:42,906 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-20 18:55:42,907 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-20 18:55:42,908 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-20 18:55:42,909 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-20 18:55:42,910 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-20 18:55:42,911 - lib.pdf_processor - ERROR - Archivo PDF no encontrado: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\09042025.pdf
2025-05-20 18:55:42,912 - main_orchestrator - WARNING - No se encontraron enlaces en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\09042025.pdf. Terminando proceso para esta fecha.
2025-05-20 18:55:42,915 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_09042025.json
2025-05-20 18:55:42,917 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_09042025.json
2025-05-20 18:55:42,919 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-20T18:55:42.913776', 'date_processed': '09042025', 'total_urls_in_pdf': 0, 'error': 'No links found in PDF'}
2025-05-20 18:55:42,921 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-20 18:55:42,922 - main_orchestrator - INFO - ==================================================
2025-05-20 18:55:42,923 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.05 segundos.
2025-05-20 18:55:42,923 - main_orchestrator - INFO - ==================================================
2025-05-20 18:58:23,338 - main_orchestrator - INFO - ==================================================
2025-05-20 18:58:23,340 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-20 18:58:23,340 - main_orchestrator - INFO - Usando fecha: 16042025
2025-05-20 18:58:23,343 - main_orchestrator - INFO - ==================================================
2025-05-20 18:58:23,349 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-20 18:58:23,352 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-20 18:58:23,356 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-20 18:58:23,359 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 229 URLs.
2025-05-20 18:58:23,362 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-20 18:58:23,364 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-20 18:58:23,366 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-20 18:58:23,367 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-20 18:58:23,370 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-20 18:58:23,406 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025.pdf (6 páginas)
2025-05-20 18:58:23,812 - lib.pdf_processor - INFO - Se extrajeron 59 enlaces URI (no mailto) de 16042025.pdf.
2025-05-20 18:58:23,813 - main_orchestrator - INFO - PDF procesado en 0.44 seg. Enlaces encontrados: 59
2025-05-20 18:58:23,833 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_16042025.csv
2025-05-20 18:58:23,836 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-20 18:58:23,839 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025.pdf (6 páginas)
2025-05-20 18:58:23,907 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_16042025\pdf_text_16042025.json
2025-05-20 18:58:23,909 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 6 párrafos
2025-05-20 18:58:23,910 - main_orchestrator - INFO - Texto del PDF extraído en 0.07 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_16042025\pdf_text_16042025.json
2025-05-20 18:58:23,911 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-20 18:58:23,912 - lib.history_tracker - INFO - Filtradas 4 URLs ya procesadas del lote actual.
2025-05-20 18:58:23,914 - main_orchestrator - INFO - URLs nuevas para procesar: 55 (de 59 total)
2025-05-20 18:58:23,917 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-20 18:58:23,919 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-20 18:58:23,921 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-20 18:58:23,924 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-20 18:58:23,925 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-20 18:58:23,928 - lib.url_manager - INFO - Clasificación de 55 URLs:
2025-05-20 18:58:23,930 - lib.url_manager - INFO -  - HTML: 30
2025-05-20 18:58:23,932 - lib.url_manager - INFO -  - IMAGES: 12
2025-05-20 18:58:23,933 - lib.url_manager - INFO -  - SOCIAL: 13
2025-05-20 18:58:23,939 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\image_links_16042025_unprocessed.json
2025-05-20 18:58:23,944 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_16042025_unprocessed.json
2025-05-20 18:58:23,946 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-20 18:58:23,949 - lib.image_processor - INFO - Iniciando descarga paralela de 12 imágenes para la fecha 16042025...
2025-05-20 18:58:25,752 - lib.image_processor - INFO - Imagen 9 guardada como 'img_9_94815644_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (185015 bytes)
2025-05-20 18:58:25,879 - lib.image_processor - WARNING - URL https://imacorpplataforma.com/wp-content/uploads/2025/04/16-04-2025-RPP-MONICA-MUNOZ-NAJAR-COMENTA-CIFRAS-DE-SUNASS-PARA-CERRAR-BRECHA-DE-AGUA-Y-SANEAMIENTO-QUE-SUMA-138-MIL-SOLES.mp3 contiene audio/mpeg, no una imagen. Se registrará como tipo no válido.
2025-05-20 18:58:30,450 - lib.image_processor - INFO - Imagen 8 guardada como 'img_8_3ce873be_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (297977 bytes)
2025-05-20 18:58:31,479 - lib.image_processor - INFO - Imagen 7 guardada como 'img_7_135386b4_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (329609 bytes)
2025-05-20 18:58:32,351 - lib.image_processor - INFO - Imagen 5 guardada como 'img_5_5872ca8a_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (396505 bytes)
2025-05-20 18:58:32,542 - lib.image_processor - INFO - Imagen 4 guardada como 'img_4_edfc8ed9_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (284407 bytes)
2025-05-20 18:58:35,379 - lib.image_processor - INFO - Imagen 12 guardada como 'img_12_bb44165b_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (159855 bytes)
2025-05-20 18:58:37,302 - lib.image_processor - INFO - Imagen 6 guardada como 'img_6_9b807dd9_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (707746 bytes)
2025-05-20 18:58:38,456 - lib.image_processor - INFO - Imagen 3 guardada como 'img_3_f5bc9928_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (1049210 bytes)
2025-05-20 18:58:39,313 - lib.image_processor - INFO - Imagen 10 guardada como 'img_10_2e3ad109_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (1054067 bytes)
2025-05-20 18:58:39,313 - lib.image_processor - INFO - Imagen 11 guardada como 'img_11_141a2c9a_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (1040422 bytes)
2025-05-20 18:58:39,841 - lib.image_processor - INFO - Imagen 2 guardada como 'img_2_1e67714b_16042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (951901 bytes)
2025-05-20 18:58:39,972 - lib.image_processor - INFO - Progreso descarga imágenes: 10/12 en 16.02 seg.
2025-05-20 18:58:47,747 - lib.image_processor - INFO - Imagen 1 guardada como 'img_1_bd4e765a_16042025.mp3' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025 (2109336 bytes)
2025-05-20 18:58:48,221 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/04/16-04-2025-RPP-MONICA-MUNOZ-NAJAR-COMENTA-CIFRAS-DE-SUNASS-PARA-CERRAR-BRECHA-DE-AGUA-Y-SANEAMIENTO-QUE-SUMA-138-MIL-SOLES.mp3: Content type 'audio/mpeg' is not an image
2025-05-20 18:58:48,223 - lib.image_processor - INFO - Progreso descarga imágenes: 12/12 en 24.27 seg.
2025-05-20 18:58:48,231 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\image_links_16042025.json
2025-05-20 18:58:48,234 - lib.image_processor - INFO - Descarga de imágenes completada para 12/12 URLs en 24.29 segundos.
2025-05-20 18:58:48,235 - main_orchestrator - INFO - Descarga de imágenes completada en 24.29 seg.
2025-05-20 18:58:48,236 - lib.history_tracker - INFO - Añadidas 12 nuevas URLs al historial.
2025-05-20 18:58:48,239 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 241 URLs.
2025-05-20 18:58:48,241 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-20 18:58:48,244 - lib.html_scraper - INFO - Iniciando scraping paralelo de 30 URLs...
2025-05-20 18:58:56,478 - lib.html_scraper - INFO - Progreso: 20/30 URLs procesadas en 8.23 seg.
2025-05-20 18:59:08,592 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=3, read=2, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='eltiempo.pe', port=443): Read timed out. (read timeout=20)")': /local/piura-ciudadanos-rechazan-posible-alza-en-la-tarifa-del-agua/
2025-05-20 18:59:20,151 - lib.html_scraper - INFO - Progreso: 30/30 URLs procesadas en 31.91 seg.
2025-05-20 18:59:20,159 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_16042025.json
2025-05-20 18:59:20,160 - lib.html_scraper - INFO - Scraping completado para 30/30 URLs en 31.92 segundos.
2025-05-20 18:59:20,161 - lib.html_scraper - INFO - Resultados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_16042025.json
2025-05-20 18:59:20,162 - main_orchestrator - INFO - Scraping HTML completado en 31.92 seg.
2025-05-20 18:59:20,163 - lib.history_tracker - INFO - Añadidas 29 nuevas URLs al historial.
2025-05-20 18:59:20,168 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 270 URLs.
2025-05-20 18:59:20,170 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-20 18:59:21,655 - lib.api_client - ERROR - Error procesando tmpdmgv6h7f.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 35
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 35
}
]
2025-05-20 18:59:21,664 - lib.image_processor - WARNING - Error en prueba de API, pero no parece ser de configuración: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 35
}
]
2025-05-20 18:59:21,665 - lib.image_processor - INFO - Procesando 12 imágenes con API (batch_size=3, pausa=60s)
2025-05-20 18:59:21,667 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-20 18:59:21,668 - lib.image_processor - INFO - Procesando imagen con API: img_9_94815644_16042025.jpg
2025-05-20 18:59:23,013 - lib.api_client - ERROR - Error procesando img_9_94815644_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 34
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 34
}
]
2025-05-20 18:59:24,558 - lib.image_processor - WARNING - Imagen img_9_94815644_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 18:59:24,561 - lib.image_processor - WARNING - Error procesando imagen img_9_94815644_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 34
}
]
2025-05-20 18:59:25,068 - lib.image_processor - INFO - Procesando imagen con API: img_8_3ce873be_16042025.jpg
2025-05-20 18:59:27,123 - lib.api_client - ERROR - Error procesando img_8_3ce873be_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 30
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 30
}
]
2025-05-20 18:59:28,385 - lib.image_processor - WARNING - Imagen img_8_3ce873be_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 18:59:28,389 - lib.image_processor - WARNING - Error procesando imagen img_8_3ce873be_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 30
}
]
2025-05-20 18:59:29,362 - lib.image_processor - INFO - Procesando imagen con API: img_7_135386b4_16042025.jpg
2025-05-20 18:59:31,582 - lib.api_client - ERROR - Error procesando img_7_135386b4_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
2025-05-20 18:59:33,201 - lib.image_processor - WARNING - Imagen img_7_135386b4_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 18:59:33,207 - lib.image_processor - WARNING - Error procesando imagen img_7_135386b4_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
2025-05-20 18:59:34,159 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-20 19:00:34,160 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-20 19:00:34,161 - lib.image_processor - INFO - Procesando imagen con API: img_4_edfc8ed9_16042025.jpg
2025-05-20 19:00:36,077 - lib.api_client - ERROR - Error procesando img_4_edfc8ed9_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 21
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 21
}
]
2025-05-20 19:00:38,386 - lib.image_processor - WARNING - Imagen img_4_edfc8ed9_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 19:00:38,391 - lib.image_processor - WARNING - Error procesando imagen img_4_edfc8ed9_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 21
}
]
2025-05-20 19:00:39,298 - lib.image_processor - INFO - Procesando imagen con API: img_5_5872ca8a_16042025.jpg
2025-05-20 19:00:41,898 - lib.api_client - ERROR - Error procesando img_5_5872ca8a_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 15
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 15
}
]
2025-05-20 19:00:43,325 - lib.image_processor - WARNING - Imagen img_5_5872ca8a_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 19:00:43,329 - lib.image_processor - WARNING - Error procesando imagen img_5_5872ca8a_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 15
}
]
2025-05-20 19:00:44,295 - lib.image_processor - INFO - Procesando imagen con API: img_12_bb44165b_16042025.jpg
2025-05-20 19:00:45,447 - lib.api_client - ERROR - Error procesando img_12_bb44165b_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
2025-05-20 19:00:47,632 - lib.image_processor - WARNING - Imagen img_12_bb44165b_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 19:00:47,636 - lib.image_processor - WARNING - Error procesando imagen img_12_bb44165b_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
2025-05-20 19:00:48,428 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-20 19:01:48,430 - lib.image_processor - INFO - Procesando batch 3 (3 imágenes)
2025-05-20 19:01:48,431 - lib.image_processor - INFO - Procesando imagen con API: img_6_9b807dd9_16042025.jpg
2025-05-20 19:01:52,904 - lib.api_client - ERROR - Error procesando img_6_9b807dd9_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 4
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 4
}
]
2025-05-20 19:01:54,442 - lib.image_processor - WARNING - Imagen img_6_9b807dd9_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 19:01:54,445 - lib.image_processor - WARNING - Error procesando imagen img_6_9b807dd9_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 4
}
]
2025-05-20 19:01:55,437 - lib.image_processor - INFO - Procesando imagen con API: img_3_f5bc9928_16042025.jpg
2025-05-20 19:02:01,536 - lib.api_client - ERROR - Error procesando img_3_f5bc9928_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 55
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 55
}
]
2025-05-20 19:02:04,439 - lib.image_processor - WARNING - Imagen img_3_f5bc9928_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 19:02:04,443 - lib.image_processor - WARNING - Error procesando imagen img_3_f5bc9928_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 55
}
]
2025-05-20 19:02:05,184 - lib.image_processor - INFO - Procesando imagen con API: img_10_2e3ad109_16042025.jpg
2025-05-20 19:02:11,505 - lib.api_client - ERROR - Error procesando img_10_2e3ad109_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 46
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 46
}
]
2025-05-20 19:02:13,883 - lib.image_processor - WARNING - Imagen img_10_2e3ad109_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 19:02:13,889 - lib.image_processor - WARNING - Error procesando imagen img_10_2e3ad109_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 46
}
]
2025-05-20 19:02:14,414 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-20 19:03:14,415 - lib.image_processor - INFO - Procesando batch 4 (3 imágenes)
2025-05-20 19:03:14,416 - lib.image_processor - INFO - Procesando imagen con API: img_11_141a2c9a_16042025.jpg
2025-05-20 19:03:20,523 - lib.api_client - ERROR - Error procesando img_11_141a2c9a_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 36
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 36
}
]
2025-05-20 19:03:22,179 - lib.image_processor - WARNING - Imagen img_11_141a2c9a_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 19:03:22,182 - lib.image_processor - WARNING - Error procesando imagen img_11_141a2c9a_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 36
}
]
2025-05-20 19:03:23,035 - lib.image_processor - INFO - Procesando imagen con API: img_2_1e67714b_16042025.jpg
2025-05-20 19:03:28,889 - lib.api_client - ERROR - Error procesando img_2_1e67714b_16042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 28
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 28
}
]
2025-05-20 19:03:31,359 - lib.image_processor - WARNING - Imagen img_2_1e67714b_16042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-20 19:03:31,363 - lib.image_processor - WARNING - Error procesando imagen img_2_1e67714b_16042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 28
}
]
2025-05-20 19:03:31,955 - lib.image_processor - INFO - Procesando imagen con API: img_1_bd4e765a_16042025.mp3
2025-05-20 19:03:32,080 - lib.image_processor - WARNING - Archivo no es una imagen válida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025\img_1_bd4e765a_16042025.mp3 (formato detectado: None)
2025-05-20 19:03:32,081 - lib.image_processor - WARNING - Error procesando imagen img_1_bd4e765a_16042025.mp3: File is not a valid image
2025-05-20 19:03:32,690 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025\texto_imagenes_api.json
2025-05-20 19:03:32,691 - lib.image_processor - INFO - Resultados de API guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\16042025\texto_imagenes_api.json
2025-05-20 19:03:32,692 - lib.image_processor - INFO - Procesamiento API completado para 0/12 imágenes en 251.03 segundos.
2025-05-20 19:03:32,693 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 252.52 seg.
2025-05-20 19:03:32,694 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-20 19:03:32,697 - main_orchestrator - INFO - Leyendo archivo social para la fecha 16042025: social_links_16042025_unprocessed.json
2025-05-20 19:03:32,723 - main_orchestrator - INFO - Encontradas 8 URLs de Facebook para procesar
2025-05-20 19:03:32,725 - main_orchestrator - INFO - Creado directorio para PDFs: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025
2025-05-20 19:03:32,727 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output
2025-05-20 19:03:32,729 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 8 URLs de Facebook para la fecha 16042025...
2025-05-20 19:03:32,733 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/watch/?mibextid=wwXIfr&v=3007796432728360&rdid=dwTFhLT54rEu7lo1
2025-05-20 19:03:32,738 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/permalink.php?story_fbid=pfbid09ACxxwnwvhgHhbqkGtJUuECu47dMTUFvPWAfCeP7tFNBhh7M9mdYm5SVfb2rtsDPl&id=100063616446639
2025-05-20 19:03:32,742 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/permalink.php?story_fbid=pfbid0d1rwcSyt4kFugPvuGnZUvZE7nbwY34VvAXYZk54edPc2mJgs2dEXcDCwjqhexj1pl&id=100064089484737
2025-05-20 19:03:32,742 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/permalink.php?story_fbid=pfbid0gx7Pg2NrMZca5bR3hwTVSh6FSZuDwqa2fesjxWk7KCiUni3vohjaSj6fW4M3MUKkl&id=100065273659654
2025-05-20 19:03:32,743 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/permalink.php?story_fbid=pfbid02z62m7HKa1tBsxHC9YHA2TuS2Bc5twqTBf9PANRUXvgffgrhDdnuGXJQuBNhf8SuMl&id=61559613183648
2025-05-20 19:04:15,910 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-2.pdf
2025-05-20 19:04:19,395 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/permalink.php?story_fbid=pfbid02jjxa5vMavsFyt2VVpMfg7aLimbMDQw21agnBHdsiyWfSL6BomtXekrcmNyiKkviNl&id=100062993063417
2025-05-20 19:04:21,616 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-3.pdf
2025-05-20 19:04:25,685 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/permalink.php?story_fbid=pfbid02ozZBtnBo2bLjaHnXZ4TTZygwN3fjLhwdZEwab7R7vyUj8k8DKoUsC4rey5YfaEbel&id=100072108931277
2025-05-20 19:04:37,160 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-5.pdf
2025-05-20 19:04:41,217 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/larepublicanorte/posts/980634487518628
2025-05-20 19:04:44,554 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-1.pdf
2025-05-20 19:04:47,666 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-4.pdf
2025-05-20 19:04:52,256 - lib.facebook_processor - INFO - Progreso Facebook: 5/8 en 79.53 seg.
2025-05-20 19:05:04,543 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-6.pdf
2025-05-20 19:05:05,611 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-8.pdf
2025-05-20 19:05:08,605 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-7.pdf
2025-05-20 19:05:13,382 - lib.facebook_processor - INFO - Progreso Facebook: 8/8 en 100.65 seg.
2025-05-20 19:05:13,386 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_results_16042025.json
2025-05-20 19:05:13,387 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 8/8 exitosos en 100.66 segundos.
2025-05-20 19:05:13,388 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 100.66 seg.
2025-05-20 19:05:13,389 - lib.history_tracker - INFO - Añadidas 8 nuevas URLs al historial.
2025-05-20 19:05:13,394 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 278 URLs.
2025-05-20 19:05:13,396 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-20 19:05:14,027 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-2.pdf
2025-05-20 19:05:14,560 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-3.pdf
2025-05-20 19:05:15,092 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-5.pdf
2025-05-20 19:05:15,254 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-1.pdf
2025-05-20 19:05:15,774 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-4.pdf
2025-05-20 19:05:16,293 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-6.pdf
2025-05-20 19:05:16,731 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-8.pdf
2025-05-20 19:05:17,193 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\16042025\16042025-7.pdf
2025-05-20 19:05:17,194 - lib.facebook_processor - INFO - Texto extraído de 8 PDFs de Facebook
2025-05-20 19:05:17,195 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 3.80 seg.
2025-05-20 19:05:17,195 - main_orchestrator - INFO - Texto extraído de 8 PDFs de Facebook
2025-05-20 19:05:17,198 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_16042025.json
2025-05-20 19:05:17,200 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_16042025.json
2025-05-20 19:05:17,202 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-20 19:05:17,205 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_16042025.json
2025-05-20 19:05:17,207 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_16042025.json
2025-05-20 19:05:17,209 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-20T19:05:17.204043', 'date_processed': '16042025', 'total_urls_in_pdf': 59, 'new_urls_processed_count': 55, 'history_total_urls': 278, 'categories': {'html': 30, 'images': 12, 'social': 13}, 'html_processing': {'attempted': 30, 'processed': 29, 'successful': 29, 'relevant (>=0.3)': 16, 'average_relevance': 0.4620689655172414}, 'image_processing': {'attempted_download': 12, 'successful_download': 11, 'attempted_api': 11, 'successful_api': 0}, 'facebook_processing': {'attempted': 8, 'successful': 8, 'extracted_texts': 8}, 'timings_seconds': {'pdf_extraction': 0.44, 'pdf_text_extraction': 3.8, 'image_download': 24.29, 'html_scraping': 31.92, 'image_api': 252.52, 'facebook_processing': 100.66, 'facebook_text_extraction': 3.8, 'stats_consolidation': 0.0}}
2025-05-20 19:05:17,211 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-20 19:05:17,212 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-20 19:05:17,233 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_16042025\pdf_text_16042025.json
2025-05-20 19:05:17,240 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_16042025.json
2025-05-20 19:05:17,241 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_16042025.json
2025-05-20 19:05:17,242 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-20 19:05:17,267 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-20 19:05:17,268 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-20 19:05:17,269 - semantic_cleaner - INFO - Extraídos 6 textos de PDF
2025-05-20 19:05:17,270 - semantic_cleaner - INFO - Extraídos 29 textos de HTML
2025-05-20 19:05:17,272 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-20 19:05:17,274 - semantic_cleaner - INFO - Extraídos 8 textos de Facebook
2025-05-20 19:05:23,239 - semantic_cleaner - INFO - Se identificaron 43 grupos de textos similares
2025-05-20 19:05:23,240 - semantic_cleaner - INFO - Se seleccionaron 43 textos representativos
2025-05-20 19:05:23,241 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-20 19:05:23,242 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_16042025.json
2025-05-20 19:05:23,249 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_16042025.json
2025-05-20 19:05:23,250 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_16042025.md
2025-05-20 19:05:23,263 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_16042025.md
2025-05-20 19:05:23,266 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_16042025.json
2025-05-20 19:05:23,267 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_16042025.json
2025-05-20 19:05:23,268 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-20T19:05:17.204043', 'date_processed': '16042025', 'total_urls_in_pdf': 59, 'new_urls_processed_count': 55, 'history_total_urls': 278, 'categories': {'html': 30, 'images': 12, 'social': 13}, 'html_processing': {'attempted': 30, 'processed': 29, 'successful': 29, 'relevant (>=0.3)': 16, 'average_relevance': 0.4620689655172414}, 'image_processing': {'attempted_download': 12, 'successful_download': 11, 'attempted_api': 11, 'successful_api': 0}, 'facebook_processing': {'attempted': 8, 'successful': 8, 'extracted_texts': 8}, 'timings_seconds': {'pdf_extraction': 0.44, 'pdf_text_extraction': 3.8, 'image_download': 24.29, 'html_scraping': 31.92, 'image_api': 252.52, 'facebook_processing': 100.66, 'facebook_text_extraction': 3.8, 'stats_consolidation': 0.0, 'semantic_cleaning': 6.02}}
2025-05-20 19:05:23,270 - main_orchestrator - INFO - Limpieza semántica completada en 6.02 seg.
2025-05-20 19:05:23,271 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-20 19:05:23,275 - facebook_extractor_fix - INFO - Ruta del proyecto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent
2025-05-20 19:05:23,276 - facebook_extractor_fix - INFO - Buscando archivo de Facebook en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_16042025.json
2025-05-20 19:05:23,306 - facebook_extractor_fix - INFO - Estructura de los datos de Facebook: https://www.facebook.com/permalink.php?story_fbid=pfbid09ACxxwnwvhgHhbqkGtJUuECu47dMTUFvPWAfCeP7tFNBhh7M9mdYm5SVfb2rtsDPl&id=100063616446639
2025-05-20 19:05:23,307 - facebook_extractor_fix - INFO - Claves en la primera entrada: ['extracted_text', 'pdf_path', 'processed_date']
2025-05-20 19:05:23,327 - facebook_extractor_fix - INFO - Sección de Facebook añadida al archivo C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_16042025.md
2025-05-20 19:05:23,328 - facebook_extractor_fix - INFO - Se han añadido 8 textos de Facebook al archivo limpio
2025-05-20 19:05:23,328 - main_orchestrator - INFO - Textos de Facebook integrados correctamente en archivos limpios
2025-05-20 19:05:23,329 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-20 19:05:23,330 - main_orchestrator - INFO - ==================================================
2025-05-20 19:05:23,332 - main_orchestrator - INFO - PIPELINE FINALIZADO en 419.99 segundos.
2025-05-20 19:05:23,334 - main_orchestrator - INFO - ==================================================
2025-05-21 16:54:30,262 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 16:54:30,267 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 16:54:35,897 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 16:54:35,901 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 16:55:37,510 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 16:55:37,515 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 17:16:58,948 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 17:16:58,953 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 17:18:08,246 - main_orchestrator - INFO - ==================================================
2025-05-21 17:18:08,247 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-21 17:18:08,247 - main_orchestrator - INFO - Usando fecha: 15042025
2025-05-21 17:18:08,248 - main_orchestrator - INFO - ==================================================
2025-05-21 17:18:08,271 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-21 17:18:08,272 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-21 17:18:08,274 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-21 17:18:08,275 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 278 URLs.
2025-05-21 17:18:08,275 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-21 17:18:08,276 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-21 17:18:08,276 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-21 17:18:08,277 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-21 17:18:08,277 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-21 17:18:08,277 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-21 17:18:08,316 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025.pdf (5 páginas)
2025-05-21 17:18:08,619 - lib.pdf_processor - INFO - Se extrajeron 52 enlaces URI (no mailto) de 15042025.pdf.
2025-05-21 17:18:08,619 - main_orchestrator - INFO - PDF procesado en 0.34 seg. Enlaces encontrados: 52
2025-05-21 17:18:08,635 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_15042025.csv
2025-05-21 17:18:08,636 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-21 17:18:08,637 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025.pdf (5 páginas)
2025-05-21 17:18:08,690 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_15042025\pdf_text_15042025.json
2025-05-21 17:18:08,690 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 6 párrafos
2025-05-21 17:18:08,690 - main_orchestrator - INFO - Texto del PDF extraído en 0.05 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_15042025\pdf_text_15042025.json
2025-05-21 17:18:08,691 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-21 17:18:08,691 - lib.history_tracker - INFO - Filtradas 2 URLs ya procesadas del lote actual.
2025-05-21 17:18:08,691 - main_orchestrator - INFO - URLs nuevas para procesar: 50 (de 52 total)
2025-05-21 17:18:08,692 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-21 17:18:08,692 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-21 17:18:08,692 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-21 17:18:08,692 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-21 17:18:08,693 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-21 17:18:08,694 - lib.url_manager - INFO - Clasificación de 50 URLs:
2025-05-21 17:18:08,694 - lib.url_manager - INFO -  - HTML: 20
2025-05-21 17:18:08,695 - lib.url_manager - INFO -  - IMAGES: 6
2025-05-21 17:18:08,695 - lib.url_manager - INFO -  - SOCIAL: 24
2025-05-21 17:18:08,696 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\image_links_15042025_unprocessed.json
2025-05-21 17:18:08,698 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_15042025_unprocessed.json
2025-05-21 17:18:08,699 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-21 17:18:08,699 - lib.image_processor - INFO - Iniciando descarga paralela de 6 imágenes para la fecha 15042025...
2025-05-21 17:18:11,547 - lib.image_processor - INFO - Imagen 5 guardada como 'img_5_8107240a_15042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025 (208128 bytes)
2025-05-21 17:18:12,910 - lib.image_processor - INFO - Imagen 4 guardada como 'img_4_c20487c6_15042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025 (220092 bytes)
2025-05-21 17:18:15,942 - lib.image_processor - INFO - Imagen 2 guardada como 'img_2_7bbd95cb_15042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025 (798934 bytes)
2025-05-21 17:18:16,810 - lib.image_processor - INFO - Imagen 6 guardada como 'img_6_45955483_15042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025 (511584 bytes)
2025-05-21 17:18:17,524 - lib.image_processor - INFO - Imagen 1 guardada como 'img_1_7af72526_15042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025 (488907 bytes)
2025-05-21 17:18:20,907 - lib.image_processor - INFO - Imagen 3 guardada como 'img_3_2353b10e_15042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025 (1134418 bytes)
2025-05-21 17:18:21,452 - lib.image_processor - INFO - Progreso descarga imágenes: 6/6 en 12.75 seg.
2025-05-21 17:18:21,456 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\image_links_15042025.json
2025-05-21 17:18:21,456 - lib.image_processor - INFO - Descarga de imágenes completada para 6/6 URLs en 12.76 segundos.
2025-05-21 17:18:21,456 - main_orchestrator - INFO - Descarga de imágenes completada en 12.76 seg.
2025-05-21 17:18:21,457 - lib.history_tracker - INFO - Añadidas 6 nuevas URLs al historial.
2025-05-21 17:18:21,459 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 284 URLs.
2025-05-21 17:18:21,459 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-21 17:18:21,459 - lib.html_scraper - INFO - Iniciando scraping paralelo de 20 URLs...
2025-05-21 17:18:32,405 - lib.html_scraper - INFO - Progreso: 20/20 URLs procesadas en 10.95 seg.
2025-05-21 17:18:32,411 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_15042025.json
2025-05-21 17:18:32,411 - lib.html_scraper - INFO - Scraping completado para 20/20 URLs en 10.95 segundos.
2025-05-21 17:18:32,412 - lib.html_scraper - INFO - Resultados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_15042025.json
2025-05-21 17:18:32,412 - main_orchestrator - INFO - Scraping HTML completado en 10.95 seg.
2025-05-21 17:18:32,413 - lib.history_tracker - INFO - Añadidas 19 nuevas URLs al historial.
2025-05-21 17:18:32,415 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 303 URLs.
2025-05-21 17:18:32,415 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-21 17:18:34,074 - lib.api_client - ERROR - Error procesando tmpjwqwwwi4.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
2025-05-21 17:18:34,165 - lib.image_processor - WARNING - Error en prueba de API, pero no parece ser de configuración: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
2025-05-21 17:18:34,166 - lib.image_processor - INFO - Procesando 6 imágenes con API (batch_size=3, pausa=60s)
2025-05-21 17:18:34,166 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-21 17:18:34,166 - lib.image_processor - INFO - Procesando imagen con API: img_5_8107240a_15042025.jpg
2025-05-21 17:18:35,673 - lib.api_client - ERROR - Error procesando img_5_8107240a_15042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 23
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 23
}
]
2025-05-21 17:18:37,470 - lib.image_processor - WARNING - Imagen img_5_8107240a_15042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-21 17:18:37,473 - lib.image_processor - WARNING - Error procesando imagen img_5_8107240a_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 23
}
]
2025-05-21 17:18:38,212 - lib.image_processor - INFO - Procesando imagen con API: img_4_c20487c6_15042025.jpg
2025-05-21 17:18:39,764 - lib.api_client - ERROR - Error procesando img_4_c20487c6_15042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 19
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 19
}
]
2025-05-21 17:18:42,155 - lib.image_processor - WARNING - Imagen img_4_c20487c6_15042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-21 17:18:42,157 - lib.image_processor - WARNING - Error procesando imagen img_4_c20487c6_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 19
}
]
2025-05-21 17:18:42,809 - lib.image_processor - INFO - Procesando imagen con API: img_2_7bbd95cb_15042025.jpg
2025-05-21 17:18:43,538 - main_orchestrator - INFO - ==================================================
2025-05-21 17:18:43,538 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-21 17:18:43,539 - main_orchestrator - INFO - Usando fecha: 15042025
2025-05-21 17:18:43,539 - main_orchestrator - INFO - ==================================================
2025-05-21 17:18:43,540 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-21 17:18:43,542 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-21 17:18:43,543 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-21 17:18:43,578 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 303 URLs.
2025-05-21 17:18:43,579 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-21 17:18:43,580 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-21 17:18:43,580 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-21 17:18:43,581 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-21 17:18:43,581 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-21 17:18:43,583 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025.pdf (5 páginas)
2025-05-21 17:18:43,859 - lib.pdf_processor - INFO - Se extrajeron 52 enlaces URI (no mailto) de 15042025.pdf.
2025-05-21 17:18:43,860 - main_orchestrator - INFO - PDF procesado en 0.28 seg. Enlaces encontrados: 52
2025-05-21 17:18:43,863 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_15042025.csv
2025-05-21 17:18:43,863 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-21 17:18:43,864 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025.pdf (5 páginas)
2025-05-21 17:18:43,910 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_15042025\pdf_text_15042025.json
2025-05-21 17:18:43,911 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 6 párrafos
2025-05-21 17:18:43,911 - main_orchestrator - INFO - Texto del PDF extraído en 0.05 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_15042025\pdf_text_15042025.json
2025-05-21 17:18:43,911 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-21 17:18:43,911 - lib.history_tracker - INFO - Filtradas 28 URLs ya procesadas del lote actual.
2025-05-21 17:18:43,911 - main_orchestrator - INFO - URLs nuevas para procesar: 24 (de 52 total)
2025-05-21 17:18:43,912 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-21 17:18:43,912 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-21 17:18:43,912 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-21 17:18:43,913 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-21 17:18:43,913 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-21 17:18:43,914 - lib.url_manager - INFO - Clasificación de 24 URLs:
2025-05-21 17:18:43,914 - lib.url_manager - INFO -  - SOCIAL: 24
2025-05-21 17:18:43,915 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_15042025_unprocessed.json
2025-05-21 17:18:43,916 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-21 17:18:43,916 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-21 17:18:43,916 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-21 17:18:43,916 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-21 17:18:43,917 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-21 17:18:43,917 - main_orchestrator - INFO - Encontradas 6 imágenes existentes sin procesar en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025
2025-05-21 17:18:45,252 - lib.api_client - ERROR - Error procesando tmpntulew4b.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
2025-05-21 17:18:45,255 - lib.image_processor - WARNING - Error en prueba de API, pero no parece ser de configuración: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
2025-05-21 17:18:45,256 - lib.image_processor - INFO - Procesando 6 imágenes con API (batch_size=3, pausa=60s)
2025-05-21 17:18:45,256 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-21 17:18:45,256 - lib.image_processor - INFO - Procesando imagen con API: img_1_7af72526_15042025.jpg
2025-05-21 17:18:50,425 - lib.api_client - ERROR - Error procesando img_2_7bbd95cb_15042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
2025-05-21 17:18:50,466 - lib.api_client - ERROR - Error procesando img_1_7af72526_15042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
2025-05-21 17:18:51,994 - lib.image_processor - WARNING - Imagen img_1_7af72526_15042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-21 17:18:51,996 - lib.image_processor - WARNING - Error procesando imagen img_1_7af72526_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
2025-05-21 17:18:52,714 - lib.image_processor - INFO - Procesando imagen con API: img_2_7bbd95cb_15042025.jpg
2025-05-21 17:18:52,769 - lib.image_processor - WARNING - Imagen img_2_7bbd95cb_15042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-21 17:18:52,771 - lib.image_processor - WARNING - Error procesando imagen img_2_7bbd95cb_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
2025-05-21 17:18:52,809 - lib.image_processor - INFO - Imagen img_2_7bbd95cb_15042025.jpg visualmente similar a otra ya procesada
2025-05-21 17:18:52,824 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_2_7bbd95cb_15042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-21 17:18:52,824 - lib.image_processor - WARNING - Error procesando imagen img_2_7bbd95cb_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
2025-05-21 17:18:53,428 - lib.image_processor - INFO - Procesando imagen con API: img_3_2353b10e_15042025.jpg
2025-05-21 17:18:53,764 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-21 17:19:00,142 - lib.api_client - ERROR - Error procesando img_3_2353b10e_15042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 59
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 59
}
]
2025-05-21 17:19:02,140 - lib.image_processor - WARNING - Imagen img_3_2353b10e_15042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-21 17:19:02,143 - lib.image_processor - WARNING - Error procesando imagen img_3_2353b10e_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 59
}
]
2025-05-21 17:19:03,021 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-21 17:19:53,765 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-21 17:19:53,765 - lib.image_processor - INFO - Procesando imagen con API: img_6_45955483_15042025.jpg
2025-05-21 17:19:57,012 - lib.api_client - ERROR - Error procesando img_6_45955483_15042025.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 2
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 2
}
]
2025-05-21 17:19:58,503 - lib.image_processor - WARNING - Imagen img_6_45955483_15042025.jpg marcada como PERMANENTEMENTE no procesable (demasiado pesada/compleja)
2025-05-21 17:19:58,506 - lib.image_processor - WARNING - Error procesando imagen img_6_45955483_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 2
}
]
2025-05-21 17:19:59,187 - lib.image_processor - INFO - Procesando imagen con API: img_1_7af72526_15042025.jpg
2025-05-21 17:19:59,274 - lib.image_processor - INFO - Imagen img_1_7af72526_15042025.jpg visualmente similar a otra ya procesada
2025-05-21 17:19:59,290 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_1_7af72526_15042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-21 17:19:59,290 - lib.image_processor - WARNING - Error procesando imagen img_1_7af72526_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
2025-05-21 17:20:00,008 - lib.image_processor - INFO - Procesando imagen con API: img_3_2353b10e_15042025.jpg
2025-05-21 17:20:00,133 - lib.image_processor - INFO - Imagen img_3_2353b10e_15042025.jpg visualmente similar a otra ya procesada
2025-05-21 17:20:00,147 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_3_2353b10e_15042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-21 17:20:00,148 - lib.image_processor - WARNING - Error procesando imagen img_3_2353b10e_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 59
}
]
2025-05-21 17:20:00,698 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025\texto_imagenes_api.json
2025-05-21 17:20:00,699 - lib.image_processor - INFO - Resultados de API guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025\texto_imagenes_api.json
2025-05-21 17:20:00,699 - lib.image_processor - INFO - Procesamiento API completado para 0/6 imágenes en 86.53 segundos.
2025-05-21 17:20:00,699 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 88.28 seg.
2025-05-21 17:20:00,700 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-21 17:20:00,700 - main_orchestrator - INFO - Leyendo archivo social para la fecha 15042025: social_links_15042025_unprocessed.json
2025-05-21 17:20:00,728 - main_orchestrator - INFO - Encontradas 22 URLs de Facebook para procesar
2025-05-21 17:20:00,729 - main_orchestrator - INFO - Creado directorio para PDFs: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025
2025-05-21 17:20:00,730 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output
2025-05-21 17:20:00,730 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 22 URLs de Facebook para la fecha 15042025...
2025-05-21 17:20:00,732 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/photo/?fbid=122153249462545333&set=a.122140281014545333
2025-05-21 17:20:00,733 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/photo/?fbid=1744279413028508&set=a.1057168758406247
2025-05-21 17:20:00,734 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/photo/?fbid=1744279413028508&set=a.1057168758406247
2025-05-21 17:20:00,736 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/photo/?fbid=1133997695411683&set=a.323492286462232
2025-05-21 17:20:00,738 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/photo/?fbid=1260788749385592&set=a.718173376980468
2025-05-21 17:20:03,021 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-21 17:20:03,022 - lib.image_processor - INFO - Procesando imagen con API: img_4_c20487c6_15042025.jpg
2025-05-21 17:20:03,044 - lib.image_processor - INFO - Imagen img_4_c20487c6_15042025.jpg visualmente similar a otra ya procesada
2025-05-21 17:20:03,060 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_4_c20487c6_15042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-21 17:20:03,061 - lib.image_processor - WARNING - Error procesando imagen img_4_c20487c6_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 19
}
]
2025-05-21 17:20:03,681 - lib.image_processor - INFO - Procesando imagen con API: img_5_8107240a_15042025.jpg
2025-05-21 17:20:03,700 - lib.image_processor - INFO - Imagen img_5_8107240a_15042025.jpg visualmente similar a otra ya procesada
2025-05-21 17:20:03,717 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_5_8107240a_15042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-21 17:20:03,717 - lib.image_processor - WARNING - Error procesando imagen img_5_8107240a_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 23
}
]
2025-05-21 17:20:04,246 - lib.image_processor - INFO - Procesando imagen con API: img_6_45955483_15042025.jpg
2025-05-21 17:20:04,354 - lib.image_processor - INFO - Imagen img_6_45955483_15042025.jpg visualmente similar a otra ya procesada
2025-05-21 17:20:04,370 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_6_45955483_15042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-21 17:20:04,371 - lib.image_processor - WARNING - Error procesando imagen img_6_45955483_15042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 2
}
]
2025-05-21 17:20:05,356 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025\texto_imagenes_api.json
2025-05-21 17:20:05,356 - lib.image_processor - INFO - Resultados de API guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\15042025\texto_imagenes_api.json
2025-05-21 17:20:05,356 - lib.image_processor - INFO - Procesamiento API completado para 0/6 imágenes en 80.10 segundos.
2025-05-21 17:20:05,356 - main_orchestrator - INFO - Procesamiento API de imágenes existentes completado en 81.44 seg.
2025-05-21 17:20:05,357 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-21 17:20:05,357 - main_orchestrator - INFO - Leyendo archivo social para la fecha 15042025: social_links_15042025_unprocessed.json
2025-05-21 17:20:05,358 - main_orchestrator - INFO - Encontradas 22 URLs de Facebook para procesar
2025-05-21 17:20:05,358 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output
2025-05-21 17:20:05,359 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 22 URLs de Facebook para la fecha 15042025...
2025-05-21 17:20:05,360 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/photo/?fbid=122153249462545333&set=a.122140281014545333
2025-05-21 17:20:05,360 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/photo/?fbid=1744279413028508&set=a.1057168758406247
2025-05-21 17:20:05,362 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/photo/?fbid=1744279413028508&set=a.1057168758406247
2025-05-21 17:20:05,363 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/photo/?fbid=1133997695411683&set=a.323492286462232
2025-05-21 17:20:05,367 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/photo/?fbid=1260788749385592&set=a.718173376980468
2025-05-21 17:22:08,250 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-1.pdf
2025-05-21 17:22:11,518 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/photo/?fbid=1075702177910845&set=a.322443046570099
2025-05-21 17:22:16,714 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-4.pdf
2025-05-21 17:22:18,830 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-5.pdf
2025-05-21 17:22:20,076 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/photo/?fbid=1075702177910845&set=a.322443046570099
2025-05-21 17:22:23,494 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/photo/?fbid=1075702177910845&set=a.322443046570099
2025-05-21 17:22:27,469 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=122153249462545333&set=a.122140281014545333
2025-05-21 17:22:27,751 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=1744279413028508&set=a.1057168758406247
2025-05-21 17:22:27,760 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=1744279413028508&set=a.1057168758406247
2025-05-21 17:22:27,816 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=1133997695411683&set=a.323492286462232
2025-05-21 17:22:29,979 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-3.pdf
2025-05-21 17:22:31,408 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/photo/?fbid=1075702177910845&set=a.322443046570099
2025-05-21 17:22:31,502 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/photo/?fbid=653165420904914&set=a.108066292081499
2025-05-21 17:22:31,844 - lib.facebook_processor - INFO - Procesando URL de Facebook (9): https://www.facebook.com/photo/?fbid=980118311000784&set=a.407743561571598
2025-05-21 17:22:31,917 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-3.pdf
2025-05-21 17:22:31,987 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/photo/?fbid=653165420904914&set=a.108066292081499
2025-05-21 17:22:33,849 - lib.facebook_processor - INFO - Procesando URL de Facebook (9): https://www.facebook.com/photo/?fbid=980118311000784&set=a.407743561571598
2025-05-21 17:22:35,059 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-5.pdf
2025-05-21 17:22:36,271 - lib.facebook_processor - INFO - Progreso Facebook: 5/22 en 155.54 seg.
2025-05-21 17:22:36,271 - lib.facebook_processor - INFO - Procesando URL de Facebook (10): https://www.facebook.com/photo/?fbid=122129948282693859&set=a.122108624150693859
2025-05-21 17:22:39,767 - lib.facebook_processor - INFO - Progreso Facebook: 5/22 en 154.41 seg.
2025-05-21 17:22:39,767 - lib.facebook_processor - INFO - Procesando URL de Facebook (10): https://www.facebook.com/photo/?fbid=122129948282693859&set=a.122108624150693859
2025-05-21 17:23:17,276 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-9.pdf
2025-05-21 17:23:21,755 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-9.pdf
2025-05-21 17:23:21,804 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=1075702177910845&set=a.322443046570099
2025-05-21 17:23:22,052 - lib.facebook_processor - INFO - Procesando URL de Facebook (11): https://www.facebook.com/photo/?fbid=646737408228204&set=a.111572665078017
2025-05-21 17:23:24,002 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-10.pdf
2025-05-21 17:23:25,116 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=1075702177910845&set=a.322443046570099
2025-05-21 17:23:25,169 - lib.facebook_processor - INFO - Procesando URL de Facebook (11): https://www.facebook.com/photo/?fbid=646737408228204&set=a.111572665078017
2025-05-21 17:23:25,853 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=1075702177910845&set=a.322443046570099
2025-05-21 17:23:26,324 - lib.facebook_processor - INFO - Procesando URL de Facebook (12): https://www.facebook.com/share/p/1CoMomk1ZQ/
2025-05-21 17:23:28,054 - lib.facebook_processor - INFO - Procesando URL de Facebook (13): https://www.facebook.com/share/p/18wm18gWd3/
2025-05-21 17:23:29,611 - lib.facebook_processor - INFO - Procesando URL de Facebook (14): https://www.facebook.com/share/p/156Wn1S6DH/
2025-05-21 17:23:30,597 - lib.facebook_processor - INFO - Procesando URL de Facebook (12): https://www.facebook.com/share/p/1CoMomk1ZQ/
2025-05-21 17:23:33,298 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=1075702177910845&set=a.322443046570099
2025-05-21 17:23:34,118 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=653165420904914&set=a.108066292081499
2025-05-21 17:23:37,574 - lib.facebook_processor - INFO - Procesando URL de Facebook (15): https://www.facebook.com/share/p/156Wn1S6DH/
2025-05-21 17:23:37,576 - lib.facebook_processor - INFO - Progreso Facebook: 10/22 en 216.85 seg.
2025-05-21 17:23:37,694 - lib.facebook_processor - INFO - Procesando URL de Facebook (13): https://www.facebook.com/share/p/18wm18gWd3/
2025-05-21 17:23:41,216 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=122129948282693859&set=a.122108624150693859
2025-05-21 17:23:43,248 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-8.pdf
2025-05-21 17:23:45,016 - lib.facebook_processor - INFO - Procesando URL de Facebook (14): https://www.facebook.com/share/p/156Wn1S6DH/
2025-05-21 17:23:47,494 - lib.facebook_processor - INFO - Progreso Facebook: 10/22 en 222.14 seg.
2025-05-21 17:23:47,494 - lib.facebook_processor - INFO - Procesando URL de Facebook (15): https://www.facebook.com/share/p/156Wn1S6DH/
2025-05-21 17:24:09,668 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-13.pdf
2025-05-21 17:24:14,700 - lib.facebook_processor - INFO - Procesando URL de Facebook (16): https://www.facebook.com/share/p/16UHriKBu6/
2025-05-21 17:24:21,863 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-14.pdf
2025-05-21 17:24:22,252 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-11.pdf
2025-05-21 17:24:23,689 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/photo/?fbid=646737408228204&set=a.111572665078017
2025-05-21 17:24:25,666 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-15.pdf
2025-05-21 17:24:25,703 - lib.facebook_processor - INFO - Procesando URL de Facebook (16): https://www.facebook.com/share/p/16UHriKBu6/
2025-05-21 17:24:26,351 - lib.facebook_processor - INFO - Procesando URL de Facebook (17): https://www.facebook.com/share/p/19V7khzxSr/
2025-05-21 17:24:26,969 - lib.facebook_processor - INFO - Procesando URL de Facebook (17): https://www.facebook.com/share/p/19V7khzxSr/
2025-05-21 17:24:30,462 - lib.facebook_processor - INFO - Procesando URL de Facebook (18): https://www.facebook.com/share/p/15wrXuXmpw/
2025-05-21 17:24:31,622 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-15.pdf
2025-05-21 17:24:35,197 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-12.pdf
2025-05-21 17:24:36,516 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-12.pdf
2025-05-21 17:24:36,630 - lib.facebook_processor - INFO - Procesando URL de Facebook (18): https://www.facebook.com/share/p/15wrXuXmpw/
2025-05-21 17:24:37,583 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/share/p/18wm18gWd3/
2025-05-21 17:24:39,943 - lib.facebook_processor - INFO - Procesando URL de Facebook (19): https://www.facebook.com/share/p/15wpT2Whf7/
2025-05-21 17:24:41,232 - lib.facebook_processor - INFO - Procesando URL de Facebook (19): https://www.facebook.com/share/p/15wpT2Whf7/
2025-05-21 17:24:41,536 - lib.facebook_processor - INFO - Procesando URL de Facebook (20): https://www.facebook.com/share/p/16D8iFxcXd/
2025-05-21 17:24:41,538 - lib.facebook_processor - INFO - Progreso Facebook: 15/22 en 280.81 seg.
2025-05-21 17:24:54,141 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/share/p/156Wn1S6DH/
2025-05-21 17:24:54,284 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-16.pdf
2025-05-21 17:24:57,527 - lib.facebook_processor - INFO - Progreso Facebook: 15/22 en 292.17 seg.
2025-05-21 17:24:57,528 - lib.facebook_processor - INFO - Procesando URL de Facebook (20): https://www.facebook.com/share/p/16D8iFxcXd/
2025-05-21 17:24:59,450 - lib.facebook_processor - INFO - Procesando URL de Facebook (21): https://www.facebook.com/share/p/16D8iFxcXd/
2025-05-21 17:25:18,087 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-17.pdf
2025-05-21 17:25:23,296 - lib.facebook_processor - INFO - Procesando URL de Facebook (22): https://www.facebook.com/JuanNunuraPeriodista/videos/2501259376893949
2025-05-21 17:25:26,588 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-16.pdf
2025-05-21 17:25:29,282 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-18.pdf
2025-05-21 17:25:29,390 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/share/p/19V7khzxSr/
2025-05-21 17:25:31,108 - lib.facebook_processor - INFO - Procesando URL de Facebook (21): https://www.facebook.com/share/p/16D8iFxcXd/
2025-05-21 17:25:33,541 - lib.facebook_processor - INFO - Procesando URL de Facebook (22): https://www.facebook.com/JuanNunuraPeriodista/videos/2501259376893949
2025-05-21 17:25:38,591 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-20.pdf
2025-05-21 17:25:38,707 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/share/p/15wrXuXmpw/
2025-05-21 17:25:44,146 - lib.facebook_processor - WARNING - Timeout alcanzado al cargar: https://www.facebook.com/share/p/16D8iFxcXd/
2025-05-21 17:25:48,944 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-19.pdf
2025-05-21 17:25:51,217 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-22.pdf
2025-05-21 17:25:52,348 - lib.facebook_processor - INFO - Progreso Facebook: 20/22 en 351.62 seg.
2025-05-21 17:25:55,040 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-19.pdf
2025-05-21 17:25:58,754 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-22.pdf
2025-05-21 17:25:58,961 - lib.facebook_processor - INFO - Progreso Facebook: 20/22 en 353.60 seg.
2025-05-21 17:26:01,339 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-21.pdf
2025-05-21 17:26:05,610 - lib.facebook_processor - INFO - Progreso Facebook: 22/22 en 364.88 seg.
2025-05-21 17:26:05,616 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_results_15042025.json
2025-05-21 17:26:05,616 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 13/22 exitosos en 364.89 segundos.
2025-05-21 17:26:05,617 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 364.89 seg.
2025-05-21 17:26:05,617 - lib.history_tracker - INFO - Añadidas 18 nuevas URLs al historial.
2025-05-21 17:26:05,619 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-21 17:26:05,620 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-21 17:26:05,765 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-4.pdf
2025-05-21 17:26:05,850 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-5.pdf
2025-05-21 17:26:05,941 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-3.pdf
2025-05-21 17:26:06,036 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-9.pdf
2025-05-21 17:26:06,139 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-10.pdf
2025-05-21 17:26:06,249 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-11.pdf
2025-05-21 17:26:06,652 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-15.pdf
2025-05-21 17:26:07,075 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-12.pdf
2025-05-21 17:26:07,593 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-16.pdf
2025-05-21 17:26:08,068 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-21.pdf
2025-05-21 17:26:08,204 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-17.pdf
2025-05-21 17:26:08,644 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-21.pdf
2025-05-21 17:26:08,749 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-19.pdf
2025-05-21 17:26:09,350 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-22.pdf
2025-05-21 17:26:09,350 - lib.facebook_processor - INFO - Texto extraído de 13 PDFs de Facebook
2025-05-21 17:26:09,351 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 3.73 seg.
2025-05-21 17:26:09,351 - main_orchestrator - INFO - Texto extraído de 13 PDFs de Facebook
2025-05-21 17:26:09,352 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_15042025.json
2025-05-21 17:26:09,353 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_15042025.json
2025-05-21 17:26:09,353 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-21 17:26:09,354 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_15042025.json
2025-05-21 17:26:09,355 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_15042025.json
2025-05-21 17:26:09,355 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-21T17:26:09.353823', 'date_processed': '15042025', 'total_urls_in_pdf': 52, 'new_urls_processed_count': 50, 'history_total_urls': 321, 'categories': {'html': 20, 'images': 6, 'social': 24}, 'html_processing': {'attempted': 20, 'processed': 19, 'successful': 19, 'relevant (>=0.3)': 14, 'average_relevance': 0.47368421052631576}, 'image_processing': {'attempted_download': 6, 'successful_download': 6, 'attempted_api': 6, 'successful_api': 0}, 'facebook_processing': {'attempted': 22, 'successful': 13, 'extracted_texts': 13}, 'timings_seconds': {'pdf_extraction': 0.34, 'pdf_text_extraction': 3.73, 'image_download': 12.76, 'html_scraping': 10.95, 'image_api': 88.28, 'facebook_processing': 364.89, 'facebook_text_extraction': 3.73, 'stats_consolidation': 0.0}}
2025-05-21 17:26:09,356 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-21 17:26:09,356 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-21 17:26:09,377 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_15042025\pdf_text_15042025.json
2025-05-21 17:26:09,382 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_15042025.json
2025-05-21 17:26:09,383 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_15042025.json
2025-05-21 17:26:09,383 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-21 17:26:09,422 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-21 17:26:09,423 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-21 17:26:09,423 - semantic_cleaner - INFO - Extraídos 6 textos de PDF
2025-05-21 17:26:09,423 - semantic_cleaner - INFO - Extraídos 19 textos de HTML
2025-05-21 17:26:09,423 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-21 17:26:09,424 - semantic_cleaner - INFO - Extraídos 13 textos de Facebook
2025-05-21 17:26:12,508 - lib.facebook_processor - INFO - Progreso Facebook: 22/22 en 367.15 seg.
2025-05-21 17:26:12,791 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_results_15042025.json
2025-05-21 17:26:12,824 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 12/22 exitosos en 367.47 segundos.
2025-05-21 17:26:12,853 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 367.49 seg.
2025-05-21 17:26:12,876 - lib.history_tracker - INFO - Añadidas 18 nuevas URLs al historial.
2025-05-21 17:26:13,008 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-21 17:26:13,028 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-21 17:26:14,491 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-1.pdf
2025-05-21 17:26:16,025 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-3.pdf
2025-05-21 17:26:16,994 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-5.pdf
2025-05-21 17:26:17,669 - semantic_cleaner - INFO - Se identificaron 38 grupos de textos similares
2025-05-21 17:26:17,670 - semantic_cleaner - INFO - Se seleccionaron 38 textos representativos
2025-05-21 17:26:17,671 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-21 17:26:17,672 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_15042025.json
2025-05-21 17:26:17,682 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-9.pdf
2025-05-21 17:26:17,686 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_15042025.json
2025-05-21 17:26:17,686 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_15042025.md
2025-05-21 17:26:17,701 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_15042025.md
2025-05-21 17:26:17,703 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_15042025.json
2025-05-21 17:26:17,703 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_15042025.json
2025-05-21 17:26:17,703 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-21T17:26:09.353823', 'date_processed': '15042025', 'total_urls_in_pdf': 52, 'new_urls_processed_count': 50, 'history_total_urls': 321, 'categories': {'html': 20, 'images': 6, 'social': 24}, 'html_processing': {'attempted': 20, 'processed': 19, 'successful': 19, 'relevant (>=0.3)': 14, 'average_relevance': 0.47368421052631576}, 'image_processing': {'attempted_download': 6, 'successful_download': 6, 'attempted_api': 6, 'successful_api': 0}, 'facebook_processing': {'attempted': 22, 'successful': 13, 'extracted_texts': 13}, 'timings_seconds': {'pdf_extraction': 0.34, 'pdf_text_extraction': 3.73, 'image_download': 12.76, 'html_scraping': 10.95, 'image_api': 88.28, 'facebook_processing': 364.89, 'facebook_text_extraction': 3.73, 'stats_consolidation': 0.0, 'semantic_cleaning': 8.32}}
2025-05-21 17:26:17,704 - main_orchestrator - INFO - Limpieza semántica completada en 8.32 seg.
2025-05-21 17:26:17,705 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-21 17:26:17,705 - facebook_extractor_fix - INFO - Ruta del proyecto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent
2025-05-21 17:26:17,705 - facebook_extractor_fix - INFO - Buscando archivo de Facebook en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_15042025.json
2025-05-21 17:26:17,804 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-8.pdf
2025-05-21 17:26:17,805 - facebook_extractor_fix - INFO - Estructura de los datos de Facebook: https://www.facebook.com/photo/?fbid=1133997695411683&set=a.323492286462232
2025-05-21 17:26:17,805 - facebook_extractor_fix - INFO - Claves en la primera entrada: ['extracted_text', 'pdf_path', 'processed_date']
2025-05-21 17:26:17,827 - facebook_extractor_fix - INFO - Sección de Facebook añadida al archivo C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_15042025.md
2025-05-21 17:26:17,827 - facebook_extractor_fix - INFO - Se han añadido 13 textos de Facebook al archivo limpio
2025-05-21 17:26:17,827 - main_orchestrator - INFO - Textos de Facebook integrados correctamente en archivos limpios
2025-05-21 17:26:17,828 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-21 17:26:17,828 - main_orchestrator - INFO - ==================================================
2025-05-21 17:26:17,829 - main_orchestrator - INFO - PIPELINE FINALIZADO en 489.58 segundos.
2025-05-21 17:26:17,829 - main_orchestrator - INFO - ==================================================
2025-05-21 17:26:18,323 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-13.pdf
2025-05-21 17:26:18,592 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-12.pdf
2025-05-21 17:26:18,668 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-16.pdf
2025-05-21 17:26:18,792 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-18.pdf
2025-05-21 17:26:18,881 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-21.pdf
2025-05-21 17:26:18,982 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-19.pdf
2025-05-21 17:26:19,065 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\15042025\15042025-22.pdf
2025-05-21 17:26:19,066 - lib.facebook_processor - INFO - Texto extraído de 12 PDFs de Facebook
2025-05-21 17:26:19,066 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 5.97 seg.
2025-05-21 17:26:19,066 - main_orchestrator - INFO - Texto extraído de 12 PDFs de Facebook
2025-05-21 17:26:19,067 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_15042025.json
2025-05-21 17:26:19,068 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_15042025.json
2025-05-21 17:26:19,068 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-21 17:26:19,069 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_15042025.json
2025-05-21 17:26:19,069 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_15042025.json
2025-05-21 17:26:19,070 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-21T17:26:19.068745', 'date_processed': '15042025', 'total_urls_in_pdf': 52, 'new_urls_processed_count': 24, 'history_total_urls': 321, 'categories': {'social': 24}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 22, 'successful': 12, 'extracted_texts': 12}, 'timings_seconds': {'pdf_extraction': 0.28, 'pdf_text_extraction': 5.97, 'image_download': 0, 'html_scraping': 0, 'image_api': 81.44, 'facebook_processing': 367.49, 'facebook_text_extraction': 5.97, 'stats_consolidation': 0.0}}
2025-05-21 17:26:19,070 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-21 17:26:19,070 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-21 17:26:19,087 - main_orchestrator - INFO - Cargando contenido HTML de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_15042025.json
2025-05-21 17:26:19,088 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_15042025\pdf_text_15042025.json
2025-05-21 17:26:19,091 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_15042025.json
2025-05-21 17:26:19,092 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_15042025.json
2025-05-21 17:26:19,092 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-21 17:26:19,111 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-21 17:26:19,111 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-21 17:26:19,111 - semantic_cleaner - INFO - Extraídos 6 textos de PDF
2025-05-21 17:26:19,111 - semantic_cleaner - INFO - Extraídos 19 textos de HTML
2025-05-21 17:26:19,112 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-21 17:26:19,112 - semantic_cleaner - INFO - Extraídos 12 textos de Facebook
2025-05-21 17:26:26,647 - semantic_cleaner - INFO - Se identificaron 37 grupos de textos similares
2025-05-21 17:26:26,647 - semantic_cleaner - INFO - Se seleccionaron 37 textos representativos
2025-05-21 17:26:26,648 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-21 17:26:26,648 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_15042025.json
2025-05-21 17:26:26,653 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_15042025.json
2025-05-21 17:26:26,653 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_15042025.md
2025-05-21 17:26:26,667 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_15042025.md
2025-05-21 17:26:26,669 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_15042025.json
2025-05-21 17:26:26,669 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_15042025.json
2025-05-21 17:26:26,669 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-21T17:26:19.068745', 'date_processed': '15042025', 'total_urls_in_pdf': 52, 'new_urls_processed_count': 24, 'history_total_urls': 321, 'categories': {'social': 24}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 22, 'successful': 12, 'extracted_texts': 12}, 'timings_seconds': {'pdf_extraction': 0.28, 'pdf_text_extraction': 5.97, 'image_download': 0, 'html_scraping': 0, 'image_api': 81.44, 'facebook_processing': 367.49, 'facebook_text_extraction': 5.97, 'stats_consolidation': 0.0, 'semantic_cleaning': 7.58}}
2025-05-21 17:26:26,670 - main_orchestrator - INFO - Limpieza semántica completada en 7.58 seg.
2025-05-21 17:26:26,670 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-21 17:26:26,670 - facebook_extractor_fix - INFO - Ruta del proyecto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent
2025-05-21 17:26:26,671 - facebook_extractor_fix - INFO - Buscando archivo de Facebook en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_15042025.json
2025-05-21 17:26:26,694 - facebook_extractor_fix - INFO - Estructura de los datos de Facebook: https://www.facebook.com/photo/?fbid=122153249462545333&set=a.122140281014545333
2025-05-21 17:26:26,694 - facebook_extractor_fix - INFO - Claves en la primera entrada: ['extracted_text', 'pdf_path', 'processed_date']
2025-05-21 17:26:26,715 - facebook_extractor_fix - INFO - Sección de Facebook añadida al archivo C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_15042025.md
2025-05-21 17:26:26,715 - facebook_extractor_fix - INFO - Se han añadido 12 textos de Facebook al archivo limpio
2025-05-21 17:26:26,715 - main_orchestrator - INFO - Textos de Facebook integrados correctamente en archivos limpios
2025-05-21 17:26:26,716 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-21 17:26:26,716 - main_orchestrator - INFO - ==================================================
2025-05-21 17:26:26,716 - main_orchestrator - INFO - PIPELINE FINALIZADO en 463.18 segundos.
2025-05-21 17:26:26,717 - main_orchestrator - INFO - ==================================================
2025-05-21 17:47:24,053 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 17:47:24,059 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 17:47:30,987 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 17:47:30,990 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 17:47:37,297 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 17:47:37,301 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 17:53:16,577 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 17:53:16,580 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 18:45:53,005 - main_orchestrator - INFO - ==================================================
2025-05-21 18:45:53,006 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-21 18:45:53,006 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-21 18:45:53,007 - main_orchestrator - INFO - ==================================================
2025-05-21 18:45:53,014 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-21 18:45:53,015 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-21 18:45:53,016 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-21 18:45:53,018 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-21 18:45:53,019 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-21 18:45:53,026 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-21 18:45:53,028 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-21 18:45:53,028 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-21 18:45:53,029 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-21 18:45:53,030 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-21 18:45:53,086 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-21 18:45:53,692 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-21 18:45:53,692 - main_orchestrator - INFO - PDF procesado en 0.66 seg. Enlaces encontrados: 103
2025-05-21 18:45:53,731 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-21 18:45:53,732 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-21 18:45:53,734 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-21 18:45:53,864 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-21 18:45:53,864 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-21 18:45:53,864 - main_orchestrator - INFO - Texto del PDF extraído en 0.13 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-21 18:45:53,865 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-21 18:45:53,865 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-21 18:45:53,865 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-21 18:45:53,865 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-21 18:45:53,866 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-21 18:45:53,866 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-21 18:45:53,866 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-21 18:45:53,867 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-21 18:45:53,867 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-21 18:45:53,868 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-21 18:45:53,869 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-21 18:45:53,869 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-21 18:45:53,869 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-21 18:45:53,870 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-21 18:45:53,870 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-21 18:45:53,870 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-21 18:45:53,872 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-21 18:45:53,872 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-21 18:45:53,872 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-21 18:45:53,892 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-21 18:45:53,892 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-21 18:45:53,892 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-21 18:45:53,893 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-21 18:45:53,894 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-21 18:45:53,895 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-21 18:45:53,895 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-21T18:45:53.893621', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.66, 'pdf_text_extraction': 0.13, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.13, 'stats_consolidation': 0.0}}
2025-05-21 18:45:53,896 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-21 18:45:53,896 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-21 18:45:53,913 - main_orchestrator - INFO - Cargando contenido HTML de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-21 18:45:53,933 - main_orchestrator - INFO - Cargando contenido de imágenes de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-21 18:45:53,951 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-21 18:45:53,958 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-21 18:45:53,959 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-21 18:45:53,960 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-21 18:45:53,988 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-21 18:45:53,989 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-21 18:45:53,989 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-21 18:45:53,989 - semantic_cleaner - INFO - Extraídos 32 textos de HTML
2025-05-21 18:45:53,990 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-21 18:45:53,990 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-21 18:45:59,853 - semantic_cleaner - INFO - Se identificaron 39 grupos de textos similares
2025-05-21 18:45:59,854 - semantic_cleaner - INFO - Se seleccionaron 39 textos representativos
2025-05-21 18:45:59,854 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-21 18:45:59,854 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-21 18:45:59,860 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-21 18:45:59,860 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-21 18:45:59,872 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-21 18:45:59,874 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-21 18:45:59,874 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-21 18:45:59,875 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-21T18:45:53.893621', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.66, 'pdf_text_extraction': 0.13, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.13, 'stats_consolidation': 0.0, 'semantic_cleaning': 5.91}}
2025-05-21 18:45:59,875 - main_orchestrator - INFO - Limpieza semántica completada en 5.91 seg.
2025-05-21 18:45:59,875 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-21 18:45:59,876 - main_orchestrator - INFO - ==================================================
2025-05-21 18:45:59,876 - main_orchestrator - INFO - PIPELINE FINALIZADO en 6.87 segundos.
2025-05-21 18:45:59,876 - main_orchestrator - INFO - ==================================================
2025-05-21 18:54:05,953 - main_orchestrator - INFO - ==================================================
2025-05-21 18:54:05,953 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-21 18:54:05,953 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-21 18:54:05,954 - main_orchestrator - INFO - ==================================================
2025-05-21 18:54:05,956 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-21 18:54:05,957 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-21 18:54:05,958 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-21 18:54:05,960 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-21 18:54:05,961 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-21 18:54:05,961 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-21 18:54:05,962 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-21 18:54:05,963 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-21 18:54:05,963 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-21 18:54:05,966 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-21 18:54:06,449 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-21 18:54:06,449 - main_orchestrator - INFO - PDF procesado en 0.49 seg. Enlaces encontrados: 103
2025-05-21 18:54:06,454 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-21 18:54:06,455 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-21 18:54:06,456 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-21 18:54:06,574 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-21 18:54:06,574 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-21 18:54:06,575 - main_orchestrator - INFO - Texto del PDF extraído en 0.12 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-21 18:54:06,575 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-21 18:54:06,576 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-21 18:54:06,576 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-21 18:54:06,577 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-21 18:54:06,577 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-21 18:54:06,577 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-21 18:54:06,578 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-21 18:54:06,578 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-21 18:54:06,579 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-21 18:54:06,580 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-21 18:54:06,582 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-21 18:54:06,583 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-21 18:54:06,584 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-21 18:54:06,584 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-21 18:54:06,585 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-21 18:54:06,585 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-21 18:54:06,586 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-21 18:54:06,586 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-21 18:54:06,587 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-21 18:54:06,589 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-21 18:54:06,590 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-21 18:54:06,590 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-21 18:54:06,591 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-21 18:54:06,592 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-21 18:54:06,593 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-21 18:54:06,593 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-21T18:54:06.591535', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.49, 'pdf_text_extraction': 0.12, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.12, 'stats_consolidation': 0.0}}
2025-05-21 18:54:06,594 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-21 18:54:06,594 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-21 18:54:06,597 - main_orchestrator - INFO - Cargando contenido HTML de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-21 18:54:06,598 - main_orchestrator - INFO - Cargando contenido de imágenes de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-21 18:54:06,620 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-21 18:54:06,626 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-21 18:54:06,626 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-21 18:54:06,627 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-21 18:54:06,648 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-21 18:54:06,649 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-21 18:54:06,649 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-21 18:54:06,650 - semantic_cleaner - INFO - Extraídos 32 textos de HTML
2025-05-21 18:54:06,650 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-21 18:54:06,651 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-21 18:54:12,419 - semantic_cleaner - INFO - Se identificaron 39 grupos de textos similares
2025-05-21 18:54:12,419 - semantic_cleaner - INFO - Se seleccionaron 39 textos representativos
2025-05-21 18:54:12,420 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-21 18:54:12,420 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-21 18:54:12,425 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-21 18:54:12,426 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-21 18:54:12,441 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-21 18:54:12,443 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-21 18:54:12,444 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-21 18:54:12,444 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-21T18:54:06.591535', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.49, 'pdf_text_extraction': 0.12, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.12, 'stats_consolidation': 0.0, 'semantic_cleaning': 5.81}}
2025-05-21 18:54:12,445 - main_orchestrator - INFO - Limpieza semántica completada en 5.81 seg.
2025-05-21 18:54:12,445 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-21 18:54:12,446 - main_orchestrator - INFO - ==================================================
2025-05-21 18:54:12,446 - main_orchestrator - INFO - PIPELINE FINALIZADO en 6.49 segundos.
2025-05-21 18:54:12,446 - main_orchestrator - INFO - ==================================================
2025-05-21 21:08:36,546 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:08:36,550 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:21:46,351 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:21:46,354 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:21:54,118 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:21:54,121 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:22:09,635 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:22:09,638 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:22:19,233 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:22:19,237 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:22:24,746 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:22:24,749 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:23:31,854 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:23:31,859 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:23:44,254 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:23:44,257 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:24:08,744 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:24:08,747 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:24:32,738 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:24:32,741 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:24:32,745 - fastapi - ERROR - Form data requires "python-multipart" to be installed. 
You can install "python-multipart" with: 

pip install python-multipart

2025-05-21 21:24:57,539 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:24:57,543 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:24:57,549 - fastapi - ERROR - Form data requires "python-multipart" to be installed. 
You can install "python-multipart" with: 

pip install python-multipart

2025-05-21 21:37:36,270 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 21:37:36,273 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 21:37:36,277 - fastapi - ERROR - Form data requires "python-multipart" to be installed. 
You can install "python-multipart" with: 

pip install python-multipart

2025-05-21 22:42:06,561 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:42:06,565 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:49:56,436 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:49:56,440 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:51:19,084 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:51:19,087 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:53:22,634 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:53:22,637 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:53:28,315 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:53:28,319 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:53:33,802 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:53:33,805 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:53:43,305 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:53:43,308 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:54:17,315 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:54:17,318 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:54:22,620 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:54:22,623 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:54:58,698 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:54:58,701 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:55:28,356 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:55:28,359 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:55:47,502 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:55:47,505 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 22:56:37,495 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 22:56:37,498 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:42:57,077 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:42:57,080 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:43:26,190 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:43:26,196 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:50:22,253 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:50:22,256 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:50:36,183 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:50:36,186 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:50:50,087 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:50:50,092 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:50:56,167 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:50:56,170 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:51:01,884 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:51:01,887 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:51:12,071 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:51:12,076 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:51:28,817 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:51:28,820 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:56:14,031 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:56:14,034 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:59:13,520 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:59:13,523 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-21 23:59:38,203 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-21 23:59:38,206 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:01:27,293 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:01:27,296 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:02:40,825 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:02:40,828 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:03:15,818 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:03:15,821 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:03:22,964 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:03:22,967 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:03:39,318 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:03:39,322 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:03:58,550 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:03:58,553 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:04:26,028 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:04:26,033 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:04:32,740 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:04:32,744 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:04:38,405 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:04:38,408 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:19:47,722 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:19:47,726 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:21:19,571 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:21:19,574 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 00:21:49,818 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 00:21:49,821 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 08:48:30,104 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 08:48:30,108 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 08:59:08,892 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 08:59:08,895 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:10:24,627 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 11:10:24,631 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:18:58,816 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 11:18:58,821 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:19:06,416 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 11:19:06,419 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:19:11,966 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 11:19:11,969 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:21:56,850 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 11:21:56,856 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:22:02,566 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 11:22:02,573 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:22:39,809 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 11:22:39,832 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:22:49,354 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 11:22:49,358 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:27:21,890 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 11:27:21,893 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:29:18,321 - main_orchestrator - INFO - ==================================================
2025-05-22 11:29:18,322 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 11:29:18,322 - main_orchestrator - INFO - Usando fecha: 22042025.pdf
2025-05-22 11:29:18,323 - main_orchestrator - INFO - ==================================================
2025-05-22 11:29:18,340 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 11:29:18,341 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 11:29:18,342 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 11:29:18,343 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 11:29:18,343 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 11:29:18,344 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-22 11:29:18,345 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 11:29:18,345 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 11:29:18,345 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 11:29:18,346 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 11:29:18,346 - lib.pdf_processor - ERROR - Archivo PDF no encontrado: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf.pdf
2025-05-22 11:29:18,346 - main_orchestrator - WARNING - No se encontraron enlaces en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf.pdf. Terminando proceso para esta fecha.
2025-05-22 11:29:18,348 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.pdf.json
2025-05-22 11:29:18,348 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.pdf.json
2025-05-22 11:29:18,349 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T11:29:18.347232', 'date_processed': '22042025.pdf', 'total_urls_in_pdf': 0, 'error': 'No links found in PDF'}
2025-05-22 11:29:18,349 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 11:29:18,349 - main_orchestrator - INFO - ==================================================
2025-05-22 11:29:18,349 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.03 segundos.
2025-05-22 11:29:18,350 - main_orchestrator - INFO - ==================================================
2025-05-22 11:46:49,145 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 11:46:49,148 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 11:59:57,870 - main_orchestrator - INFO - ==================================================
2025-05-22 11:59:57,870 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 11:59:57,870 - main_orchestrator - INFO - Usando fecha: 22042025.pdf
2025-05-22 11:59:57,871 - main_orchestrator - INFO - ==================================================
2025-05-22 11:59:57,872 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 11:59:57,874 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 11:59:57,874 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 11:59:57,875 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 11:59:57,876 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 11:59:57,877 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-22 11:59:57,877 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 11:59:57,878 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 11:59:57,878 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 11:59:57,878 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 11:59:57,879 - lib.pdf_processor - ERROR - Archivo PDF no encontrado: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf.pdf
2025-05-22 11:59:57,879 - main_orchestrator - WARNING - No se encontraron enlaces en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf.pdf. Terminando proceso para esta fecha.
2025-05-22 11:59:57,881 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.pdf.json
2025-05-22 11:59:57,882 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.pdf.json
2025-05-22 11:59:57,883 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T11:59:57.880380', 'date_processed': '22042025.pdf', 'total_urls_in_pdf': 0, 'error': 'No links found in PDF'}
2025-05-22 11:59:57,883 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 11:59:57,884 - main_orchestrator - INFO - ==================================================
2025-05-22 11:59:57,884 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.01 segundos.
2025-05-22 11:59:57,884 - main_orchestrator - INFO - ==================================================
2025-05-22 12:02:32,414 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:02:32,418 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:02:41,715 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:02:41,718 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:03:34,904 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:03:34,908 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:04:27,830 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:04:27,834 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:05:28,563 - main_orchestrator - INFO - ==================================================
2025-05-22 12:05:28,564 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 12:05:28,564 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 12:05:28,564 - main_orchestrator - INFO - ==================================================
2025-05-22 12:05:28,566 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 12:05:28,567 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 12:05:28,568 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 12:05:28,569 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 12:05:28,570 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 12:05:28,570 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-22 12:05:28,571 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 12:05:28,571 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 12:05:28,572 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 12:05:28,572 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 12:05:28,617 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 12:05:29,073 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 12:05:29,074 - main_orchestrator - INFO - PDF procesado en 0.50 seg. Enlaces encontrados: 103
2025-05-22 12:05:29,086 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 12:05:29,086 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 12:05:29,088 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 12:05:29,170 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 12:05:29,170 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 12:05:29,171 - main_orchestrator - INFO - Texto del PDF extraído en 0.08 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 12:05:29,171 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 12:05:29,171 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-22 12:05:29,171 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-22 12:05:29,172 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 12:05:29,172 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-22 12:05:29,172 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 12:05:29,172 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 12:05:29,173 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 12:05:29,173 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-22 12:05:29,173 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-22 12:05:29,175 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 12:05:29,175 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 12:05:29,175 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 12:05:29,176 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 12:05:29,176 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-22 12:05:29,176 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 12:05:29,177 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 12:05:29,177 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 12:05:29,178 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 12:05:29,180 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-22 12:05:29,180 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 12:05:29,180 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-22 12:05:29,180 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 12:05:29,182 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:05:29,182 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:05:29,182 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T12:05:29.181101', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.5, 'pdf_text_extraction': 0.08, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.08, 'stats_consolidation': 0.0}}
2025-05-22 12:05:29,183 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 12:05:29,183 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 12:05:29,198 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 12:05:29,200 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 12:05:29,201 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 12:05:29,201 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 12:05:29,228 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 12:05:29,228 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 12:05:29,229 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 12:05:29,229 - semantic_cleaner - INFO - Extraídos 0 textos de HTML
2025-05-22 12:05:29,229 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 12:05:29,229 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-22 12:05:29,427 - semantic_cleaner - INFO - Se identificaron 8 grupos de textos similares
2025-05-22 12:05:29,427 - semantic_cleaner - INFO - Se seleccionaron 8 textos representativos
2025-05-22 12:05:29,427 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 12:05:29,428 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 12:05:29,430 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 12:05:29,430 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 12:05:29,433 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 12:05:29,434 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:05:29,435 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:05:29,435 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T12:05:29.181101', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.5, 'pdf_text_extraction': 0.08, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.08, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.23}}
2025-05-22 12:05:29,436 - main_orchestrator - INFO - Limpieza semántica completada en 0.23 seg.
2025-05-22 12:05:29,436 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 12:05:29,436 - main_orchestrator - INFO - ==================================================
2025-05-22 12:05:29,437 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.87 segundos.
2025-05-22 12:05:29,437 - main_orchestrator - INFO - ==================================================
2025-05-22 12:10:47,825 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:10:47,828 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:11:29,544 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:11:29,547 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:11:34,936 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:11:34,941 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:12:18,427 - main_orchestrator - INFO - ==================================================
2025-05-22 12:12:18,428 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 12:12:18,428 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 12:12:18,429 - main_orchestrator - INFO - ==================================================
2025-05-22 12:12:18,430 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 12:12:18,431 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 12:12:18,432 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 12:12:18,433 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 12:12:18,433 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 12:12:18,434 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-22 12:12:18,435 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 12:12:18,435 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 12:12:18,435 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 12:12:18,436 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 12:12:18,453 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 12:12:18,945 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 12:12:18,946 - main_orchestrator - INFO - PDF procesado en 0.51 seg. Enlaces encontrados: 103
2025-05-22 12:12:18,953 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 12:12:18,953 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 12:12:18,955 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 12:12:19,035 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 12:12:19,036 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 12:12:19,036 - main_orchestrator - INFO - Texto del PDF extraído en 0.08 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 12:12:19,037 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 12:12:19,037 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-22 12:12:19,037 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-22 12:12:19,038 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 12:12:19,038 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-22 12:12:19,038 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 12:12:19,038 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 12:12:19,039 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 12:12:19,039 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-22 12:12:19,039 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-22 12:12:19,040 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 12:12:19,041 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 12:12:19,041 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 12:12:19,041 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 12:12:19,041 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-22 12:12:19,041 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 12:12:19,042 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 12:12:19,042 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 12:12:19,043 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 12:12:19,045 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-22 12:12:19,045 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 12:12:19,045 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-22 12:12:19,045 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 12:12:19,047 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:12:19,047 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:12:19,048 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T12:12:19.046181', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.51, 'pdf_text_extraction': 0.08, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.08, 'stats_consolidation': 0.0}}
2025-05-22 12:12:19,048 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 12:12:19,048 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 12:12:19,064 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 12:12:19,066 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 12:12:19,066 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 12:12:19,067 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 12:12:19,086 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 12:12:19,086 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 12:12:19,086 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 12:12:19,086 - semantic_cleaner - INFO - Extraídos 0 textos de HTML
2025-05-22 12:12:19,087 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 12:12:19,087 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-22 12:12:19,311 - semantic_cleaner - INFO - Se identificaron 8 grupos de textos similares
2025-05-22 12:12:19,311 - semantic_cleaner - INFO - Se seleccionaron 8 textos representativos
2025-05-22 12:12:19,312 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 12:12:19,312 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 12:12:19,313 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 12:12:19,314 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 12:12:19,318 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 12:12:19,320 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:12:19,321 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:12:19,321 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T12:12:19.046181', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.51, 'pdf_text_extraction': 0.08, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.08, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.25}}
2025-05-22 12:12:19,322 - main_orchestrator - INFO - Limpieza semántica completada en 0.25 seg.
2025-05-22 12:12:19,322 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 12:12:19,323 - main_orchestrator - INFO - ==================================================
2025-05-22 12:12:19,323 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.90 segundos.
2025-05-22 12:12:19,324 - main_orchestrator - INFO - ==================================================
2025-05-22 12:16:13,446 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:16:13,450 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:17:03,845 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:17:03,850 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:17:11,997 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:17:12,000 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:20:12,415 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:20:12,419 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:20:25,989 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:20:25,992 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:20:32,308 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:20:32,311 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:20:38,245 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:20:38,248 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:20:50,368 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 12:20:50,371 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 12:54:31,798 - main_orchestrator - INFO - ==================================================
2025-05-22 12:54:31,799 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 12:54:31,799 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 12:54:31,800 - main_orchestrator - INFO - ==================================================
2025-05-22 12:54:31,802 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 12:54:31,804 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 12:54:31,805 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 12:54:31,806 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 12:54:31,807 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 12:54:31,808 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-22 12:54:31,808 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 12:54:31,809 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 12:54:31,809 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 12:54:31,809 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 12:54:31,831 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 12:54:32,499 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 12:54:32,500 - main_orchestrator - INFO - PDF procesado en 0.69 seg. Enlaces encontrados: 103
2025-05-22 12:54:32,510 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 12:54:32,511 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 12:54:32,512 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 12:54:32,624 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 12:54:32,624 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 12:54:32,624 - main_orchestrator - INFO - Texto del PDF extraído en 0.11 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 12:54:32,625 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 12:54:32,625 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-22 12:54:32,625 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-22 12:54:32,626 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 12:54:32,626 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-22 12:54:32,626 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 12:54:32,627 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 12:54:32,627 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 12:54:32,628 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-22 12:54:32,628 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-22 12:54:32,629 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 12:54:32,630 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 12:54:32,630 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 12:54:32,631 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 12:54:32,631 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-22 12:54:32,631 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 12:54:32,631 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 12:54:32,632 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 12:54:32,633 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 12:54:32,635 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-22 12:54:32,636 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 12:54:32,636 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-22 12:54:32,637 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 12:54:32,638 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:54:32,639 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:54:32,639 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T12:54:32.637464', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.69, 'pdf_text_extraction': 0.11, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.11, 'stats_consolidation': 0.0}}
2025-05-22 12:54:32,640 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 12:54:32,640 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 12:54:32,661 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 12:54:32,663 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 12:54:32,664 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 12:54:32,664 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 12:54:32,687 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 12:54:32,687 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 12:54:32,688 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 12:54:32,688 - semantic_cleaner - INFO - Extraídos 0 textos de HTML
2025-05-22 12:54:32,689 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 12:54:32,689 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-22 12:54:33,022 - semantic_cleaner - INFO - Se identificaron 8 grupos de textos similares
2025-05-22 12:54:33,022 - semantic_cleaner - INFO - Se seleccionaron 8 textos representativos
2025-05-22 12:54:33,023 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 12:54:33,023 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 12:54:33,025 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 12:54:33,025 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 12:54:33,030 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 12:54:33,032 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:54:33,032 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 12:54:33,033 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T12:54:32.637464', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.69, 'pdf_text_extraction': 0.11, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.11, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.37}}
2025-05-22 12:54:33,033 - main_orchestrator - INFO - Limpieza semántica completada en 0.37 seg.
2025-05-22 12:54:33,034 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 12:54:33,034 - main_orchestrator - INFO - ==================================================
2025-05-22 12:54:33,035 - main_orchestrator - INFO - PIPELINE FINALIZADO en 1.24 segundos.
2025-05-22 12:54:33,035 - main_orchestrator - INFO - ==================================================
2025-05-22 13:08:03,491 - main_orchestrator - INFO - ==================================================
2025-05-22 13:08:03,491 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 13:08:03,491 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 13:08:03,492 - main_orchestrator - INFO - ==================================================
2025-05-22 13:08:03,493 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 13:08:03,494 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 13:08:03,495 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 13:08:03,495 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 13:08:03,496 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 13:08:03,496 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 13:08:03,497 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 13:08:03,497 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 13:08:03,497 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 13:08:03,528 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 13:08:04,111 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 13:08:04,111 - main_orchestrator - INFO - PDF procesado en 0.61 seg. Enlaces encontrados: 103
2025-05-22 13:08:04,116 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 13:08:04,116 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 13:08:04,118 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 13:08:04,217 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 13:08:04,218 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 13:08:04,218 - main_orchestrator - INFO - Texto del PDF extraído en 0.10 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 13:08:04,218 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 13:08:04,219 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-22 13:08:04,219 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-22 13:08:04,219 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 13:08:04,219 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-22 13:08:04,220 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 13:08:04,220 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 13:08:04,220 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 13:08:04,220 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-22 13:08:04,221 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-22 13:08:04,222 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 13:08:04,222 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 13:08:04,222 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 13:08:04,223 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 13:08:04,223 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-22 13:08:04,223 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 13:08:04,224 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 13:08:04,224 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 13:08:04,224 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 13:08:04,226 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-22 13:08:04,227 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 13:08:04,227 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-22 13:08:04,227 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 13:08:04,228 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 13:08:04,229 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 13:08:04,229 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T13:08:04.227909', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.61, 'pdf_text_extraction': 0.1, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.1, 'stats_consolidation': 0.0}}
2025-05-22 13:08:04,229 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 13:08:04,230 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 13:08:04,243 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 13:08:04,245 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 13:08:04,246 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 13:08:04,246 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 13:08:04,267 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 13:08:04,267 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 13:08:04,267 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 13:08:04,268 - semantic_cleaner - INFO - Extraídos 0 textos de HTML
2025-05-22 13:08:04,268 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 13:08:04,268 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-22 13:08:04,500 - semantic_cleaner - INFO - Se identificaron 8 grupos de textos similares
2025-05-22 13:08:04,501 - semantic_cleaner - INFO - Se seleccionaron 8 textos representativos
2025-05-22 13:08:04,501 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 13:08:04,501 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 13:08:04,504 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 13:08:04,504 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 13:08:04,507 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 13:08:04,508 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 13:08:04,509 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 13:08:04,509 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T13:08:04.227909', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.61, 'pdf_text_extraction': 0.1, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.1, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.26}}
2025-05-22 13:08:04,510 - main_orchestrator - INFO - Limpieza semántica completada en 0.26 seg.
2025-05-22 13:08:04,510 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 13:08:04,510 - main_orchestrator - INFO - ==================================================
2025-05-22 13:08:04,511 - main_orchestrator - INFO - PIPELINE FINALIZADO en 1.02 segundos.
2025-05-22 13:08:04,511 - main_orchestrator - INFO - ==================================================
2025-05-22 13:14:52,577 - main_orchestrator - INFO - ==================================================
2025-05-22 13:14:52,578 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 13:14:52,578 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 13:14:52,578 - main_orchestrator - INFO - ==================================================
2025-05-22 13:14:52,591 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 13:14:52,602 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 13:14:52,603 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 13:14:52,638 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 13:14:52,642 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 13:14:52,644 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 13:14:52,646 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 13:14:52,649 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 13:14:52,651 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 13:14:52,689 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 13:14:53,340 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 13:14:53,341 - main_orchestrator - INFO - PDF procesado en 0.69 seg. Enlaces encontrados: 103
2025-05-22 13:14:53,345 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 13:14:53,345 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 13:14:53,346 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 13:14:53,455 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 13:14:53,456 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 13:14:53,456 - main_orchestrator - INFO - Texto del PDF extraído en 0.11 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 13:14:53,456 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 13:14:53,457 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-22 13:14:53,457 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-22 13:14:53,457 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 13:14:53,458 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-22 13:14:53,458 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 13:14:53,458 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 13:14:53,459 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 13:14:53,459 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-22 13:14:53,459 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-22 13:14:53,460 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 13:14:53,460 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 13:14:53,461 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 13:14:53,461 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 13:14:53,461 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-22 13:14:53,462 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 13:14:53,462 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 13:14:53,462 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 13:14:53,463 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 13:14:53,475 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-22 13:14:53,476 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 13:14:53,476 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-22 13:14:53,476 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 13:14:53,477 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 13:14:53,478 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 13:14:53,478 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T13:14:53.476652', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.69, 'pdf_text_extraction': 0.11, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.11, 'stats_consolidation': 0.0}}
2025-05-22 13:14:53,478 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 13:14:53,478 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 13:14:53,492 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 13:14:53,495 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 13:14:53,495 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 13:14:53,495 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 13:14:53,523 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 13:14:53,523 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 13:14:53,523 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 13:14:53,524 - semantic_cleaner - INFO - Extraídos 0 textos de HTML
2025-05-22 13:14:53,524 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 13:14:53,524 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-22 13:14:53,763 - semantic_cleaner - INFO - Se identificaron 8 grupos de textos similares
2025-05-22 13:14:53,763 - semantic_cleaner - INFO - Se seleccionaron 8 textos representativos
2025-05-22 13:14:53,763 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 13:14:53,763 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 13:14:53,765 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 13:14:53,766 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 13:14:53,769 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 13:14:53,770 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 13:14:53,771 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 13:14:53,771 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T13:14:53.476652', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.69, 'pdf_text_extraction': 0.11, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.11, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.27}}
2025-05-22 13:14:53,771 - main_orchestrator - INFO - Limpieza semántica completada en 0.27 seg.
2025-05-22 13:14:53,772 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 13:14:53,772 - main_orchestrator - INFO - ==================================================
2025-05-22 13:14:53,772 - main_orchestrator - INFO - PIPELINE FINALIZADO en 1.19 segundos.
2025-05-22 13:14:53,773 - main_orchestrator - INFO - ==================================================
2025-05-22 14:28:51,816 - main_orchestrator - INFO - ==================================================
2025-05-22 14:28:51,816 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 14:28:51,817 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 14:28:51,817 - main_orchestrator - INFO - ==================================================
2025-05-22 14:28:51,821 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 14:28:51,822 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 14:28:51,822 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 14:28:51,843 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 14:28:51,844 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 14:28:51,844 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 14:28:51,845 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 14:28:51,845 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 14:28:51,845 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 14:28:51,861 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 14:28:52,246 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 14:28:52,246 - main_orchestrator - INFO - PDF procesado en 0.40 seg. Enlaces encontrados: 103
2025-05-22 14:28:52,250 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 14:28:52,251 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 14:28:52,252 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 14:28:52,364 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 14:28:52,365 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 14:28:52,365 - main_orchestrator - INFO - Texto del PDF extraído en 0.11 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 14:28:52,365 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 14:28:52,365 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-22 14:28:52,366 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-22 14:28:52,366 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 14:28:52,366 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-22 14:28:52,367 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 14:28:52,367 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 14:28:52,367 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 14:28:52,368 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-22 14:28:52,368 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-22 14:28:52,369 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 14:28:52,370 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 14:28:52,370 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 14:28:52,370 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 14:28:52,371 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-22 14:28:52,371 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 14:28:52,371 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 14:28:52,372 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 14:28:52,372 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 14:28:52,374 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-22 14:28:52,374 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 14:28:52,374 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-22 14:28:52,374 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 14:28:52,375 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 14:28:52,376 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 14:28:52,376 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T14:28:52.374974', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.4, 'pdf_text_extraction': 0.11, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.11, 'stats_consolidation': 0.0}}
2025-05-22 14:28:52,376 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 14:28:52,377 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 14:28:52,389 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 14:28:52,391 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 14:28:52,391 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 14:28:52,391 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 14:28:52,405 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 14:28:52,405 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 14:28:52,405 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 14:28:52,405 - semantic_cleaner - INFO - Extraídos 0 textos de HTML
2025-05-22 14:28:52,406 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 14:28:52,406 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-22 14:28:52,603 - semantic_cleaner - INFO - Se identificaron 8 grupos de textos similares
2025-05-22 14:28:52,603 - semantic_cleaner - INFO - Se seleccionaron 8 textos representativos
2025-05-22 14:28:52,603 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 14:28:52,604 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 14:28:52,606 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 14:28:52,607 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 14:28:52,610 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 14:28:52,611 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 14:28:52,611 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 14:28:52,612 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T14:28:52.374974', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.4, 'pdf_text_extraction': 0.11, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.11, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.22}}
2025-05-22 14:28:52,612 - main_orchestrator - INFO - Limpieza semántica completada en 0.22 seg.
2025-05-22 14:28:52,612 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 14:28:52,612 - main_orchestrator - INFO - ==================================================
2025-05-22 14:28:52,613 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.80 segundos.
2025-05-22 14:28:52,613 - main_orchestrator - INFO - ==================================================
2025-05-22 14:41:38,687 - main_orchestrator - INFO - ==================================================
2025-05-22 14:41:38,687 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 14:41:38,688 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 14:41:38,688 - main_orchestrator - INFO - ==================================================
2025-05-22 14:41:38,690 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 14:41:38,692 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 14:41:38,692 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 14:41:38,693 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 14:41:38,694 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 14:41:38,695 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 14:41:38,696 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 14:41:38,696 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 14:41:38,696 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 14:41:38,717 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 14:41:39,228 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 14:41:39,229 - main_orchestrator - INFO - PDF procesado en 0.53 seg. Enlaces encontrados: 103
2025-05-22 14:41:39,233 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 14:41:39,233 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 14:41:39,235 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 14:41:39,404 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 14:41:39,407 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 14:41:39,407 - main_orchestrator - INFO - Texto del PDF extraído en 0.17 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 14:41:39,408 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 14:41:39,409 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-22 14:41:39,409 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-22 14:41:39,409 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 14:41:39,410 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-22 14:41:39,410 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 14:41:39,411 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 14:41:39,411 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 14:41:39,412 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-22 14:41:39,412 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-22 14:41:39,413 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 14:41:39,414 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 14:41:39,414 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 14:41:39,414 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 14:41:39,414 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-22 14:41:39,415 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 14:41:39,416 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 14:41:39,416 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 14:41:39,417 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 14:41:39,419 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-22 14:41:39,419 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 14:41:39,419 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-22 14:41:39,420 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 14:41:39,421 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 14:41:39,422 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 14:41:39,423 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T14:41:39.420603', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.53, 'pdf_text_extraction': 0.17, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.17, 'stats_consolidation': 0.0}}
2025-05-22 14:41:39,423 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 14:41:39,424 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 14:41:39,437 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 14:41:39,439 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 14:41:39,440 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 14:41:39,440 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 14:41:39,457 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 14:41:39,458 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 14:41:39,458 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 14:41:39,458 - semantic_cleaner - INFO - Extraídos 0 textos de HTML
2025-05-22 14:41:39,458 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 14:41:39,459 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-22 14:41:39,669 - semantic_cleaner - INFO - Se identificaron 8 grupos de textos similares
2025-05-22 14:41:39,669 - semantic_cleaner - INFO - Se seleccionaron 8 textos representativos
2025-05-22 14:41:39,669 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 14:41:39,669 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 14:41:39,671 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 14:41:39,672 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 14:41:39,675 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 14:41:39,676 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 14:41:39,676 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 14:41:39,677 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T14:41:39.420603', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.53, 'pdf_text_extraction': 0.17, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.17, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.23}}
2025-05-22 14:41:39,677 - main_orchestrator - INFO - Limpieza semántica completada en 0.23 seg.
2025-05-22 14:41:39,677 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 14:41:39,678 - main_orchestrator - INFO - ==================================================
2025-05-22 14:41:39,678 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.99 segundos.
2025-05-22 14:41:39,678 - main_orchestrator - INFO - ==================================================
2025-05-22 14:49:50,753 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:49:50,757 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:51:22,049 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:51:22,054 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:51:36,328 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:51:36,331 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:51:43,244 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:51:43,247 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:51:49,548 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:51:49,551 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:51:55,143 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:51:55,146 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:53:58,935 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:53:58,938 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:54:11,876 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:54:11,879 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:54:24,931 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:54:24,936 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:54:35,300 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:54:35,304 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:56:49,651 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:56:49,657 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:57:02,693 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:57:02,696 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:57:39,461 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:57:39,466 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 14:57:48,892 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 14:57:48,896 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 15:09:52,263 - main_orchestrator - INFO - ==================================================
2025-05-22 15:09:52,263 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 15:09:52,264 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 15:09:52,264 - main_orchestrator - INFO - ==================================================
2025-05-22 15:09:52,266 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 15:09:52,267 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 15:09:52,268 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 15:09:52,269 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 15:09:52,270 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 15:09:52,271 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-22 15:09:52,271 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 15:09:52,272 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 15:09:52,272 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 15:09:52,272 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 15:09:52,294 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 15:09:52,927 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 15:09:52,927 - main_orchestrator - INFO - PDF procesado en 0.66 seg. Enlaces encontrados: 103
2025-05-22 15:09:52,935 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 15:09:52,935 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 15:09:52,937 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 15:09:53,045 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 15:09:53,046 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 15:09:53,046 - main_orchestrator - INFO - Texto del PDF extraído en 0.11 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 15:09:53,047 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 15:09:53,047 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-22 15:09:53,047 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-22 15:09:53,047 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 15:09:53,048 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-22 15:09:53,048 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 15:09:53,048 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 15:09:53,049 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 15:09:53,049 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-22 15:09:53,049 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-22 15:09:53,050 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 15:09:53,051 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 15:09:53,051 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 15:09:53,051 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 15:09:53,051 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-22 15:09:53,052 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 15:09:53,052 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 15:09:53,053 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 15:09:53,053 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 15:09:53,056 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-22 15:09:53,056 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 15:09:53,056 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-22 15:09:53,057 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 15:09:53,058 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 15:09:53,059 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 15:09:53,059 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T15:09:53.057564', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.66, 'pdf_text_extraction': 0.11, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.11, 'stats_consolidation': 0.0}}
2025-05-22 15:09:53,059 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 15:09:53,060 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 15:09:53,078 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 15:09:53,080 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 15:09:53,080 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 15:09:53,081 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 15:09:53,102 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 15:09:53,102 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 15:09:53,103 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 15:09:53,103 - semantic_cleaner - INFO - Extraídos 0 textos de HTML
2025-05-22 15:09:53,103 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 15:09:53,103 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-22 15:09:53,403 - semantic_cleaner - INFO - Se identificaron 8 grupos de textos similares
2025-05-22 15:09:53,404 - semantic_cleaner - INFO - Se seleccionaron 8 textos representativos
2025-05-22 15:09:53,404 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 15:09:53,404 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 15:09:53,406 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 15:09:53,406 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 15:09:53,410 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 15:09:53,411 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 15:09:53,412 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 15:09:53,412 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T15:09:53.057564', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.66, 'pdf_text_extraction': 0.11, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.11, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.33}}
2025-05-22 15:09:53,413 - main_orchestrator - INFO - Limpieza semántica completada en 0.33 seg.
2025-05-22 15:09:53,413 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 15:09:53,413 - main_orchestrator - INFO - ==================================================
2025-05-22 15:09:53,414 - main_orchestrator - INFO - PIPELINE FINALIZADO en 1.15 segundos.
2025-05-22 15:09:53,414 - main_orchestrator - INFO - ==================================================
2025-05-22 15:24:50,760 - main_orchestrator - INFO - ==================================================
2025-05-22 15:24:50,760 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 15:24:50,761 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 15:24:50,761 - main_orchestrator - INFO - ==================================================
2025-05-22 15:24:50,763 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 15:24:50,764 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 15:24:50,765 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 15:24:50,766 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 15:24:50,767 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 15:24:50,768 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 15:24:50,768 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 15:24:50,769 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 15:24:50,769 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 15:24:50,793 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 15:24:51,428 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 15:24:51,428 - main_orchestrator - INFO - PDF procesado en 0.66 seg. Enlaces encontrados: 103
2025-05-22 15:24:51,433 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 15:24:51,433 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 15:24:51,435 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 15:24:51,553 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 15:24:51,554 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 15:24:51,554 - main_orchestrator - INFO - Texto del PDF extraído en 0.12 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 15:24:51,555 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 15:24:51,555 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-22 15:24:51,555 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-22 15:24:51,556 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 15:24:51,556 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-22 15:24:51,557 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 15:24:51,557 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 15:24:51,558 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 15:24:51,558 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-22 15:24:51,558 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-22 15:24:51,560 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 15:24:51,560 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 15:24:51,560 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 15:24:51,561 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 15:24:51,561 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-22 15:24:51,561 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 15:24:51,561 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 15:24:51,562 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 15:24:51,562 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 15:24:51,564 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-22 15:24:51,564 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 15:24:51,564 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-22 15:24:51,565 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 15:24:51,567 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 15:24:51,567 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 15:24:51,568 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T15:24:51.565481', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.66, 'pdf_text_extraction': 0.12, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.12, 'stats_consolidation': 0.0}}
2025-05-22 15:24:51,568 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 15:24:51,568 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 15:24:51,582 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 15:24:51,585 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 15:24:51,585 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 15:24:51,585 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 15:24:51,609 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 15:24:51,610 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 15:24:51,610 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 15:24:51,610 - semantic_cleaner - INFO - Extraídos 0 textos de HTML
2025-05-22 15:24:51,610 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 15:24:51,611 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-22 15:24:51,954 - semantic_cleaner - INFO - Se identificaron 8 grupos de textos similares
2025-05-22 15:24:51,954 - semantic_cleaner - INFO - Se seleccionaron 8 textos representativos
2025-05-22 15:24:51,954 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 15:24:51,955 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 15:24:51,957 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 15:24:51,957 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 15:24:51,960 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 15:24:51,962 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 15:24:51,962 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 15:24:51,962 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T15:24:51.565481', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.66, 'pdf_text_extraction': 0.12, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.12, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.37}}
2025-05-22 15:24:51,963 - main_orchestrator - INFO - Limpieza semántica completada en 0.37 seg.
2025-05-22 15:24:51,963 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 15:24:51,963 - main_orchestrator - INFO - ==================================================
2025-05-22 15:24:51,964 - main_orchestrator - INFO - PIPELINE FINALIZADO en 1.20 segundos.
2025-05-22 15:24:51,964 - main_orchestrator - INFO - ==================================================
2025-05-22 15:44:15,289 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 15:44:15,293 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 15:47:26,339 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 15:47:26,343 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 15:53:49,760 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 15:53:49,763 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 15:54:02,926 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 15:54:02,929 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 15:56:02,784 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 15:56:02,788 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 15:56:45,590 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-22 15:56:45,593 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-22 16:04:06,440 - main_orchestrator - INFO - ==================================================
2025-05-22 16:04:06,441 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 16:04:06,441 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 16:04:06,441 - main_orchestrator - INFO - ==================================================
2025-05-22 16:04:06,443 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 16:04:06,444 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 16:04:06,445 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 16:04:06,446 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 321 URLs.
2025-05-22 16:04:06,447 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 16:04:06,447 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-22 16:04:06,447 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 16:04:06,448 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 16:04:06,448 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 16:04:06,448 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 16:04:06,468 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 16:04:06,939 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 16:04:06,939 - main_orchestrator - INFO - PDF procesado en 0.49 seg. Enlaces encontrados: 103
2025-05-22 16:04:06,946 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 16:04:06,946 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 16:04:06,947 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 16:04:07,038 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 16:04:07,039 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 16:04:07,039 - main_orchestrator - INFO - Texto del PDF extraído en 0.09 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 16:04:07,039 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 16:04:07,040 - lib.history_tracker - INFO - Filtradas 102 URLs ya procesadas del lote actual.
2025-05-22 16:04:07,040 - main_orchestrator - INFO - URLs nuevas para procesar: 1 (de 103 total)
2025-05-22 16:04:07,040 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 16:04:07,042 - selenium_extractor - INFO - SeleniumContentExtractor inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup\content
2025-05-22 16:04:07,042 - content_deduplicator - INFO - ContentDeduplicator inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup
2025-05-22 16:04:07,043 - content_deduplicator - INFO - Analizando 1 URLs para encontrar duplicados...
2025-05-22 16:04:07,043 - content_deduplicator - INFO - Análisis completado en 0.00 segundos
2025-05-22 16:04:07,043 - content_deduplicator - INFO - URLs totales: 1, Únicas: 1, En grupos: 0
2025-05-22 16:04:07,043 - content_deduplicator - INFO - Se realizaron 0 comparaciones (0.0/seg), evitando 0
2025-05-22 16:04:07,044 - content_deduplicator - INFO - Grupos de duplicados encontrados: 0
2025-05-22 16:04:07,045 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-22 16:04:07,045 - main_orchestrator - INFO - Análisis de duplicados completado: 0 URLs duplicadas filtradas
2025-05-22 16:04:07,045 - main_orchestrator - INFO - URLs después de filtrar duplicados: 1
2025-05-22 16:04:07,046 - main_orchestrator - INFO - Estadísticas de duplicados guardadas en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-22 16:04:07,046 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 16:04:07,046 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 16:04:07,046 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 16:04:07,047 - lib.url_manager - INFO - Clasificación de 1 URLs:
2025-05-22 16:04:07,047 - lib.url_manager - INFO -  - SOCIAL: 1
2025-05-22 16:04:07,048 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 16:04:07,048 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 16:04:07,048 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 16:04:07,049 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 16:04:07,049 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-22 16:04:07,049 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 16:04:07,049 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 16:04:07,050 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 16:04:07,050 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 16:04:07,052 - main_orchestrator - INFO - No hay URLs de Facebook para procesar.
2025-05-22 16:04:07,052 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 16:04:07,052 - main_orchestrator - INFO - No hay PDFs de Facebook para extraer texto.
2025-05-22 16:04:07,053 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 16:04:07,054 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:04:07,054 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:04:07,054 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T16:04:07.053449', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.49, 'pdf_text_extraction': 0.09, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.09, 'stats_consolidation': 0.0}}
2025-05-22 16:04:07,055 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 16:04:07,055 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 16:04:07,072 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 16:04:07,074 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 16:04:07,074 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 16:04:07,075 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 16:04:07,093 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 16:04:07,093 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 16:04:07,093 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 16:04:07,093 - semantic_cleaner - INFO - Extraídos 0 textos de HTML
2025-05-22 16:04:07,094 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 16:04:07,094 - semantic_cleaner - INFO - Extraídos 0 textos de Facebook
2025-05-22 16:04:07,342 - semantic_cleaner - INFO - Se identificaron 8 grupos de textos similares
2025-05-22 16:04:07,342 - semantic_cleaner - INFO - Se seleccionaron 8 textos representativos
2025-05-22 16:04:07,343 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 16:04:07,343 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 16:04:07,344 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 16:04:07,345 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 16:04:07,347 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 16:04:07,349 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:04:07,349 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:04:07,349 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T16:04:07.053449', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 1, 'history_total_urls': 321, 'categories': {'social': 1}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 0, 'successful': 0, 'extracted_texts': 0}, 'timings_seconds': {'pdf_extraction': 0.49, 'pdf_text_extraction': 0.09, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 0, 'facebook_text_extraction': 0.09, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.27}}
2025-05-22 16:04:07,350 - main_orchestrator - INFO - Limpieza semántica completada en 0.27 seg.
2025-05-22 16:04:07,350 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 16:04:07,350 - main_orchestrator - INFO - ==================================================
2025-05-22 16:04:07,351 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.91 segundos.
2025-05-22 16:04:07,351 - main_orchestrator - INFO - ==================================================
2025-05-22 16:17:26,034 - main_orchestrator - INFO - ==================================================
2025-05-22 16:17:26,035 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 16:17:26,035 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 16:17:26,035 - main_orchestrator - INFO - ==================================================
2025-05-22 16:17:26,037 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 16:17:26,038 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 16:17:26,039 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 16:17:26,040 - lib.history_tracker - INFO - Archivo de historial no encontrado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json. Se creará uno nuevo al guardar.
2025-05-22 16:17:26,040 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 16:17:26,041 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 16:17:26,041 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 16:17:26,041 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 16:17:26,042 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 16:17:26,061 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 16:17:26,552 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 16:17:26,553 - main_orchestrator - INFO - PDF procesado en 0.51 seg. Enlaces encontrados: 103
2025-05-22 16:17:26,556 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 16:17:26,556 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 16:17:26,557 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 16:17:26,664 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 16:17:26,665 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 16:17:26,665 - main_orchestrator - INFO - Texto del PDF extraído en 0.11 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 16:17:26,665 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 16:17:26,666 - main_orchestrator - INFO - URLs nuevas para procesar: 103 (de 103 total)
2025-05-22 16:17:26,666 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 16:17:26,666 - selenium_extractor - INFO - SeleniumContentExtractor inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup\content
2025-05-22 16:17:26,667 - content_deduplicator - INFO - ContentDeduplicator inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup
2025-05-22 16:17:26,667 - content_deduplicator - INFO - Analizando 103 URLs para encontrar duplicados...
2025-05-22 16:17:26,669 - content_deduplicator - WARNING - Demasiados dominios (22). Limitando a los 20 más grandes.
2025-05-22 16:17:26,669 - content_deduplicator - INFO - Procesando 49 URLs del dominio facebook.com
2025-05-22 16:17:26,671 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/agenciandina/posts/pfbid0GoGrkSAmt6xy7bqZVtLhDRpmyYXpe9CQ8dS641ippmAcjbMuQtkK4o6yd75Gyoztl?rdid=1aMJtw9YNRZJfAlm (tipo: facebook)
2025-05-22 16:17:45,045 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/agenciandina/posts/pfbid0GoGrkSAmt6xy7bqZVtLhDRpmyYXpe9CQ8dS641ippmAcjbMuQtkK4o6yd75Gyoztl?rdid=1aMJtw9YNRZJfAlm
2025-05-22 16:17:47,380 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/RADIOTACNA104.3FM/posts/pfbid02yz2TNAb2gA7zXCCsuXxcnXknTvK3AhJptqtGP1C2uD1gxYNGqxME8NFGVf2n4EbJl?rdid=bhe3XVHyig6ZXpOJ (tipo: facebook)
2025-05-22 16:18:03,845 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/RADIOTACNA104.3FM/posts/pfbid02yz2TNAb2gA7zXCCsuXxcnXknTvK3AhJptqtGP1C2uD1gxYNGqxME8NFGVf2n4EbJl?rdid=bhe3XVHyig6ZXpOJ
2025-05-22 16:18:06,090 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/SoemPeru/posts/pfbid023SyRCJCWJy3mfy5XUMsPjeiwFe38gGsj49sZJm9ckuD2uo5vHZ9GAWCh3PW2GLkml?rdid=9g14DZuhU7mq60uh (tipo: facebook)
2025-05-22 16:18:15,276 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/SoemPeru/posts/pfbid023SyRCJCWJy3mfy5XUMsPjeiwFe38gGsj49sZJm9ckuD2uo5vHZ9GAWCh3PW2GLkml?rdid=9g14DZuhU7mq60uh
2025-05-22 16:18:17,538 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/decanaradio/posts/pfbid02DnD9Woi5x9YE7RFXhdsbqMELhCuecheDYfZZyKax2CNPtqMij1U1B1gr3x63G7ePl?rdid=OnJio5eiGkW6ZSGE (tipo: facebook)
2025-05-22 16:18:26,754 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/decanaradio/posts/pfbid02DnD9Woi5x9YE7RFXhdsbqMELhCuecheDYfZZyKax2CNPtqMij1U1B1gr3x63G7ePl?rdid=OnJio5eiGkW6ZSGE
2025-05-22 16:18:28,937 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/diplomaciaciudadana/posts/pfbid0zABeJhxS8GzRQidm7mR4RzzFVzXGzwG3htiXKS712a6AVBP3ztQhvqgtCSpjGZa3l?rdid=ReVxRKJ9evbT34Px (tipo: facebook)
2025-05-22 16:18:38,138 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/diplomaciaciudadana/posts/pfbid0zABeJhxS8GzRQidm7mR4RzzFVzXGzwG3htiXKS712a6AVBP3ztQhvqgtCSpjGZa3l?rdid=ReVxRKJ9evbT34Px
2025-05-22 16:18:40,361 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid021PPZL5gbG9z13hAZLaPhAGULcR3VNipJMfCLH4VDJn8aQ9k7KvgC6yQeAsujyKepl&id=100064089484737&rdid=E1OEnXv4iVTbRGro (tipo: facebook)
2025-05-22 16:18:49,920 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid021PPZL5gbG9z13hAZLaPhAGULcR3VNipJMfCLH4VDJn8aQ9k7KvgC6yQeAsujyKepl&id=100064089484737&rdid=E1OEnXv4iVTbRGro
2025-05-22 16:18:52,116 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/groups/142925476261791/permalink/1713016105919379/?rdid=qlREPYVsMHdGHPMI&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2Fp%2F1EaGLriuJo%2F (tipo: facebook)
2025-05-22 16:19:01,640 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/groups/142925476261791/permalink/1713016105919379/?rdid=qlREPYVsMHdGHPMI&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2Fp%2F1EaGLriuJo%2F
2025-05-22 16:19:03,840 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid06u3kqH3zC7LaCNYixodwUjR7dpgY84Y2HkdEmXaPnNrvy5WSWkCeVUtYzix4ork8l&id=100062993063417&rdid=W7M6TZM9WxOnYRNM (tipo: facebook)
2025-05-22 16:19:13,252 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid06u3kqH3zC7LaCNYixodwUjR7dpgY84Y2HkdEmXaPnNrvy5WSWkCeVUtYzix4ork8l&id=100062993063417&rdid=W7M6TZM9WxOnYRNM
2025-05-22 16:19:15,440 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0reYaJGKSrrrM5sH1sZBTvPsm8im1uhSwyjzjmE433Meqhw21yPtjcWuFU6LZfnb1l&id=100072108931277&rdid=h4uCPExW0ybiyePi (tipo: facebook)
2025-05-22 16:19:24,177 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0reYaJGKSrrrM5sH1sZBTvPsm8im1uhSwyjzjmE433Meqhw21yPtjcWuFU6LZfnb1l&id=100072108931277&rdid=h4uCPExW0ybiyePi
2025-05-22 16:19:26,382 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0gdz3Jt9XeV6CqoTTNaicfRqxFMk6MWSbX8L6CTS62eJjBpGkZjMWC4T2ym5HrUTHl&id=100065273659654&rdid=uFgc1hNpAT2S3DpG (tipo: facebook)
2025-05-22 16:19:35,365 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0gdz3Jt9XeV6CqoTTNaicfRqxFMk6MWSbX8L6CTS62eJjBpGkZjMWC4T2ym5HrUTHl&id=100065273659654&rdid=uFgc1hNpAT2S3DpG
2025-05-22 16:19:37,565 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/diarioprimiciahyo/posts/pfbid0MyvvUrEXMwK9JweVexky3uoJu9xYaG5CrP4wLPi25vuo4i4su39fj8bZe4HjAyAYl?rdid=WQIs6UTvdY7Bm09T (tipo: facebook)
2025-05-22 16:19:46,482 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/diarioprimiciahyo/posts/pfbid0MyvvUrEXMwK9JweVexky3uoJu9xYaG5CrP4wLPi25vuo4i4su39fj8bZe4HjAyAYl?rdid=WQIs6UTvdY7Bm09T
2025-05-22 16:19:48,704 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0rR7UDLVAfscSqNLjgQEC4tLSMNvwUxiU7ZJJpmgaDRvitJ25FWysDbgdHfqvTMYsl&id=100066844274567&rdid=YWZjIZXhyCZwg75K (tipo: facebook)
2025-05-22 16:19:58,316 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0rR7UDLVAfscSqNLjgQEC4tLSMNvwUxiU7ZJJpmgaDRvitJ25FWysDbgdHfqvTMYsl&id=100066844274567&rdid=YWZjIZXhyCZwg75K
2025-05-22 16:20:00,534 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/radiostudio1huancavelicaoficial2023/posts/pfbid02wzvGm2NmrehqThvWApngvHX3QKMNV14n3C4h3Edi4B8bTsEytcqU2gwbCk8B5C8ml?rdid=Wpa8rNsRaAuEefKp (tipo: facebook)
2025-05-22 16:20:10,411 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/radiostudio1huancavelicaoficial2023/posts/pfbid02wzvGm2NmrehqThvWApngvHX3QKMNV14n3C4h3Edi4B8bTsEytcqU2gwbCk8B5C8ml?rdid=Wpa8rNsRaAuEefKp
2025-05-22 16:20:12,579 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid02MfN5NQfmwvb4W9kQZX93BVp21WugQWTryig2tQerHE7kFb2KrZfwx6NbpxTxpR1sl&id=100063616446639&rdid=vTNwRKdtFe2BIznu (tipo: facebook)
2025-05-22 16:20:21,095 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid02MfN5NQfmwvb4W9kQZX93BVp21WugQWTryig2tQerHE7kFb2KrZfwx6NbpxTxpR1sl&id=100063616446639&rdid=vTNwRKdtFe2BIznu
2025-05-22 16:20:23,372 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0e49Y6pejvWGo3v1yMUo98TeE65wKFp9r6VGNfVWyCzZQ4qaxtRvpSwBAo7cJEaFEl&id=61559613183648&rdid=P8fBqLGKDPDzeFaQ (tipo: facebook)
2025-05-22 16:20:33,078 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0e49Y6pejvWGo3v1yMUo98TeE65wKFp9r6VGNfVWyCzZQ4qaxtRvpSwBAo7cJEaFEl&id=61559613183648&rdid=P8fBqLGKDPDzeFaQ
2025-05-22 16:20:35,282 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/PorSuPuertoNoticiasChimbote/posts/pfbid02oVqM6Gq2kMtaW9FPJugkPAwryZLVSvcAdX7LWdJHqei9qU7CBbHTf4aWmPEW1dhal?rdid=dMzYD3xKAFmcOzaM&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2Fp%2F16fnxz3UG6%2F (tipo: facebook)
2025-05-22 16:20:45,142 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/PorSuPuertoNoticiasChimbote/posts/pfbid02oVqM6Gq2kMtaW9FPJugkPAwryZLVSvcAdX7LWdJHqei9qU7CBbHTf4aWmPEW1dhal?rdid=dMzYD3xKAFmcOzaM&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2Fp%2F16fnxz3UG6%2F
2025-05-22 16:20:47,348 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0TzCZwTAWQvxGLNMQ77dhngX98TVYedA6pB4XL5ksMGojoTp6ju7V5YawYRwedsACl&id=100092180403233&rdid=fGJGXkUs6xgloihe (tipo: facebook)
2025-05-22 16:20:55,850 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0TzCZwTAWQvxGLNMQ77dhngX98TVYedA6pB4XL5ksMGojoTp6ju7V5YawYRwedsACl&id=100092180403233&rdid=fGJGXkUs6xgloihe
2025-05-22 16:20:58,097 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/rct.toquepala/posts/pfbid0PnmjyQnAbbFL8AgHwo3q94vSGszTBMhdysJMoKRKWFMmboBRRjMmhPRs3d1cGjekl?rdid=2LhTafC5kKyz68Dm (tipo: facebook)
2025-05-22 16:21:07,870 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/rct.toquepala/posts/pfbid0PnmjyQnAbbFL8AgHwo3q94vSGszTBMhdysJMoKRKWFMmboBRRjMmhPRs3d1cGjekl?rdid=2LhTafC5kKyz68Dm
2025-05-22 16:21:10,057 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo?fbid=1242232614579107&set=a.419399216862455 (tipo: facebook)
2025-05-22 16:21:20,917 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo?fbid=1242232614579107&set=a.419399216862455
2025-05-22 16:21:23,125 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo?fbid=629540879905471&set=a.115323967993834 (tipo: facebook)
2025-05-22 16:21:31,460 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo?fbid=629540879905471&set=a.115323967993834
2025-05-22 16:21:33,660 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo?fbid=1169198698550401&set=a.479540714182873 (tipo: facebook)
2025-05-22 16:21:46,515 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo?fbid=1169198698550401&set=a.479540714182873
2025-05-22 16:21:48,858 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo?fbid=9169253469869352&set=a.740299552764828 (tipo: facebook)
2025-05-22 16:21:59,593 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo?fbid=9169253469869352&set=a.740299552764828
2025-05-22 16:22:01,826 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo/?fbid=721410753566836&set=a.257328239975092 (tipo: facebook)
2025-05-22 16:22:12,408 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo/?fbid=721410753566836&set=a.257328239975092
2025-05-22 16:22:14,616 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo?fbid=122113948808817608&set=a.122095373924817608 (tipo: facebook)
2025-05-22 16:22:28,127 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo?fbid=122113948808817608&set=a.122095373924817608
2025-05-22 16:22:30,361 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo/?fbid=1237408555057217&set=a.487862856678461 (tipo: facebook)
2025-05-22 16:22:38,985 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo/?fbid=1237408555057217&set=a.487862856678461
2025-05-22 16:22:41,293 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo/?fbid=960858089464459&set=a.411299177753689 (tipo: facebook)
2025-05-22 16:22:51,885 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo/?fbid=960858089464459&set=a.411299177753689
2025-05-22 16:22:54,082 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo/?fbid=1238539827994284&set=a.679333793914893 (tipo: facebook)
2025-05-22 16:23:04,233 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo/?fbid=1238539827994284&set=a.679333793914893
2025-05-22 16:23:06,440 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo/?fbid=1280481786925630&set=a.545355187104964 (tipo: facebook)
2025-05-22 16:23:14,863 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo/?fbid=1280481786925630&set=a.545355187104964
2025-05-22 16:23:18,634 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo?fbid=1221031636698408&set=a.449832287151684 (tipo: facebook)
2025-05-22 16:23:32,126 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo?fbid=1221031636698408&set=a.449832287151684
2025-05-22 16:23:34,341 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo?fbid=1226748526117403&set=a.533177645474498 (tipo: facebook)
2025-05-22 16:23:46,426 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo?fbid=1226748526117403&set=a.533177645474498
2025-05-22 16:23:48,659 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo/?fbid=665063799607597&set=a.639907132123264 (tipo: facebook)
2025-05-22 16:24:00,440 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo/?fbid=665063799607597&set=a.639907132123264
2025-05-22 16:24:02,672 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo/?fbid=637559772594411&set=a.102388759444851 (tipo: facebook)
2025-05-22 16:24:19,379 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo/?fbid=637559772594411&set=a.102388759444851
2025-05-22 16:24:21,594 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/photo/?fbid=1114765144012473&set=a.467617325393928 (tipo: facebook)
2025-05-22 16:24:30,733 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/photo/?fbid=1114765144012473&set=a.467617325393928
2025-05-22 16:24:32,938 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/diarioprimiciahyo/posts/pfbid02RhqT532dku4YWMgG9rR7xk6zinb8p88hSDNmufVtcq3B7CPeLxDDsMBzAcJp2YtKl (tipo: facebook)
2025-05-22 16:24:41,767 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/diarioprimiciahyo/posts/pfbid02RhqT532dku4YWMgG9rR7xk6zinb8p88hSDNmufVtcq3B7CPeLxDDsMBzAcJp2YtKl
2025-05-22 16:24:44,014 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid021jouJF85dPagGf9hj1URuvz9sQ3aZHTDMfa21ysQyodLPtTowsiz32GEnAEEW9nel&id=100064089484737 (tipo: facebook)
2025-05-22 16:24:53,635 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid021jouJF85dPagGf9hj1URuvz9sQ3aZHTDMfa21ysQyodLPtTowsiz32GEnAEEW9nel&id=100064089484737
2025-05-22 16:24:55,836 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid02N1nRLa7GK2U8dPUq5Usshmcu1QCB1w8aNrm3eEcLJ4GKt33PQta8s9UPTAYqgGu5l&id=100063616446639 (tipo: facebook)
2025-05-22 16:25:06,227 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid02N1nRLa7GK2U8dPUq5Usshmcu1QCB1w8aNrm3eEcLJ4GKt33PQta8s9UPTAYqgGu5l&id=100063616446639
2025-05-22 16:25:08,452 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid02AcxHRTr6b1iFcHj3ggcnUA5qrrD5ffsJPLHJRqcxKgWtkxqURyGpmQJRZBVgDWBnl&id=100062993063417 (tipo: facebook)
2025-05-22 16:25:16,376 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid02AcxHRTr6b1iFcHj3ggcnUA5qrrD5ffsJPLHJRqcxKgWtkxqURyGpmQJRZBVgDWBnl&id=100062993063417
2025-05-22 16:25:18,611 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0rX1PhnBjQNstoQsQRsxAmLQZAVqseMC62eZSwBEbx4YNZDZLYabRqpkEkV4vKgYfl&id=100072108931277 (tipo: facebook)
2025-05-22 16:25:26,886 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid0rX1PhnBjQNstoQsQRsxAmLQZAVqseMC62eZSwBEbx4YNZDZLYabRqpkEkV4vKgYfl&id=100072108931277
2025-05-22 16:25:29,095 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/permalink.php?story_fbid=pfbid02hn44h1SrKMRtWAV4KJwrcNn3chKoJUJkKhtR9tm13BJ4ZwJtJQsw8Exc7YD525rnl&id=61559613183648 (tipo: facebook)
2025-05-22 16:25:37,626 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/permalink.php?story_fbid=pfbid02hn44h1SrKMRtWAV4KJwrcNn3chKoJUJkKhtR9tm13BJ4ZwJtJQsw8Exc7YD525rnl&id=61559613183648
2025-05-22 16:25:39,863 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/radiostudio1huancavelicaoficial2023/posts/pfbid0tKjuFNchYjzV4Sb3Tj8N4esSxErQhbHGhYpvKEvtbnBzjRhSR5vzXbrsx2r16Q74l (tipo: facebook)
2025-05-22 16:25:48,219 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/radiostudio1huancavelicaoficial2023/posts/pfbid0tKjuFNchYjzV4Sb3Tj8N4esSxErQhbHGhYpvKEvtbnBzjRhSR5vzXbrsx2r16Q74l
2025-05-22 16:25:50,460 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/share/v/15kkoxxenF/ (tipo: facebook)
2025-05-22 16:25:59,741 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/share/v/15kkoxxenF/
2025-05-22 16:26:01,945 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/share/v/18i7auJett/ (tipo: facebook)
2025-05-22 16:26:12,846 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/share/v/18i7auJett/
2025-05-22 16:26:15,114 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/share/p/16NS3V5NCt/ (tipo: facebook)
2025-05-22 16:26:25,310 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/share/p/16NS3V5NCt/
2025-05-22 16:26:27,532 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.facebook.com/larepublicape/posts/pfbid0uqz2JPrmET9KxDugQG5sz6fQ7GiMgk4NmoNzGAXjaCvkY8EST5CAiDYgM8eWWkf4l?rdid=eENdOaqDW0ifabAR (tipo: facebook)
2025-05-22 16:26:36,273 - selenium_extractor - WARNING - Facebook requiere inicio de sesión para URL: https://www.facebook.com/larepublicape/posts/pfbid0uqz2JPrmET9KxDugQG5sz6fQ7GiMgk4NmoNzGAXjaCvkY8EST5CAiDYgM8eWWkf4l?rdid=eENdOaqDW0ifabAR
2025-05-22 16:26:38,992 - content_deduplicator - INFO - Progreso: 40/103 URLs procesadas en 552.32 seg.
2025-05-22 16:26:39,000 - content_deduplicator - INFO - Procesando 18 URLs del dominio imacorpplataforma.com
2025-05-22 16:26:39,013 - selenium_extractor - INFO - Extrayendo contenido de URL: https://imacorpplataforma.com/agua-y-saneamiento/exitosa-rotura-de-tuberia-genera-aniego-en-surco-18-04-2025/ (tipo: other)
2025-05-22 16:26:52,436 - selenium_extractor - INFO - Extrayendo contenido de URL: https://imacorpplataforma.com/agua-y-saneamiento/exitosa-piura-piden-transparencia-en-proyecto-de-agua-potable-y-alcantarillado-20-04-2025/ (tipo: other)
2025-05-22 16:27:05,146 - selenium_extractor - INFO - Extrayendo contenido de URL: https://imacorpplataforma.com/agua-y-saneamiento/policia-motorizada-cae-a-forado-creado-por-sedapal-en-el-callao-c5-24-horas-domingo-20-04-2025/ (tipo: other)
2025-05-22 16:27:29,488 - selenium_extractor - INFO - Extrayendo contenido de URL: https://imacorpplataforma.com/agua-y-saneamiento/panorama-el-via-crucis-del-departamento-propio-los-estafados-de-villamar-20-04-2025/ (tipo: other)
2025-05-22 16:27:42,685 - content_deduplicator - INFO - Progreso: 60/103 URLs procesadas en 616.02 seg.
2025-05-22 16:27:42,686 - content_deduplicator - INFO - Procesando 11 URLs del dominio elperuano.pe
2025-05-22 16:27:42,686 - selenium_extractor - INFO - Extrayendo contenido de URL: https://busquedas.elperuano.pe/dispositivo/NL/2391832-1 (tipo: news)
2025-05-22 16:27:56,546 - selenium_extractor - INFO - Extrayendo contenido de URL: https://busquedas.elperuano.pe/dispositivo/NL/2391899-1 (tipo: news)
2025-05-22 16:28:09,230 - selenium_extractor - INFO - Extrayendo contenido de URL: https://busquedas.elperuano.pe/dispositivo/NL/2391957-1 (tipo: news)
2025-05-22 16:28:22,092 - selenium_extractor - INFO - Extrayendo contenido de URL: https://busquedas.elperuano.pe/dispositivo/NL/2391302-1 (tipo: news)
2025-05-22 16:28:34,848 - selenium_extractor - INFO - Extrayendo contenido de URL: https://busquedas.elperuano.pe/dispositivo/NL/2391917-1 (tipo: news)
2025-05-22 16:28:47,463 - selenium_extractor - INFO - Extrayendo contenido de URL: https://busquedas.elperuano.pe/dispositivo/NL/2391919-4 (tipo: news)
2025-05-22 16:29:00,282 - selenium_extractor - INFO - Extrayendo contenido de URL: https://epdoc2.elperuano.pe/EpPo/VistaNLSE.asp?Referencias=MjM5MTk5Mi0xMjAyNTA0MTk= (tipo: news)
2025-05-22 16:29:07,450 - selenium_extractor - INFO - Extrayendo contenido de URL: https://elperuano.pe/noticia/268614-cerrar-deficit-hidrico-demandara-s-138000-millones (tipo: news)
2025-05-22 16:29:23,307 - content_deduplicator - INFO - Procesando 3 URLs del dominio sharepoint.com
2025-05-22 16:29:23,307 - selenium_extractor - INFO - Extrayendo contenido de URL: https://sunassgobpe.sharepoint.com/:v:/s/ActividadesyEventos2021/EbzjkA-uGbtKpGIVD983W-oBtDFbX4IYRK2XAPRMLnBFiw?e=YVozaO (tipo: twitter)
2025-05-22 16:29:34,256 - selenium_extractor - INFO - Extrayendo contenido de URL: https://sunassgobpe-my.sharepoint.com/:i:/g/personal/esosa_sunass_gob_pe/ERqcborhTGBCthpiQ2XbBf8BoLKfRPR81n5luqftb2drLg?e=yZe4SH (tipo: twitter)
2025-05-22 16:29:45,987 - selenium_extractor - INFO - Extrayendo contenido de URL: https://sunassgobpe-my.sharepoint.com/:i:/g/personal/esosa_sunass_gob_pe/ER10yKXiAGFDk3Y3HVPDDjcBemKwffCNIdO1u8xcwuWm3w?e=bIAHlN (tipo: twitter)
2025-05-22 16:29:57,356 - content_deduplicator - INFO - Procesando 2 URLs del dominio diariocorreo.pe
2025-05-22 16:29:57,357 - selenium_extractor - INFO - Extrayendo contenido de URL: https://diariocorreo.pe/edicion/la-libertad/la-libertad-sedalib-tiene-nivel-de-inversion-critico-noticia/ (tipo: news)
2025-05-22 16:30:13,218 - selenium_extractor - INFO - Extrayendo contenido de URL: https://diariocorreo.pe/edicion/piura/piura-culminan-trabajos-de-mantenimiento-del-alcantarillado-en-urb-las-casuarinas-noticia/ (tipo: news)
2025-05-22 16:30:29,833 - content_deduplicator - INFO - Procesando 2 URLs del dominio radiosanmartin.pe
2025-05-22 16:30:29,834 - selenium_extractor - INFO - Extrayendo contenido de URL: https://radiosanmartin.pe/2025/04/14/el-89-de-usuarios-de-sedapar-desconoce-cuanta-agua-potable-consume-al-mes/ (tipo: other)
2025-05-22 16:30:49,527 - content_deduplicator - INFO - Procesando 2 URLs del dominio infobae.com
2025-05-22 16:30:49,527 - selenium_extractor - INFO - Extrayendo contenido de URL: https://www.infobae.com/peru/2025/04/19/sedapal-defiende-la-calidad-del-agua-en-lima-y-callao-tras-alerta-de-contaminacion-en-informe-de-digesa/ (tipo: news)
2025-05-22 16:31:06,338 - content_deduplicator - INFO - Procesando 2 URLs del dominio gob.pe
2025-05-22 16:31:06,339 - selenium_extractor - INFO - Extrayendo contenido de URL: https://comunicaciones.congreso.gob.pe/noticias/pleno-aprueba-dictamen-para-garantizar-acceso-de-emergencia-al-agua-potable-en-zonas-vulnerables/ (tipo: other)
2025-05-22 16:31:31,018 - selenium_extractor - INFO - Extrayendo contenido de URL: https://comunicaciones.congreso.gob.pe/damos-cuenta/aprueban-proyecto-de-la-congresista-norma-yarrow-que-garantiza-el-acceso-al-agua-potable-de-emergencia-en-zonas-vulnerables/ (tipo: other)
2025-05-22 16:31:44,115 - content_deduplicator - INFO - Análisis completado en 857.45 segundos
2025-05-22 16:31:44,115 - content_deduplicator - INFO - URLs totales: 103, Únicas: 54, En grupos: 36
2025-05-22 16:31:44,116 - content_deduplicator - INFO - Se realizaron 448 comparaciones (0.5/seg), evitando 0
2025-05-22 16:31:44,116 - content_deduplicator - INFO - Grupos de duplicados encontrados: 4
2025-05-22 16:31:44,118 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-22 16:31:44,118 - main_orchestrator - INFO - Análisis de duplicados completado: 37 URLs duplicadas filtradas
2025-05-22 16:31:44,118 - main_orchestrator - INFO - URLs después de filtrar duplicados: 66
2025-05-22 16:31:44,119 - main_orchestrator - INFO - Estadísticas de duplicados guardadas en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-22 16:31:44,119 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 16:31:44,119 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 16:31:44,119 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 16:31:44,122 - lib.url_manager - INFO - Clasificación de 66 URLs:
2025-05-22 16:31:44,123 - lib.url_manager - INFO -  - HTML: 36
2025-05-22 16:31:44,123 - lib.url_manager - INFO -  - IMAGES: 14
2025-05-22 16:31:44,123 - lib.url_manager - INFO -  - SOCIAL: 16
2025-05-22 16:31:44,126 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\image_links_22042025_unprocessed.json
2025-05-22 16:31:44,128 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 16:31:44,129 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 16:31:44,130 - lib.image_processor - INFO - Iniciando descarga paralela de 14 imágenes para la fecha 22042025...
2025-05-22 16:31:44,130 - lib.image_processor - WARNING - URL duplicada detectada: https://imacorpplataforma.com/wp-content/uploads/2025/04/HILDEBRANDT-EN-SUS-TRECE-30-31-MAL-AGUA-18-04-2025-scaled.jpg. Primera ocurrencia: #3, segunda: #4
2025-05-22 16:31:44,150 - lib.image_processor - INFO - Omitiendo URL duplicada #4: https://imacorpplataforma.com/wp-content/uploads/2025/04/HILDEBRANDT-EN-SUS-TRECE-30-31-MAL-AGUA-18-04-2025-scaled.jpg
2025-05-22 16:31:45,065 - lib.image_processor - WARNING - URL https://imacorpplataforma.com/wp-content/uploads/2025/04/20-04-2025-RPP-CIUDADANOS-DE-LAMBAYEQUE-REPORTAN-FALTA-DE-AGUA-DEBIDO-A-FALTA-DE-CISTERNAS.mp3 contiene audio/mpeg, no una imagen. Se registrará como tipo no válido.
2025-05-22 16:31:45,083 - lib.image_processor - WARNING - URL https://imacorpplataforma.com/wp-content/uploads/2025/04/17-04-2025-RPP-ENTREVISTA-A-GABRIELA-CORIMANYA-SOBRE-COMO-AHORRAR-EL-AGUA-QUE-LLEGA-A-NUESTRAS-CASAS-ROTATIVA-DEL-CAMPO.mp3 contiene audio/mpeg, no una imagen. Se registrará como tipo no válido.
2025-05-22 16:31:54,215 - lib.image_processor - INFO - Imagen 11 guardada como 'img_11_9bbb0695_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (361100 bytes)
2025-05-22 16:31:54,665 - lib.image_processor - INFO - Imagen 5 guardada como 'img_5_2dfc1883_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (441187 bytes)
2025-05-22 16:31:58,796 - lib.image_processor - INFO - Imagen 12 guardada como 'img_12_95ae401c_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (271113 bytes)
2025-05-22 16:32:00,939 - lib.image_processor - INFO - Imagen 6 guardada como 'img_6_1f526d7d_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (466784 bytes)
2025-05-22 16:32:04,538 - lib.image_processor - INFO - Imagen 2 guardada como 'img_2_4ab090c1_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (887403 bytes)
2025-05-22 16:32:04,942 - lib.image_processor - INFO - Imagen 13 guardada como 'img_13_d71ed522_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (439104 bytes)
2025-05-22 16:32:09,378 - lib.image_processor - INFO - Imagen 14 guardada como 'img_14_6b7e17b8_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (562472 bytes)
2025-05-22 16:32:11,383 - lib.image_processor - INFO - Imagen 8 guardada como 'img_8_49a4d12a_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (1059563 bytes)
2025-05-22 16:32:16,189 - lib.image_processor - INFO - Imagen 3 guardada como 'img_3_1301b08d_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (1394922 bytes)
2025-05-22 16:32:17,658 - lib.image_processor - INFO - Imagen 9 guardada como 'img_9_dfac0f97_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (1320851 bytes)
2025-05-22 16:32:18,026 - lib.image_processor - INFO - Progreso descarga imágenes: 10/14 en 33.90 seg.
2025-05-22 16:32:18,258 - lib.image_processor - INFO - Imagen 7 guardada como 'img_7_ba0f95b8_22042025.mp3' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (2551484 bytes)
2025-05-22 16:32:18,969 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/04/20-04-2025-RPP-CIUDADANOS-DE-LAMBAYEQUE-REPORTAN-FALTA-DE-AGUA-DEBIDO-A-FALTA-DE-CISTERNAS.mp3: Content type 'audio/mpeg' is not an image
2025-05-22 16:32:20,045 - lib.image_processor - INFO - Imagen 10 guardada como 'img_10_e2ae2485_22042025.jpg' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (1245561 bytes)
2025-05-22 16:32:23,498 - lib.image_processor - INFO - Imagen 1 guardada como 'img_1_6a69548f_22042025.mp3' en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025 (3223249 bytes)
2025-05-22 16:32:23,723 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/04/17-04-2025-RPP-ENTREVISTA-A-GABRIELA-CORIMANYA-SOBRE-COMO-AHORRAR-EL-AGUA-QUE-LLEGA-A-NUESTRAS-CASAS-ROTATIVA-DEL-CAMPO.mp3: Content type 'audio/mpeg' is not an image
2025-05-22 16:32:23,728 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\image_links_22042025.json
2025-05-22 16:32:23,729 - lib.image_processor - INFO - Descarga de imágenes completada para 13/14 URLs en 39.60 segundos.
2025-05-22 16:32:23,729 - main_orchestrator - INFO - Descarga de imágenes completada en 39.60 seg.
2025-05-22 16:32:23,729 - lib.history_tracker - INFO - Añadidas 13 nuevas URLs al historial.
2025-05-22 16:32:23,731 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 13 URLs.
2025-05-22 16:32:23,731 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 16:32:23,732 - lib.html_scraper - INFO - Iniciando scraping paralelo de 36 URLs...
2025-05-22 16:32:23,764 - lib.cache_utils - WARNING - Error al decodificar JSON de caché: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\1be1ef500524520cbd5b7f1b9e2d1223.json. Se tratará como MISS.
2025-05-22 16:32:23,766 - lib.cache_utils - WARNING - Error al decodificar JSON de caché: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\1be1ef500524520cbd5b7f1b9e2d1223.json. Se tratará como MISS.
2025-05-22 16:32:26,616 - lib.html_scraper - WARNING - Error HTTP 404 scrapeando https://diarioactualidad.net/contenido/441/peru-necesita-s-138000-millones-para-cerrar-brecha-en-agua-y-saneamiento: 404 Client Error: Not Found for url: https://diarioactualidad.net/contenido/441/peru-necesita-s-138000-millones-para-cerrar-brecha-en-agua-y-saneamiento
2025-05-22 16:32:26,616 - lib.html_scraper - WARNING - Error procesando https://diarioactualidad.net/contenido/441/peru-necesita-s-138000-millones-para-cerrar-brecha-en-agua-y-saneamiento: HTTP Error: 404
2025-05-22 16:32:30,593 - lib.html_scraper - INFO - Progreso: 20/36 URLs procesadas en 6.86 seg.
2025-05-22 16:32:56,659 - lib.html_scraper - INFO - Contenido no es HTML para https://epdoc2.elperuano.pe/EpPo/VistaNLSE.asp?Referencias=MjM5MTk5Mi0xMjAyNTA0MTk= (application/pdf; charset=utf-8). Omitiendo body.
2025-05-22 16:33:00,186 - lib.html_scraper - INFO - Contenido no es HTML para https://epdoc2.elperuano.pe/EpPo/VistaNLSE.asp?Referencias=MjM5MTk5Mi0xMjAyNTA0MTk= (application/pdf; charset=utf-8). Omitiendo body.
2025-05-22 16:33:01,139 - lib.html_scraper - INFO - Progreso: 36/36 URLs procesadas en 37.41 seg.
2025-05-22 16:33:01,148 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-22 16:33:01,148 - lib.html_scraper - INFO - Scraping completado para 36/36 URLs en 37.42 segundos.
2025-05-22 16:33:01,149 - lib.html_scraper - INFO - Resultados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-22 16:33:01,150 - main_orchestrator - INFO - Scraping HTML completado en 37.42 seg.
2025-05-22 16:33:01,150 - lib.history_tracker - INFO - Añadidas 31 nuevas URLs al historial.
2025-05-22 16:33:01,152 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 44 URLs.
2025-05-22 16:33:01,152 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 16:33:03,054 - lib.api_client - ERROR - Error procesando tmp81hsg212.jpg con Gemini API: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 58
}
]
Traceback (most recent call last):
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\api_client.py", line 155, in extract_text_from_image
    response = model.generate_content([self.prompt, img], request_options={'timeout': 180})
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
    ~~~~~~~~~~~~~~~~~~~^
        exc,
        ^^^^
    ...<6 lines>...
        timeout,
        ^^^^^^^^
    )
    ^
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 58
}
]
2025-05-22 16:33:03,211 - lib.image_processor - WARNING - Error en prueba de API, pero no parece ser de configuración: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 58
}
]
2025-05-22 16:33:03,212 - lib.image_processor - INFO - Procesando 13 imágenes con API (batch_size=3, pausa=60s)
2025-05-22 16:33:03,212 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-22 16:33:03,212 - lib.image_processor - INFO - Procesando imagen con API: img_11_9bbb0695_22042025.jpg
2025-05-22 16:33:03,358 - lib.image_processor - INFO - Imagen img_11_9bbb0695_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:33:03,375 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_11_9bbb0695_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:33:03,376 - lib.image_processor - WARNING - Error procesando imagen img_11_9bbb0695_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
2025-05-22 16:33:03,900 - lib.image_processor - INFO - Procesando imagen con API: img_5_2dfc1883_22042025.jpg
2025-05-22 16:33:03,971 - lib.image_processor - INFO - Imagen img_5_2dfc1883_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:33:03,989 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_5_2dfc1883_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:33:03,989 - lib.image_processor - WARNING - Error procesando imagen img_5_2dfc1883_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
}
]
2025-05-22 16:33:04,844 - lib.image_processor - INFO - Procesando imagen con API: img_12_95ae401c_22042025.jpg
2025-05-22 16:33:04,958 - lib.image_processor - INFO - Imagen img_12_95ae401c_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:33:04,980 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_12_95ae401c_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:33:04,981 - lib.image_processor - WARNING - Error procesando imagen img_12_95ae401c_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 52
}
]
2025-05-22 16:33:05,602 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-22 16:34:05,603 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-22 16:34:05,603 - lib.image_processor - INFO - Procesando imagen con API: img_6_1f526d7d_22042025.jpg
2025-05-22 16:34:05,725 - lib.image_processor - INFO - Imagen img_6_1f526d7d_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:34:05,743 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_6_1f526d7d_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:34:05,744 - lib.image_processor - WARNING - Error procesando imagen img_6_1f526d7d_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 46
}
]
2025-05-22 16:34:06,433 - lib.image_processor - INFO - Procesando imagen con API: img_2_4ab090c1_22042025.jpg
2025-05-22 16:34:06,559 - lib.image_processor - INFO - Imagen img_2_4ab090c1_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:34:06,573 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_2_4ab090c1_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:34:06,574 - lib.image_processor - WARNING - Error procesando imagen img_2_4ab090c1_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
2025-05-22 16:34:07,200 - lib.image_processor - INFO - Procesando imagen con API: img_13_d71ed522_22042025.jpg
2025-05-22 16:34:07,275 - lib.image_processor - INFO - Imagen img_13_d71ed522_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:34:07,286 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_13_d71ed522_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:34:07,287 - lib.image_processor - WARNING - Error procesando imagen img_13_d71ed522_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 35
}
]
2025-05-22 16:34:08,176 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-22 16:35:08,178 - lib.image_processor - INFO - Procesando batch 3 (3 imágenes)
2025-05-22 16:35:08,179 - lib.image_processor - INFO - Procesando imagen con API: img_14_6b7e17b8_22042025.jpg
2025-05-22 16:35:08,285 - lib.image_processor - INFO - Imagen img_14_6b7e17b8_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:35:08,305 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_14_6b7e17b8_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:35:08,306 - lib.image_processor - WARNING - Error procesando imagen img_14_6b7e17b8_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 40
}
]
2025-05-22 16:35:08,857 - lib.image_processor - INFO - Procesando imagen con API: img_8_49a4d12a_22042025.jpg
2025-05-22 16:35:09,036 - lib.image_processor - INFO - Imagen img_8_49a4d12a_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:35:09,051 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_8_49a4d12a_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:35:09,052 - lib.image_processor - WARNING - Error procesando imagen img_8_49a4d12a_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 47
}
]
2025-05-22 16:35:09,751 - lib.image_processor - INFO - Procesando imagen con API: img_3_1301b08d_22042025.jpg
2025-05-22 16:35:09,933 - lib.image_processor - INFO - Imagen img_3_1301b08d_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:35:09,950 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_3_1301b08d_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:35:09,951 - lib.image_processor - WARNING - Error procesando imagen img_3_1301b08d_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 15
}
]
2025-05-22 16:35:10,563 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-22 16:36:10,564 - lib.image_processor - INFO - Procesando batch 4 (3 imágenes)
2025-05-22 16:36:10,564 - lib.image_processor - INFO - Procesando imagen con API: img_9_dfac0f97_22042025.jpg
2025-05-22 16:36:10,719 - lib.image_processor - INFO - Imagen img_9_dfac0f97_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:36:10,737 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_9_dfac0f97_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:36:10,738 - lib.image_processor - WARNING - Error procesando imagen img_9_dfac0f97_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 5
}
]
2025-05-22 16:36:11,421 - lib.image_processor - INFO - Procesando imagen con API: img_7_ba0f95b8_22042025.mp3
2025-05-22 16:36:11,570 - lib.image_processor - WARNING - Archivo no es una imagen válida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\img_7_ba0f95b8_22042025.mp3 (formato detectado: None)
2025-05-22 16:36:11,571 - lib.image_processor - WARNING - Error procesando imagen img_7_ba0f95b8_22042025.mp3: File is not a valid image
2025-05-22 16:36:12,208 - lib.image_processor - INFO - Procesando imagen con API: img_10_e2ae2485_22042025.jpg
2025-05-22 16:36:12,391 - lib.image_processor - INFO - Imagen img_10_e2ae2485_22042025.jpg visualmente similar a otra ya procesada
2025-05-22 16:36:12,413 - lib.image_processor - INFO - OMITIENDO PERMANENTEMENTE: Imagen img_10_e2ae2485_22042025.jpg - Imagen demasiado pesada o compleja para procesar
2025-05-22 16:36:12,415 - lib.image_processor - WARNING - Error procesando imagen img_10_e2ae2485_22042025.jpg: API error: ResourceExhausted - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 26
}
]
2025-05-22 16:36:13,269 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-22 16:37:13,270 - lib.image_processor - INFO - Procesando batch 5 (1 imágenes)
2025-05-22 16:37:13,270 - lib.image_processor - INFO - Procesando imagen con API: img_1_6a69548f_22042025.mp3
2025-05-22 16:37:13,286 - lib.image_processor - WARNING - Archivo no es una imagen válida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\img_1_6a69548f_22042025.mp3 (formato detectado: None)
2025-05-22 16:37:13,287 - lib.image_processor - WARNING - Error procesando imagen img_1_6a69548f_22042025.mp3: File is not a valid image
2025-05-22 16:37:13,945 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-22 16:37:13,945 - lib.image_processor - INFO - Resultados de API guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-22 16:37:13,945 - lib.image_processor - INFO - Procesamiento API completado para 0/13 imágenes en 250.73 segundos.
2025-05-22 16:37:13,946 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 252.79 seg.
2025-05-22 16:37:13,946 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 16:37:13,946 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 16:37:13,966 - main_orchestrator - INFO - Encontradas 15 URLs de Facebook para procesar
2025-05-22 16:37:13,967 - main_orchestrator - INFO - Creado directorio para PDFs: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025
2025-05-22 16:37:13,968 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output
2025-05-22 16:37:13,968 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 15 URLs de Facebook para la fecha 22042025...
2025-05-22 16:37:13,969 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/agenciandina/posts/pfbid0GoGrkSAmt6xy7bqZVtLhDRpmyYXpe9CQ8dS641ippmAcjbMuQtkK4o6yd75Gyoztl?rdid=1aMJtw9YNRZJfAlm
2025-05-22 16:37:13,994 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/RADIOTACNA104.3FM/posts/pfbid02yz2TNAb2gA7zXCCsuXxcnXknTvK3AhJptqtGP1C2uD1gxYNGqxME8NFGVf2n4EbJl?rdid=bhe3XVHyig6ZXpOJ
2025-05-22 16:37:13,994 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/RADIOTACNA104.3FM/posts/pfbid02yz2TNAb2gA7zXCCsuXxcnXknTvK3AhJptqtGP1C2uD1gxYNGqxME8NFGVf2n4EbJl?rdid=bhe3XVHyig6ZXpOJ
2025-05-22 16:37:13,996 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/SoemPeru/posts/pfbid023SyRCJCWJy3mfy5XUMsPjeiwFe38gGsj49sZJm9ckuD2uo5vHZ9GAWCh3PW2GLkml?rdid=9g14DZuhU7mq60uh
2025-05-22 16:37:13,998 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/decanaradio/posts/pfbid02DnD9Woi5x9YE7RFXhdsbqMELhCuecheDYfZZyKax2CNPtqMij1U1B1gr3x63G7ePl?rdid=OnJio5eiGkW6ZSGE
2025-05-22 16:37:42,350 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-22 16:37:43,232 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-3.pdf
2025-05-22 16:37:46,654 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/diplomaciaciudadana/posts/pfbid0zABeJhxS8GzRQidm7mR4RzzFVzXGzwG3htiXKS712a6AVBP3ztQhvqgtCSpjGZa3l?rdid=ReVxRKJ9evbT34Px
2025-05-22 16:37:46,739 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/permalink.php?story_fbid=pfbid021PPZL5gbG9z13hAZLaPhAGULcR3VNipJMfCLH4VDJn8aQ9k7KvgC6yQeAsujyKepl&id=100064089484737&rdid=E1OEnXv4iVTbRGro
2025-05-22 16:37:47,536 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-4.pdf
2025-05-22 16:37:50,796 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-22 16:37:52,784 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/PorSuPuertoNoticiasChimbote/posts/pfbid02oVqM6Gq2kMtaW9FPJugkPAwryZLVSvcAdX7LWdJHqei9qU7CBbHTf4aWmPEW1dhal?rdid=dMzYD3xKAFmcOzaM&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2Fp%2F16fnxz3UG6%2F
2025-05-22 16:37:54,739 - lib.facebook_processor - INFO - Procesando URL de Facebook (9): https://www.facebook.com/rct.toquepala/posts/pfbid0PnmjyQnAbbFL8AgHwo3q94vSGszTBMhdysJMoKRKWFMmboBRRjMmhPRs3d1cGjekl?rdid=2LhTafC5kKyz68Dm
2025-05-22 16:37:59,814 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-5.pdf
2025-05-22 16:38:03,110 - lib.facebook_processor - INFO - Progreso Facebook: 5/15 en 49.14 seg.
2025-05-22 16:38:03,126 - lib.facebook_processor - INFO - Procesando URL de Facebook (10): https://www.facebook.com/photo?fbid=1242232614579107&set=a.419399216862455
2025-05-22 16:38:22,784 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-6.pdf
2025-05-22 16:38:26,521 - lib.facebook_processor - INFO - Procesando URL de Facebook (11): https://www.facebook.com/photo?fbid=1242232614579107&set=a.419399216862455
2025-05-22 16:38:28,776 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-7.pdf
2025-05-22 16:38:33,240 - lib.facebook_processor - INFO - Procesando URL de Facebook (12): https://www.facebook.com/share/v/15kkoxxenF/
2025-05-22 16:38:33,519 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-8.pdf
2025-05-22 16:38:37,877 - lib.facebook_processor - INFO - Procesando URL de Facebook (13): https://www.facebook.com/share/v/18i7auJett/
2025-05-22 16:38:47,898 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-9.pdf
2025-05-22 16:38:49,385 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-10.pdf
2025-05-22 16:38:51,953 - lib.facebook_processor - INFO - Procesando URL de Facebook (14): https://www.facebook.com/share/p/16NS3V5NCt/
2025-05-22 16:38:52,947 - lib.facebook_processor - INFO - Progreso Facebook: 10/15 en 98.98 seg.
2025-05-22 16:38:53,017 - lib.facebook_processor - INFO - Procesando URL de Facebook (15): https://www.facebook.com/larepublicape/posts/pfbid0uqz2JPrmET9KxDugQG5sz6fQ7GiMgk4NmoNzGAXjaCvkY8EST5CAiDYgM8eWWkf4l?rdid=eENdOaqDW0ifabAR
2025-05-22 16:39:03,397 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-11.pdf
2025-05-22 16:39:05,422 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-12.pdf
2025-05-22 16:39:25,057 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-13.pdf
2025-05-22 16:39:25,566 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-14.pdf
2025-05-22 16:39:26,747 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-15.pdf
2025-05-22 16:39:31,985 - lib.facebook_processor - INFO - Progreso Facebook: 15/15 en 138.02 seg.
2025-05-22 16:39:31,990 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_results_22042025.json
2025-05-22 16:39:31,990 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 13/15 exitosos en 138.02 segundos.
2025-05-22 16:39:31,991 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 138.02 seg.
2025-05-22 16:39:31,991 - lib.history_tracker - INFO - Añadidas 13 nuevas URLs al historial.
2025-05-22 16:39:31,993 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 57 URLs.
2025-05-22 16:39:31,993 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 16:39:32,810 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-3.pdf
2025-05-22 16:39:33,216 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-4.pdf
2025-05-22 16:39:33,820 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-22 16:39:34,456 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-5.pdf
2025-05-22 16:39:34,573 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-6.pdf
2025-05-22 16:39:34,728 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-7.pdf
2025-05-22 16:39:35,165 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-8.pdf
2025-05-22 16:39:35,708 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-9.pdf
2025-05-22 16:39:35,792 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-11.pdf
2025-05-22 16:39:36,127 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-12.pdf
2025-05-22 16:39:36,202 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-13.pdf
2025-05-22 16:39:37,013 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-14.pdf
2025-05-22 16:39:38,473 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-15.pdf
2025-05-22 16:39:38,473 - lib.facebook_processor - INFO - Texto extraído de 13 PDFs de Facebook
2025-05-22 16:39:38,474 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 6.48 seg.
2025-05-22 16:39:38,474 - main_orchestrator - INFO - Texto extraído de 13 PDFs de Facebook
2025-05-22 16:39:38,476 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-22 16:39:38,476 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-22 16:39:38,476 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 16:39:38,478 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:39:38,478 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:39:38,478 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T16:39:38.477118', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 66, 'history_total_urls': 57, 'categories': {'html': 36, 'images': 14, 'social': 16}, 'html_processing': {'attempted': 36, 'processed': 31, 'successful': 30, 'relevant (>=0.3)': 22, 'average_relevance': 0.52}, 'image_processing': {'attempted_download': 14, 'successful_download': 11, 'attempted_api': 11, 'successful_api': 0}, 'facebook_processing': {'attempted': 15, 'successful': 13, 'extracted_texts': 13}, 'timings_seconds': {'pdf_extraction': 0.51, 'pdf_text_extraction': 6.48, 'image_download': 39.6, 'html_scraping': 37.42, 'image_api': 252.79, 'facebook_processing': 138.02, 'facebook_text_extraction': 6.48, 'stats_consolidation': 0.0}}
2025-05-22 16:39:38,478 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 16:39:38,479 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 16:39:38,501 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 16:39:38,512 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 16:39:38,512 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 16:39:38,514 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 16:39:38,545 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 16:39:38,545 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 16:39:38,546 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 16:39:38,546 - semantic_cleaner - INFO - Extraídos 29 textos de HTML
2025-05-22 16:39:38,546 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 16:39:38,547 - semantic_cleaner - INFO - Extraídos 13 textos de Facebook
2025-05-22 16:39:45,761 - semantic_cleaner - INFO - Se identificaron 50 grupos de textos similares
2025-05-22 16:39:45,761 - semantic_cleaner - INFO - Se seleccionaron 50 textos representativos
2025-05-22 16:39:45,762 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 16:39:45,762 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 16:39:45,767 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 16:39:45,767 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 16:39:45,783 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 16:39:45,785 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:39:45,785 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:39:45,786 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T16:39:38.477118', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 66, 'history_total_urls': 57, 'categories': {'html': 36, 'images': 14, 'social': 16}, 'html_processing': {'attempted': 36, 'processed': 31, 'successful': 30, 'relevant (>=0.3)': 22, 'average_relevance': 0.52}, 'image_processing': {'attempted_download': 14, 'successful_download': 11, 'attempted_api': 11, 'successful_api': 0}, 'facebook_processing': {'attempted': 15, 'successful': 13, 'extracted_texts': 13}, 'timings_seconds': {'pdf_extraction': 0.51, 'pdf_text_extraction': 6.48, 'image_download': 39.6, 'html_scraping': 37.42, 'image_api': 252.79, 'facebook_processing': 138.02, 'facebook_text_extraction': 6.48, 'stats_consolidation': 0.0, 'semantic_cleaning': 7.27}}
2025-05-22 16:39:45,786 - main_orchestrator - INFO - Limpieza semántica completada en 7.27 seg.
2025-05-22 16:39:45,786 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-22 16:39:45,787 - facebook_extractor_fix - INFO - Ruta del proyecto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent
2025-05-22 16:39:45,787 - facebook_extractor_fix - INFO - Buscando archivo de Facebook en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-22 16:39:45,815 - facebook_extractor_fix - INFO - Estructura de los datos de Facebook: https://www.facebook.com/RADIOTACNA104.3FM/posts/pfbid02yz2TNAb2gA7zXCCsuXxcnXknTvK3AhJptqtGP1C2uD1gxYNGqxME8NFGVf2n4EbJl?rdid=bhe3XVHyig6ZXpOJ
2025-05-22 16:39:45,815 - facebook_extractor_fix - INFO - Claves en la primera entrada: ['extracted_text', 'pdf_path', 'processed_date']
2025-05-22 16:39:45,834 - facebook_extractor_fix - INFO - Sección de Facebook añadida al archivo C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 16:39:45,834 - facebook_extractor_fix - INFO - Se han añadido 13 textos de Facebook al archivo limpio
2025-05-22 16:39:45,834 - main_orchestrator - INFO - Textos de Facebook integrados correctamente en archivos limpios
2025-05-22 16:39:45,835 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 16:39:45,835 - main_orchestrator - INFO - ==================================================
2025-05-22 16:39:45,835 - main_orchestrator - INFO - PIPELINE FINALIZADO en 1339.80 segundos.
2025-05-22 16:39:45,836 - main_orchestrator - INFO - ==================================================
2025-05-22 16:41:30,710 - main_orchestrator - INFO - ==================================================
2025-05-22 16:41:30,710 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-22 16:41:30,710 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-22 16:41:30,711 - main_orchestrator - INFO - ==================================================
2025-05-22 16:41:30,713 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-22 16:41:30,714 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-22 16:41:30,715 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-22 16:41:30,716 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 57 URLs.
2025-05-22 16:41:30,716 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-22 16:41:30,718 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-22 16:41:30,718 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-22 16:41:30,718 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-22 16:41:30,718 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-22 16:41:30,740 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 16:41:31,268 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-22 16:41:31,268 - main_orchestrator - INFO - PDF procesado en 0.55 seg. Enlaces encontrados: 103
2025-05-22 16:41:31,272 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-22 16:41:31,273 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-22 16:41:31,274 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-22 16:41:31,379 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 16:41:31,380 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-22 16:41:31,380 - main_orchestrator - INFO - Texto del PDF extraído en 0.11 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 16:41:31,380 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-22 16:41:31,381 - lib.history_tracker - INFO - Filtradas 65 URLs ya procesadas del lote actual.
2025-05-22 16:41:31,381 - main_orchestrator - INFO - URLs nuevas para procesar: 38 (de 103 total)
2025-05-22 16:41:31,381 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-22 16:41:31,382 - selenium_extractor - INFO - SeleniumContentExtractor inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup\content
2025-05-22 16:41:31,399 - content_deduplicator - INFO - ContentDeduplicator inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup
2025-05-22 16:41:31,399 - content_deduplicator - INFO - Analizando 38 URLs para encontrar duplicados...
2025-05-22 16:41:31,400 - content_deduplicator - INFO - Procesando 34 URLs del dominio facebook.com
2025-05-22 16:41:31,423 - content_deduplicator - INFO - Realizadas 50 comparaciones (0 evitadas)
2025-05-22 16:41:31,424 - content_deduplicator - INFO - Análisis completado en 0.02 segundos
2025-05-22 16:41:31,425 - content_deduplicator - INFO - URLs totales: 38, Únicas: 5, En grupos: 30
2025-05-22 16:41:31,425 - content_deduplicator - INFO - Se realizaron 57 comparaciones (2316.0/seg), evitando 0
2025-05-22 16:41:31,425 - content_deduplicator - INFO - Grupos de duplicados encontrados: 2
2025-05-22 16:41:31,426 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-22 16:41:31,427 - main_orchestrator - INFO - Análisis de duplicados completado: 31 URLs duplicadas filtradas
2025-05-22 16:41:31,427 - main_orchestrator - INFO - URLs después de filtrar duplicados: 7
2025-05-22 16:41:31,428 - main_orchestrator - INFO - Estadísticas de duplicados guardadas en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-22 16:41:31,428 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-22 16:41:31,428 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-22 16:41:31,428 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-22 16:41:31,429 - lib.url_manager - INFO - Clasificación de 7 URLs:
2025-05-22 16:41:31,429 - lib.url_manager - INFO -  - HTML: 3
2025-05-22 16:41:31,429 - lib.url_manager - INFO -  - SOCIAL: 4
2025-05-22 16:41:31,431 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-22 16:41:31,431 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-22 16:41:31,431 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-22 16:41:31,431 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-22 16:41:31,432 - lib.html_scraper - INFO - Iniciando scraping paralelo de 3 URLs...
2025-05-22 16:41:44,955 - lib.html_scraper - INFO - Progreso: 3/3 URLs procesadas en 13.52 seg.
2025-05-22 16:41:44,958 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-22 16:41:44,959 - lib.html_scraper - INFO - Scraping completado para 3/3 URLs en 13.53 segundos.
2025-05-22 16:41:44,959 - lib.html_scraper - INFO - Resultados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-22 16:41:44,959 - main_orchestrator - INFO - Scraping HTML completado en 13.53 seg.
2025-05-22 16:41:44,959 - lib.history_tracker - INFO - Añadidas 3 nuevas URLs al historial.
2025-05-22 16:41:44,960 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 60 URLs.
2025-05-22 16:41:44,960 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-22 16:41:44,961 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-22 16:41:44,961 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-22 16:41:44,962 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-22 16:41:44,982 - main_orchestrator - INFO - Encontradas 3 URLs de Facebook para procesar
2025-05-22 16:41:44,982 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output
2025-05-22 16:41:44,983 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 3 URLs de Facebook para la fecha 22042025...
2025-05-22 16:41:45,000 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/permalink.php?story_fbid=pfbid0TzCZwTAWQvxGLNMQ77dhngX98TVYedA6pB4XL5ksMGojoTp6ju7V5YawYRwedsACl&id=100092180403233&rdid=fGJGXkUs6xgloihe
2025-05-22 16:41:45,000 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/groups/142925476261791/permalink/1713016105919379/?rdid=qlREPYVsMHdGHPMI&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2Fp%2F1EaGLriuJo%2F
2025-05-22 16:41:45,008 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/photo?fbid=629540879905471&set=a.115323967993834
2025-05-22 16:42:10,861 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-22 16:42:13,544 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-22 16:42:15,576 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-3.pdf
2025-05-22 16:42:20,312 - lib.facebook_processor - INFO - Progreso Facebook: 3/3 en 35.33 seg.
2025-05-22 16:42:20,314 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_results_22042025.json
2025-05-22 16:42:20,314 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 3/3 exitosos en 35.33 segundos.
2025-05-22 16:42:20,315 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 35.33 seg.
2025-05-22 16:42:20,315 - lib.history_tracker - INFO - Añadidas 3 nuevas URLs al historial.
2025-05-22 16:42:20,316 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 63 URLs.
2025-05-22 16:42:20,317 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-22 16:42:20,890 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-22 16:42:21,753 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-22 16:42:21,852 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-3.pdf
2025-05-22 16:42:21,853 - lib.facebook_processor - INFO - Texto extraído de 3 PDFs de Facebook
2025-05-22 16:42:21,853 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 1.54 seg.
2025-05-22 16:42:21,853 - main_orchestrator - INFO - Texto extraído de 3 PDFs de Facebook
2025-05-22 16:42:21,854 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-22 16:42:21,854 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-22 16:42:21,855 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-22 16:42:21,856 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:42:21,857 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:42:21,857 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T16:42:21.855702', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 7, 'history_total_urls': 63, 'categories': {'html': 3, 'social': 4}, 'html_processing': {'attempted': 3, 'processed': 3, 'successful': 3, 'relevant (>=0.3)': 0, 'average_relevance': 0.13333333333333333}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 3, 'successful': 3, 'extracted_texts': 3}, 'timings_seconds': {'pdf_extraction': 0.55, 'pdf_text_extraction': 1.54, 'image_download': 0, 'html_scraping': 13.53, 'image_api': 0, 'facebook_processing': 35.33, 'facebook_text_extraction': 1.54, 'stats_consolidation': 0.0}}
2025-05-22 16:42:21,858 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-22 16:42:21,858 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-22 16:42:21,880 - main_orchestrator - INFO - Cargando contenido de imágenes de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-22 16:42:21,899 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-22 16:42:21,903 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 16:42:21,903 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-22 16:42:21,904 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-22 16:42:21,932 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-22 16:42:21,933 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-22 16:42:21,933 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-22 16:42:21,934 - semantic_cleaner - INFO - Extraídos 3 textos de HTML
2025-05-22 16:42:21,934 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-22 16:42:21,934 - semantic_cleaner - INFO - Extraídos 3 textos de Facebook
2025-05-22 16:42:22,626 - semantic_cleaner - INFO - Se identificaron 14 grupos de textos similares
2025-05-22 16:42:22,627 - semantic_cleaner - INFO - Se seleccionaron 14 textos representativos
2025-05-22 16:42:22,627 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-22 16:42:22,627 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 16:42:22,630 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-22 16:42:22,630 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 16:42:22,633 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 16:42:22,634 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:42:22,635 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-22 16:42:22,635 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-22T16:42:21.855702', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 7, 'history_total_urls': 63, 'categories': {'html': 3, 'social': 4}, 'html_processing': {'attempted': 3, 'processed': 3, 'successful': 3, 'relevant (>=0.3)': 0, 'average_relevance': 0.13333333333333333}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 3, 'successful': 3, 'extracted_texts': 3}, 'timings_seconds': {'pdf_extraction': 0.55, 'pdf_text_extraction': 1.54, 'image_download': 0, 'html_scraping': 13.53, 'image_api': 0, 'facebook_processing': 35.33, 'facebook_text_extraction': 1.54, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.73}}
2025-05-22 16:42:22,635 - main_orchestrator - INFO - Limpieza semántica completada en 0.73 seg.
2025-05-22 16:42:22,636 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-22 16:42:22,636 - facebook_extractor_fix - INFO - Ruta del proyecto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent
2025-05-22 16:42:22,636 - facebook_extractor_fix - INFO - Buscando archivo de Facebook en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-22 16:42:22,654 - facebook_extractor_fix - INFO - Estructura de los datos de Facebook: https://www.facebook.com/permalink.php?story_fbid=pfbid0TzCZwTAWQvxGLNMQ77dhngX98TVYedA6pB4XL5ksMGojoTp6ju7V5YawYRwedsACl&id=100092180403233&rdid=fGJGXkUs6xgloihe
2025-05-22 16:42:22,655 - facebook_extractor_fix - INFO - Claves en la primera entrada: ['extracted_text', 'pdf_path', 'processed_date']
2025-05-22 16:42:22,669 - facebook_extractor_fix - INFO - Sección de Facebook añadida al archivo C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-22 16:42:22,669 - facebook_extractor_fix - INFO - Se han añadido 3 textos de Facebook al archivo limpio
2025-05-22 16:42:22,670 - main_orchestrator - INFO - Textos de Facebook integrados correctamente en archivos limpios
2025-05-22 16:42:22,670 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-22 16:42:22,670 - main_orchestrator - INFO - ==================================================
2025-05-22 16:42:22,670 - main_orchestrator - INFO - PIPELINE FINALIZADO en 51.96 segundos.
2025-05-22 16:42:22,671 - main_orchestrator - INFO - ==================================================
2025-05-23 09:26:56,111 - main_orchestrator - INFO - ==================================================
2025-05-23 09:26:56,112 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-23 09:26:56,112 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-23 09:26:56,113 - main_orchestrator - INFO - ==================================================
2025-05-23 09:26:56,126 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-23 09:26:56,128 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-23 09:26:56,129 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-23 09:26:56,130 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 63 URLs.
2025-05-23 09:26:56,130 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-23 09:26:56,131 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-23 09:26:56,131 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-23 09:26:56,132 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-23 09:26:56,132 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-23 09:26:56,132 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-23 09:26:56,179 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-23 09:26:56,664 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-23 09:26:56,664 - main_orchestrator - INFO - PDF procesado en 0.53 seg. Enlaces encontrados: 103
2025-05-23 09:26:56,679 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-23 09:26:56,680 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-23 09:26:56,681 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-23 09:26:56,779 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 09:26:56,780 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-23 09:26:56,780 - main_orchestrator - INFO - Texto del PDF extraído en 0.10 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 09:26:56,781 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-23 09:26:56,781 - lib.history_tracker - INFO - Filtradas 71 URLs ya procesadas del lote actual.
2025-05-23 09:26:56,781 - main_orchestrator - INFO - URLs nuevas para procesar: 32 (de 103 total)
2025-05-23 09:26:56,782 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-23 09:26:56,782 - selenium_extractor - INFO - SeleniumContentExtractor inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup\content
2025-05-23 09:26:56,799 - content_deduplicator - INFO - ContentDeduplicator inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup
2025-05-23 09:26:56,799 - content_deduplicator - INFO - Analizando 32 URLs para encontrar duplicados...
2025-05-23 09:26:56,800 - content_deduplicator - INFO - Procesando 31 URLs del dominio facebook.com
2025-05-23 09:26:56,824 - content_deduplicator - INFO - Análisis completado en 0.02 segundos
2025-05-23 09:26:56,824 - content_deduplicator - INFO - URLs totales: 32, Únicas: 1, En grupos: 28
2025-05-23 09:26:56,824 - content_deduplicator - INFO - Se realizaron 39 comparaciones (1599.2/seg), evitando 0
2025-05-23 09:26:56,825 - content_deduplicator - INFO - Grupos de duplicados encontrados: 2
2025-05-23 09:26:56,826 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-23 09:26:56,826 - main_orchestrator - INFO - Análisis de duplicados completado: 29 URLs duplicadas filtradas
2025-05-23 09:26:56,826 - main_orchestrator - INFO - URLs después de filtrar duplicados: 3
2025-05-23 09:26:56,826 - main_orchestrator - INFO - Estadísticas de duplicados guardadas en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-23 09:26:56,827 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-23 09:26:56,827 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-23 09:26:56,828 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-23 09:26:56,828 - lib.url_manager - INFO - Clasificación de 3 URLs:
2025-05-23 09:26:56,829 - lib.url_manager - INFO -  - SOCIAL: 3
2025-05-23 09:26:56,830 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-23 09:26:56,830 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-23 09:26:56,831 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-23 09:26:56,831 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-23 09:26:56,831 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-23 09:26:56,831 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-23 09:26:56,832 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-23 09:26:56,832 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-23 09:26:56,832 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-23 09:26:56,845 - main_orchestrator - INFO - Encontradas 2 URLs de Facebook para procesar
2025-05-23 09:26:56,845 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output
2025-05-23 09:26:56,846 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 2 URLs de Facebook para la fecha 22042025...
2025-05-23 09:26:56,858 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/photo?fbid=1169198698550401&set=a.479540714182873
2025-05-23 09:26:56,859 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/permalink.php?story_fbid=pfbid06u3kqH3zC7LaCNYixodwUjR7dpgY84Y2HkdEmXaPnNrvy5WSWkCeVUtYzix4ork8l&id=100062993063417&rdid=W7M6TZM9WxOnYRNM
2025-05-23 09:27:31,821 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-23 09:27:33,937 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-23 09:27:37,273 - lib.facebook_processor - INFO - Progreso Facebook: 2/2 en 40.43 seg.
2025-05-23 09:27:37,276 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_results_22042025.json
2025-05-23 09:27:37,276 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 2/2 exitosos en 40.43 segundos.
2025-05-23 09:27:37,276 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 40.43 seg.
2025-05-23 09:27:37,277 - lib.history_tracker - INFO - Añadidas 2 nuevas URLs al historial.
2025-05-23 09:27:37,278 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 65 URLs.
2025-05-23 09:27:37,278 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-23 09:27:37,402 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-23 09:27:37,491 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-23 09:27:37,491 - lib.facebook_processor - INFO - Texto extraído de 2 PDFs de Facebook
2025-05-23 09:27:37,492 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 0.21 seg.
2025-05-23 09:27:37,492 - main_orchestrator - INFO - Texto extraído de 2 PDFs de Facebook
2025-05-23 09:27:37,493 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 09:27:37,493 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 09:27:37,493 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-23 09:27:37,495 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 09:27:37,496 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 09:27:37,496 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-23T09:27:37.494275', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 3, 'history_total_urls': 65, 'categories': {'social': 3}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 2, 'successful': 2, 'extracted_texts': 2}, 'timings_seconds': {'pdf_extraction': 0.53, 'pdf_text_extraction': 0.21, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 40.43, 'facebook_text_extraction': 0.21, 'stats_consolidation': 0.0}}
2025-05-23 09:27:37,497 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-23 09:27:37,497 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-23 09:27:37,511 - main_orchestrator - INFO - Cargando contenido HTML de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-23 09:27:37,525 - main_orchestrator - INFO - Cargando contenido de imágenes de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-23 09:27:37,538 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 09:27:37,541 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-23 09:27:37,541 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-23 09:27:37,541 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-23 09:27:37,570 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-23 09:27:37,570 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-23 09:27:37,571 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-23 09:27:37,571 - semantic_cleaner - INFO - Extraídos 3 textos de HTML
2025-05-23 09:27:37,571 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-23 09:27:37,572 - semantic_cleaner - INFO - Extraídos 2 textos de Facebook
2025-05-23 09:27:38,053 - semantic_cleaner - INFO - Se identificaron 13 grupos de textos similares
2025-05-23 09:27:38,053 - semantic_cleaner - INFO - Se seleccionaron 13 textos representativos
2025-05-23 09:27:38,054 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-23 09:27:38,054 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-23 09:27:38,056 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-23 09:27:38,057 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 09:27:38,063 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 09:27:38,066 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 09:27:38,067 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 09:27:38,067 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-23T09:27:37.494275', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 3, 'history_total_urls': 65, 'categories': {'social': 3}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 2, 'successful': 2, 'extracted_texts': 2}, 'timings_seconds': {'pdf_extraction': 0.53, 'pdf_text_extraction': 0.21, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 40.43, 'facebook_text_extraction': 0.21, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.52}}
2025-05-23 09:27:38,068 - main_orchestrator - INFO - Limpieza semántica completada en 0.52 seg.
2025-05-23 09:27:38,068 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-23 09:27:38,068 - facebook_extractor_fix - INFO - Ruta del proyecto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent
2025-05-23 09:27:38,069 - facebook_extractor_fix - INFO - Buscando archivo de Facebook en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 09:27:38,101 - facebook_extractor_fix - INFO - Estructura de los datos de Facebook: https://www.facebook.com/permalink.php?story_fbid=pfbid06u3kqH3zC7LaCNYixodwUjR7dpgY84Y2HkdEmXaPnNrvy5WSWkCeVUtYzix4ork8l&id=100062993063417&rdid=W7M6TZM9WxOnYRNM
2025-05-23 09:27:38,102 - facebook_extractor_fix - INFO - Claves en la primera entrada: ['extracted_text', 'pdf_path', 'processed_date']
2025-05-23 09:27:38,124 - facebook_extractor_fix - INFO - Sección de Facebook añadida al archivo C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 09:27:38,125 - facebook_extractor_fix - INFO - Se han añadido 2 textos de Facebook al archivo limpio
2025-05-23 09:27:38,126 - main_orchestrator - INFO - Textos de Facebook integrados correctamente en archivos limpios
2025-05-23 09:27:38,127 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-23 09:27:38,129 - main_orchestrator - INFO - ==================================================
2025-05-23 09:27:38,130 - main_orchestrator - INFO - PIPELINE FINALIZADO en 42.02 segundos.
2025-05-23 09:27:38,130 - main_orchestrator - INFO - ==================================================
2025-05-23 10:54:33,240 - main_orchestrator - INFO - ==================================================
2025-05-23 10:54:33,241 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-23 10:54:33,242 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-23 10:54:33,242 - main_orchestrator - INFO - ==================================================
2025-05-23 10:54:33,248 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-23 10:54:33,249 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-23 10:54:33,251 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-23 10:54:33,253 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 65 URLs.
2025-05-23 10:54:33,255 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-23 10:54:33,260 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-23 10:54:33,262 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-23 10:54:33,263 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-23 10:54:33,263 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-23 10:54:33,308 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-23 10:54:33,912 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-23 10:54:33,913 - main_orchestrator - INFO - PDF procesado en 0.65 seg. Enlaces encontrados: 103
2025-05-23 10:54:33,934 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-23 10:54:33,934 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-23 10:54:33,936 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-23 10:54:34,050 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 10:54:34,051 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-23 10:54:34,051 - main_orchestrator - INFO - Texto del PDF extraído en 0.12 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 10:54:34,052 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-23 10:54:34,052 - lib.history_tracker - INFO - Filtradas 73 URLs ya procesadas del lote actual.
2025-05-23 10:54:34,052 - main_orchestrator - INFO - URLs nuevas para procesar: 30 (de 103 total)
2025-05-23 10:54:34,052 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-23 10:54:34,053 - selenium_extractor - INFO - SeleniumContentExtractor inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup\content
2025-05-23 10:54:34,056 - content_deduplicator - INFO - ContentDeduplicator inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup
2025-05-23 10:54:34,056 - content_deduplicator - INFO - Analizando 30 URLs para encontrar duplicados...
2025-05-23 10:54:34,057 - content_deduplicator - INFO - Procesando 29 URLs del dominio facebook.com
2025-05-23 10:54:34,085 - content_deduplicator - INFO - Análisis completado en 0.03 segundos
2025-05-23 10:54:34,085 - content_deduplicator - INFO - URLs totales: 30, Únicas: 1, En grupos: 26
2025-05-23 10:54:34,086 - content_deduplicator - INFO - Se realizaron 36 comparaciones (1277.8/seg), evitando 0
2025-05-23 10:54:34,086 - content_deduplicator - INFO - Grupos de duplicados encontrados: 2
2025-05-23 10:54:34,088 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-23 10:54:34,088 - main_orchestrator - INFO - Análisis de duplicados completado: 27 URLs duplicadas filtradas
2025-05-23 10:54:34,089 - main_orchestrator - INFO - URLs después de filtrar duplicados: 3
2025-05-23 10:54:34,089 - main_orchestrator - INFO - Estadísticas de duplicados guardadas en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-23 10:54:34,090 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-23 10:54:34,090 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-23 10:54:34,091 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-23 10:54:34,092 - lib.url_manager - INFO - Clasificación de 3 URLs:
2025-05-23 10:54:34,093 - lib.url_manager - INFO -  - SOCIAL: 3
2025-05-23 10:54:34,095 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-23 10:54:34,096 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-23 10:54:34,096 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-23 10:54:34,097 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-23 10:54:34,098 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-23 10:54:34,099 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-23 10:54:34,100 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-23 10:54:34,101 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-23 10:54:34,101 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-23 10:54:34,127 - main_orchestrator - INFO - Encontradas 2 URLs de Facebook para procesar
2025-05-23 10:54:34,127 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output
2025-05-23 10:54:34,128 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 2 URLs de Facebook para la fecha 22042025...
2025-05-23 10:54:34,135 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/photo?fbid=9169253469869352&set=a.740299552764828
2025-05-23 10:54:34,156 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/permalink.php?story_fbid=pfbid0reYaJGKSrrrM5sH1sZBTvPsm8im1uhSwyjzjmE433Meqhw21yPtjcWuFU6LZfnb1l&id=100072108931277&rdid=h4uCPExW0ybiyePi
2025-05-23 10:55:08,778 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-23 10:55:11,102 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-23 10:55:14,743 - lib.facebook_processor - INFO - Progreso Facebook: 2/2 en 40.61 seg.
2025-05-23 10:55:14,745 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_results_22042025.json
2025-05-23 10:55:14,746 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 2/2 exitosos en 40.62 segundos.
2025-05-23 10:55:14,746 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 40.62 seg.
2025-05-23 10:55:14,746 - lib.history_tracker - INFO - Añadidas 2 nuevas URLs al historial.
2025-05-23 10:55:14,747 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 67 URLs.
2025-05-23 10:55:14,748 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-23 10:55:14,918 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-23 10:55:15,790 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-23 10:55:15,790 - lib.facebook_processor - INFO - Texto extraído de 2 PDFs de Facebook
2025-05-23 10:55:15,791 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 1.04 seg.
2025-05-23 10:55:15,791 - main_orchestrator - INFO - Texto extraído de 2 PDFs de Facebook
2025-05-23 10:55:15,793 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 10:55:15,795 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 10:55:15,795 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-23 10:55:15,797 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 10:55:15,798 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 10:55:15,798 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-23T10:55:15.796015', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 3, 'history_total_urls': 67, 'categories': {'social': 3}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 2, 'successful': 2, 'extracted_texts': 2}, 'timings_seconds': {'pdf_extraction': 0.65, 'pdf_text_extraction': 1.04, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 40.62, 'facebook_text_extraction': 1.04, 'stats_consolidation': 0.0}}
2025-05-23 10:55:15,799 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-23 10:55:15,799 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-23 10:55:15,801 - main_orchestrator - INFO - Cargando contenido HTML de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-23 10:55:15,803 - main_orchestrator - INFO - Cargando contenido de imágenes de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-23 10:55:15,824 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 10:55:15,828 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-23 10:55:15,828 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-23 10:55:15,829 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-23 10:55:15,857 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-23 10:55:15,857 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-23 10:55:15,858 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-23 10:55:15,858 - semantic_cleaner - INFO - Extraídos 3 textos de HTML
2025-05-23 10:55:15,858 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-23 10:55:15,859 - semantic_cleaner - INFO - Extraídos 2 textos de Facebook
2025-05-23 10:55:16,619 - semantic_cleaner - INFO - Se identificaron 13 grupos de textos similares
2025-05-23 10:55:16,620 - semantic_cleaner - INFO - Se seleccionaron 13 textos representativos
2025-05-23 10:55:16,620 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-23 10:55:16,620 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-23 10:55:16,623 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-23 10:55:16,623 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 10:55:16,629 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 10:55:16,630 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 10:55:16,631 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 10:55:16,631 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-23T10:55:15.796015', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 3, 'history_total_urls': 67, 'categories': {'social': 3}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 2, 'successful': 2, 'extracted_texts': 2}, 'timings_seconds': {'pdf_extraction': 0.65, 'pdf_text_extraction': 1.04, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 40.62, 'facebook_text_extraction': 1.04, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.8}}
2025-05-23 10:55:16,631 - main_orchestrator - INFO - Limpieza semántica completada en 0.80 seg.
2025-05-23 10:55:16,632 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-23 10:55:16,632 - facebook_extractor_fix - INFO - Ruta del proyecto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent
2025-05-23 10:55:16,632 - facebook_extractor_fix - INFO - Buscando archivo de Facebook en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 10:55:16,686 - facebook_extractor_fix - INFO - Estructura de los datos de Facebook: https://www.facebook.com/permalink.php?story_fbid=pfbid0reYaJGKSrrrM5sH1sZBTvPsm8im1uhSwyjzjmE433Meqhw21yPtjcWuFU6LZfnb1l&id=100072108931277&rdid=h4uCPExW0ybiyePi
2025-05-23 10:55:16,686 - facebook_extractor_fix - INFO - Claves en la primera entrada: ['extracted_text', 'pdf_path', 'processed_date']
2025-05-23 10:55:16,712 - facebook_extractor_fix - INFO - Sección de Facebook añadida al archivo C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 10:55:16,713 - facebook_extractor_fix - INFO - Se han añadido 2 textos de Facebook al archivo limpio
2025-05-23 10:55:16,714 - main_orchestrator - INFO - Textos de Facebook integrados correctamente en archivos limpios
2025-05-23 10:55:16,714 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-23 10:55:16,714 - main_orchestrator - INFO - ==================================================
2025-05-23 10:55:16,715 - main_orchestrator - INFO - PIPELINE FINALIZADO en 43.48 segundos.
2025-05-23 10:55:16,715 - main_orchestrator - INFO - ==================================================
2025-05-23 10:59:26,357 - main_orchestrator - INFO - ==================================================
2025-05-23 10:59:26,357 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-23 10:59:26,358 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-23 10:59:26,359 - main_orchestrator - INFO - ==================================================
2025-05-23 10:59:26,361 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-23 10:59:26,363 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-23 10:59:26,364 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-23 10:59:26,365 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 67 URLs.
2025-05-23 10:59:26,365 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-23 10:59:26,366 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-23 10:59:26,366 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-23 10:59:26,366 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-23 10:59:26,367 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-23 10:59:26,385 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-23 10:59:26,934 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-23 10:59:26,935 - main_orchestrator - INFO - PDF procesado en 0.57 seg. Enlaces encontrados: 103
2025-05-23 10:59:26,939 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-23 10:59:26,940 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-23 10:59:26,941 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-23 10:59:27,038 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 10:59:27,039 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-23 10:59:27,039 - main_orchestrator - INFO - Texto del PDF extraído en 0.10 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 10:59:27,040 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-23 10:59:27,040 - lib.history_tracker - INFO - Filtradas 75 URLs ya procesadas del lote actual.
2025-05-23 10:59:27,041 - main_orchestrator - INFO - URLs nuevas para procesar: 28 (de 103 total)
2025-05-23 10:59:27,041 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-23 10:59:27,041 - selenium_extractor - INFO - SeleniumContentExtractor inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup\content
2025-05-23 10:59:27,043 - content_deduplicator - INFO - ContentDeduplicator inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup
2025-05-23 10:59:27,043 - content_deduplicator - INFO - Analizando 28 URLs para encontrar duplicados...
2025-05-23 10:59:27,043 - content_deduplicator - INFO - Procesando 27 URLs del dominio facebook.com
2025-05-23 10:59:27,057 - content_deduplicator - INFO - Análisis completado en 0.01 segundos
2025-05-23 10:59:27,057 - content_deduplicator - INFO - URLs totales: 28, Únicas: 1, En grupos: 24
2025-05-23 10:59:27,058 - content_deduplicator - INFO - Se realizaron 33 comparaciones (2338.6/seg), evitando 0
2025-05-23 10:59:27,058 - content_deduplicator - INFO - Grupos de duplicados encontrados: 2
2025-05-23 10:59:27,059 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-23 10:59:27,060 - main_orchestrator - INFO - Análisis de duplicados completado: 24 URLs duplicadas filtradas
2025-05-23 10:59:27,060 - main_orchestrator - INFO - URLs después de filtrar duplicados: 4
2025-05-23 10:59:27,060 - main_orchestrator - INFO - Estadísticas de duplicados guardadas en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-23 10:59:27,060 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-23 10:59:27,060 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-23 10:59:27,061 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-23 10:59:27,061 - lib.url_manager - INFO - Clasificación de 4 URLs:
2025-05-23 10:59:27,061 - lib.url_manager - INFO -  - SOCIAL: 4
2025-05-23 10:59:27,062 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-23 10:59:27,062 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-23 10:59:27,063 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-23 10:59:27,063 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-23 10:59:27,063 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-23 10:59:27,064 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-23 10:59:27,064 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-23 10:59:27,064 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-23 10:59:27,065 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-23 10:59:27,086 - main_orchestrator - INFO - Encontradas 3 URLs de Facebook para procesar
2025-05-23 10:59:27,087 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output
2025-05-23 10:59:27,087 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 3 URLs de Facebook para la fecha 22042025...
2025-05-23 10:59:27,100 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/photo/?fbid=721410753566836&set=a.257328239975092
2025-05-23 10:59:27,100 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/photo/?fbid=721410753566836&set=a.257328239975092
2025-05-23 10:59:27,101 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/permalink.php?story_fbid=pfbid0gdz3Jt9XeV6CqoTTNaicfRqxFMk6MWSbX8L6CTS62eJjBpGkZjMWC4T2ym5HrUTHl&id=100065273659654&rdid=uFgc1hNpAT2S3DpG
2025-05-23 10:59:52,676 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-3.pdf
2025-05-23 10:59:54,025 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-23 10:59:54,817 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-23 10:59:58,771 - lib.facebook_processor - INFO - Progreso Facebook: 3/3 en 31.68 seg.
2025-05-23 10:59:58,773 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_results_22042025.json
2025-05-23 10:59:58,773 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 2/3 exitosos en 31.69 segundos.
2025-05-23 10:59:58,774 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 31.69 seg.
2025-05-23 10:59:58,774 - lib.history_tracker - INFO - Añadidas 2 nuevas URLs al historial.
2025-05-23 10:59:58,775 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 69 URLs.
2025-05-23 10:59:58,776 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-23 10:59:58,950 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-23 10:59:59,577 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-23 10:59:59,578 - lib.facebook_processor - INFO - Texto extraído de 2 PDFs de Facebook
2025-05-23 10:59:59,578 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 0.80 seg.
2025-05-23 10:59:59,578 - main_orchestrator - INFO - Texto extraído de 2 PDFs de Facebook
2025-05-23 10:59:59,579 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 10:59:59,580 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 10:59:59,580 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-23 10:59:59,582 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 10:59:59,582 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 10:59:59,583 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-23T10:59:59.581105', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 4, 'history_total_urls': 69, 'categories': {'social': 4}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 3, 'successful': 2, 'extracted_texts': 2}, 'timings_seconds': {'pdf_extraction': 0.57, 'pdf_text_extraction': 0.8, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 31.69, 'facebook_text_extraction': 0.8, 'stats_consolidation': 0.0}}
2025-05-23 10:59:59,583 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-23 10:59:59,583 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-23 10:59:59,584 - main_orchestrator - INFO - Cargando contenido HTML de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-23 10:59:59,585 - main_orchestrator - INFO - Cargando contenido de imágenes de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-23 10:59:59,603 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 10:59:59,606 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-23 10:59:59,606 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-23 10:59:59,607 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-23 10:59:59,626 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-23 10:59:59,627 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-23 10:59:59,627 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-23 10:59:59,627 - semantic_cleaner - INFO - Extraídos 3 textos de HTML
2025-05-23 10:59:59,627 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-23 10:59:59,628 - semantic_cleaner - INFO - Extraídos 2 textos de Facebook
2025-05-23 11:00:00,437 - semantic_cleaner - INFO - Se identificaron 13 grupos de textos similares
2025-05-23 11:00:00,437 - semantic_cleaner - INFO - Se seleccionaron 13 textos representativos
2025-05-23 11:00:00,438 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-23 11:00:00,438 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-23 11:00:00,440 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-23 11:00:00,441 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 11:00:00,445 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 11:00:00,446 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 11:00:00,446 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 11:00:00,447 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-23T10:59:59.581105', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 4, 'history_total_urls': 69, 'categories': {'social': 4}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 3, 'successful': 2, 'extracted_texts': 2}, 'timings_seconds': {'pdf_extraction': 0.57, 'pdf_text_extraction': 0.8, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 31.69, 'facebook_text_extraction': 0.8, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.84}}
2025-05-23 11:00:00,447 - main_orchestrator - INFO - Limpieza semántica completada en 0.84 seg.
2025-05-23 11:00:00,448 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-23 11:00:00,448 - facebook_extractor_fix - INFO - Ruta del proyecto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent
2025-05-23 11:00:00,448 - facebook_extractor_fix - INFO - Buscando archivo de Facebook en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 11:00:00,488 - facebook_extractor_fix - INFO - Estructura de los datos de Facebook: https://www.facebook.com/photo/?fbid=721410753566836&set=a.257328239975092
2025-05-23 11:00:00,489 - facebook_extractor_fix - INFO - Claves en la primera entrada: ['extracted_text', 'pdf_path', 'processed_date']
2025-05-23 11:00:00,506 - facebook_extractor_fix - INFO - Sección de Facebook añadida al archivo C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 11:00:00,507 - facebook_extractor_fix - INFO - Se han añadido 2 textos de Facebook al archivo limpio
2025-05-23 11:00:00,507 - main_orchestrator - INFO - Textos de Facebook integrados correctamente en archivos limpios
2025-05-23 11:00:00,507 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-23 11:00:00,507 - main_orchestrator - INFO - ==================================================
2025-05-23 11:00:00,508 - main_orchestrator - INFO - PIPELINE FINALIZADO en 34.15 segundos.
2025-05-23 11:00:00,508 - main_orchestrator - INFO - ==================================================
2025-05-23 11:01:44,657 - main_orchestrator - INFO - ==================================================
2025-05-23 11:01:44,657 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-23 11:01:44,657 - main_orchestrator - INFO - Usando fecha: 22042025
2025-05-23 11:01:44,657 - main_orchestrator - INFO - ==================================================
2025-05-23 11:01:44,658 - lib.config_manager - INFO - Configuración cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\config.yaml
2025-05-23 11:01:44,659 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\credentials/api_keys.yaml
2025-05-23 11:01:44,660 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-23 11:01:44,660 - lib.history_tracker - INFO - Historial cargado desde C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 69 URLs.
2025-05-23 11:01:44,661 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-23 11:01:44,661 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-23 11:01:44,662 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-23 11:01:44,662 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-23 11:01:44,663 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-23 11:01:44,686 - lib.pdf_processor - INFO - Abriendo PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-23 11:01:45,317 - lib.pdf_processor - INFO - Se extrajeron 103 enlaces URI (no mailto) de 22042025.pdf.
2025-05-23 11:01:45,318 - main_orchestrator - INFO - PDF procesado en 0.65 seg. Enlaces encontrados: 103
2025-05-23 11:01:45,324 - lib.file_manager - INFO - Datos guardados en CSV: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\In\links_extracted_22042025.csv
2025-05-23 11:01:45,324 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-23 11:01:45,325 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025.pdf (8 páginas)
2025-05-23 11:01:45,442 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 11:01:45,443 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 8 párrafos
2025-05-23 11:01:45,443 - main_orchestrator - INFO - Texto del PDF extraído en 0.12 seg. Guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 11:01:45,443 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-23 11:01:45,444 - lib.history_tracker - INFO - Filtradas 78 URLs ya procesadas del lote actual.
2025-05-23 11:01:45,444 - main_orchestrator - INFO - URLs nuevas para procesar: 25 (de 103 total)
2025-05-23 11:01:45,444 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-23 11:01:45,445 - selenium_extractor - INFO - SeleniumContentExtractor inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup\content
2025-05-23 11:01:45,446 - content_deduplicator - INFO - ContentDeduplicator inicializado con caché en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\cache\dedup
2025-05-23 11:01:45,446 - content_deduplicator - INFO - Analizando 25 URLs para encontrar duplicados...
2025-05-23 11:01:45,447 - content_deduplicator - INFO - Procesando 24 URLs del dominio facebook.com
2025-05-23 11:01:45,466 - content_deduplicator - INFO - Análisis completado en 0.02 segundos
2025-05-23 11:01:45,466 - content_deduplicator - INFO - URLs totales: 25, Únicas: 1, En grupos: 22
2025-05-23 11:01:45,466 - content_deduplicator - INFO - Se realizaron 30 comparaciones (1554.6/seg), evitando 0
2025-05-23 11:01:45,467 - content_deduplicator - INFO - Grupos de duplicados encontrados: 2
2025-05-23 11:01:45,468 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-23 11:01:45,468 - main_orchestrator - INFO - Análisis de duplicados completado: 22 URLs duplicadas filtradas
2025-05-23 11:01:45,468 - main_orchestrator - INFO - URLs después de filtrar duplicados: 3
2025-05-23 11:01:45,468 - main_orchestrator - INFO - Estadísticas de duplicados guardadas en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\duplicates_analysis_22042025.json
2025-05-23 11:01:45,469 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-23 11:01:45,469 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-23 11:01:45,469 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-23 11:01:45,469 - lib.url_manager - INFO - Clasificación de 3 URLs:
2025-05-23 11:01:45,470 - lib.url_manager - INFO -  - SOCIAL: 3
2025-05-23 11:01:45,471 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Social\social_links_22042025_unprocessed.json
2025-05-23 11:01:45,471 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-23 11:01:45,471 - main_orchestrator - INFO - No hay nuevas URLs de imágenes para descargar.
2025-05-23 11:01:45,471 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-23 11:01:45,472 - main_orchestrator - INFO - No hay nuevas URLs HTML para scrapear.
2025-05-23 11:01:45,472 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-23 11:01:45,472 - main_orchestrator - INFO - No hubo imágenes descargadas o ya están procesadas.
2025-05-23 11:01:45,473 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-23 11:01:45,473 - main_orchestrator - INFO - Leyendo archivo social para la fecha 22042025: social_links_22042025_unprocessed.json
2025-05-23 11:01:45,492 - main_orchestrator - INFO - Encontradas 2 URLs de Facebook para procesar
2025-05-23 11:01:45,492 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output
2025-05-23 11:01:45,493 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 2 URLs de Facebook para la fecha 22042025...
2025-05-23 11:01:45,506 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/diarioprimiciahyo/posts/pfbid0MyvvUrEXMwK9JweVexky3uoJu9xYaG5CrP4wLPi25vuo4i4su39fj8bZe4HjAyAYl?rdid=WQIs6UTvdY7Bm09T
2025-05-23 11:01:45,506 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/photo?fbid=122113948808817608&set=a.122095373924817608
2025-05-23 11:02:11,134 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-23 11:02:12,227 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-23 11:02:17,179 - lib.facebook_processor - INFO - Progreso Facebook: 2/2 en 31.69 seg.
2025-05-23 11:02:17,181 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_results_22042025.json
2025-05-23 11:02:17,181 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 2/2 exitosos en 31.69 segundos.
2025-05-23 11:02:17,182 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 31.69 seg.
2025-05-23 11:02:17,182 - lib.history_tracker - INFO - Añadidas 2 nuevas URLs al historial.
2025-05-23 11:02:17,184 - lib.history_tracker - INFO - Historial guardado en C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\codigo\lib\history\processed_urls.json con 71 URLs.
2025-05-23 11:02:17,185 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-23 11:02:17,333 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-2.pdf
2025-05-23 11:02:17,969 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\base\22042025\22042025-1.pdf
2025-05-23 11:02:17,970 - lib.facebook_processor - INFO - Texto extraído de 2 PDFs de Facebook
2025-05-23 11:02:17,971 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 0.78 seg.
2025-05-23 11:02:17,971 - main_orchestrator - INFO - Texto extraído de 2 PDFs de Facebook
2025-05-23 11:02:17,972 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 11:02:17,972 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 11:02:17,973 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-23 11:02:17,974 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 11:02:17,974 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 11:02:17,974 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-23T11:02:17.973378', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 3, 'history_total_urls': 71, 'categories': {'social': 3}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 2, 'successful': 2, 'extracted_texts': 2}, 'timings_seconds': {'pdf_extraction': 0.65, 'pdf_text_extraction': 0.78, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 31.69, 'facebook_text_extraction': 0.78, 'stats_consolidation': 0.0}}
2025-05-23 11:02:17,975 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-23 11:02:17,975 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-23 11:02:17,976 - main_orchestrator - INFO - Cargando contenido HTML de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_texts_22042025.json
2025-05-23 11:02:17,977 - main_orchestrator - INFO - Cargando contenido de imágenes de archivo existente: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Images\downloads\22042025\texto_imagenes_api.json
2025-05-23 11:02:17,991 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Out\scraped_pdf_22042025\pdf_text_22042025.json
2025-05-23 11:02:17,994 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-23 11:02:17,994 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\consolidated_22042025.json
2025-05-23 11:02:17,995 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-23 11:02:18,013 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-23 11:02:18,013 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-23 11:02:18,014 - semantic_cleaner - INFO - Extraídos 8 textos de PDF
2025-05-23 11:02:18,014 - semantic_cleaner - INFO - Extraídos 3 textos de HTML
2025-05-23 11:02:18,014 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-23 11:02:18,015 - semantic_cleaner - INFO - Extraídos 2 textos de Facebook
2025-05-23 11:02:18,604 - semantic_cleaner - INFO - Se identificaron 13 grupos de textos similares
2025-05-23 11:02:18,604 - semantic_cleaner - INFO - Se seleccionaron 13 textos representativos
2025-05-23 11:02:18,604 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-23 11:02:18,605 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-23 11:02:18,607 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.json
2025-05-23 11:02:18,607 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 11:02:18,611 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 11:02:18,612 - lib.file_manager - INFO - Datos guardados en JSON: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 11:02:18,613 - lib.file_manager - INFO - Estadísticas guardadas: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\input\Stats\stats_22042025.json
2025-05-23 11:02:18,613 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-23T11:02:17.973378', 'date_processed': '22042025', 'total_urls_in_pdf': 103, 'new_urls_processed_count': 3, 'history_total_urls': 71, 'categories': {'social': 3}, 'html_processing': {'attempted': 0, 'processed': 0, 'successful': 0, 'relevant (>=0.3)': 0, 'average_relevance': 0}, 'image_processing': {'attempted_download': 0, 'successful_download': 0, 'attempted_api': 0, 'successful_api': 0}, 'facebook_processing': {'attempted': 2, 'successful': 2, 'extracted_texts': 2}, 'timings_seconds': {'pdf_extraction': 0.65, 'pdf_text_extraction': 0.78, 'image_download': 0, 'html_scraping': 0, 'image_api': 0, 'facebook_processing': 31.69, 'facebook_text_extraction': 0.78, 'stats_consolidation': 0.0, 'semantic_cleaning': 0.62}}
2025-05-23 11:02:18,613 - main_orchestrator - INFO - Limpieza semántica completada en 0.62 seg.
2025-05-23 11:02:18,614 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-23 11:02:18,614 - facebook_extractor_fix - INFO - Ruta del proyecto: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent
2025-05-23 11:02:18,614 - facebook_extractor_fix - INFO - Buscando archivo de Facebook en: C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\facebook_texts_22042025.json
2025-05-23 11:02:18,649 - facebook_extractor_fix - INFO - Estructura de los datos de Facebook: https://www.facebook.com/photo?fbid=122113948808817608&set=a.122095373924817608
2025-05-23 11:02:18,650 - facebook_extractor_fix - INFO - Claves en la primera entrada: ['extracted_text', 'pdf_path', 'processed_date']
2025-05-23 11:02:18,668 - facebook_extractor_fix - INFO - Sección de Facebook añadida al archivo C:\Users\emers\Documents\SUNASS_CAMI_CENTRO\DEV_SUNASS\NewsAgent\output\clean\clean_22042025.md
2025-05-23 11:02:18,668 - facebook_extractor_fix - INFO - Se han añadido 2 textos de Facebook al archivo limpio
2025-05-23 11:02:18,668 - main_orchestrator - INFO - Textos de Facebook integrados correctamente en archivos limpios
2025-05-23 11:02:18,669 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-23 11:02:18,669 - main_orchestrator - INFO - ==================================================
2025-05-23 11:02:18,669 - main_orchestrator - INFO - PIPELINE FINALIZADO en 34.01 segundos.
2025-05-23 11:02:18,670 - main_orchestrator - INFO - ==================================================
