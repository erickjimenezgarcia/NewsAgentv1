2025-05-14 02:17:34,733 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-14 02:17:34,736 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-14 02:17:34,736 - main_orchestrator - INFO - Se usará la fecha proporcionada: 16042025
2025-05-14 02:17:34,736 - main_orchestrator - INFO - ==================================================
2025-05-14 02:17:34,736 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-14 02:17:34,736 - main_orchestrator - INFO - Usando fecha: 16042025
2025-05-14 02:17:34,736 - main_orchestrator - INFO - ==================================================
2025-05-14 02:17:34,736 - lib.config_manager - INFO - Configuración cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\config.yaml
2025-05-14 02:17:34,736 - lib.config_manager - WARNING - Archivo de credenciales no encontrado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\credentials/api_keys.yaml
2025-05-14 02:17:34,736 - lib.config_manager - WARNING - Clave API de Gemini no configurada. La funcionalidad de API de imágenes fallará.
2025-05-14 02:17:34,736 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-14 02:17:34,736 - lib.history_tracker - INFO - Archivo de historial no encontrado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json. Se creará uno nuevo al guardar.
2025-05-14 02:17:34,736 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-14 02:17:34,736 - lib.image_processor - WARNING - No se pudo inicializar Gemini API: No se encontró GOOGLE_API_KEY en variables de entorno o .env
2025-05-14 02:17:34,736 - lib.image_processor - WARNING - API de extracción de texto de imágenes no configurada. No se procesarán imágenes con API.
2025-05-14 02:17:34,740 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-14 02:17:34,741 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-14 02:17:34,742 - lib.pdf_processor - INFO - Abriendo PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025.pdf (6 páginas)
2025-05-14 02:17:34,842 - lib.pdf_processor - INFO - Se extrajeron 59 enlaces URI (no mailto) de 16042025.pdf.
2025-05-14 02:17:34,842 - main_orchestrator - INFO - PDF procesado en 0.10 seg. Enlaces encontrados: 59
2025-05-14 02:17:34,846 - lib.file_manager - INFO - Datos guardados en CSV: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\In\links_extracted_16042025.csv
2025-05-14 02:17:34,847 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-14 02:17:34,848 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025.pdf (6 páginas)
2025-05-14 02:17:34,880 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_16042025\pdf_text_16042025.json
2025-05-14 02:17:34,880 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 6 párrafos
2025-05-14 02:17:34,881 - main_orchestrator - INFO - Texto del PDF extraído en 0.03 seg. Guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_16042025\pdf_text_16042025.json
2025-05-14 02:17:34,882 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-14 02:17:34,882 - main_orchestrator - INFO - URLs nuevas para procesar: 59 (de 59 total)
2025-05-14 02:17:34,882 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-14 02:17:34,882 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-14 02:17:34,882 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-14 02:17:34,882 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-14 02:17:34,882 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-14 02:17:34,884 - lib.url_manager - INFO - Clasificación de 59 URLs:
2025-05-14 02:17:34,884 - lib.url_manager - INFO -  - HTML: 33
2025-05-14 02:17:34,884 - lib.url_manager - INFO -  - IMAGES: 12
2025-05-14 02:17:34,884 - lib.url_manager - INFO -  - SOCIAL: 14
2025-05-14 02:17:34,884 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_16042025_unprocessed.json
2025-05-14 02:17:34,887 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Social\social_links_16042025_unprocessed.json
2025-05-14 02:17:34,887 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-14 02:17:34,887 - lib.image_processor - INFO - Iniciando descarga paralela de 12 imágenes para la fecha 16042025...
2025-05-14 02:17:36,978 - lib.image_processor - INFO - Imagen 9 guardada como 'img_9_94815644_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (185015 bytes)
2025-05-14 02:17:37,142 - lib.image_processor - INFO - Imagen 7 guardada como 'img_7_135386b4_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (329609 bytes)
2025-05-14 02:17:37,340 - lib.image_processor - INFO - Imagen 4 guardada como 'img_4_edfc8ed9_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (284407 bytes)
2025-05-14 02:17:37,355 - lib.image_processor - INFO - Imagen 8 guardada como 'img_8_3ce873be_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (297977 bytes)
2025-05-14 02:17:37,893 - lib.image_processor - INFO - Imagen 5 guardada como 'img_5_5872ca8a_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (396505 bytes)
2025-05-14 02:17:38,809 - lib.image_processor - INFO - Imagen 12 guardada como 'img_12_bb44165b_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (159855 bytes)
2025-05-14 02:17:39,504 - lib.image_processor - INFO - Imagen 6 guardada como 'img_6_9b807dd9_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (707746 bytes)
2025-05-14 02:17:40,421 - lib.image_processor - INFO - Imagen 10 guardada como 'img_10_2e3ad109_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (1054067 bytes)
2025-05-14 02:17:40,672 - lib.image_processor - INFO - Imagen 2 guardada como 'img_2_1e67714b_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (951901 bytes)
2025-05-14 02:17:41,184 - lib.image_processor - INFO - Imagen 11 guardada como 'img_11_141a2c9a_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (1040422 bytes)
2025-05-14 02:17:41,771 - lib.image_processor - INFO - Imagen 3 guardada como 'img_3_f5bc9928_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (1049210 bytes)
2025-05-14 02:17:41,884 - lib.image_processor - INFO - Progreso descarga imágenes: 10/12 en 7.00 seg.
2025-05-14 02:17:43,368 - lib.image_processor - INFO - Imagen 1 guardada como 'img_1_bd4e765a_16042025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\16042025 (2109336 bytes)
2025-05-14 02:17:43,655 - lib.image_processor - INFO - Progreso descarga imágenes: 12/12 en 8.77 seg.
2025-05-14 02:17:43,659 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_16042025.json
2025-05-14 02:17:43,659 - lib.image_processor - INFO - Descarga de imágenes completada para 12/12 URLs en 8.77 segundos.
2025-05-14 02:17:43,660 - main_orchestrator - INFO - Descarga de imágenes completada en 8.77 seg.
2025-05-14 02:17:43,660 - lib.history_tracker - INFO - Añadidas 12 nuevas URLs al historial.
2025-05-14 02:17:43,661 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 12 URLs.
2025-05-14 02:17:43,662 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-14 02:17:43,663 - lib.html_scraper - INFO - Iniciando scraping paralelo de 33 URLs...
2025-05-14 02:17:50,058 - lib.html_scraper - INFO - Progreso: 20/33 URLs procesadas en 6.40 seg.
2025-05-14 02:18:05,448 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=3, read=2, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='lahora.pe', port=443): Read timed out. (read timeout=20)")': /ultimas-noticias/no-al-alza-en-recibos-de-agua-piura-ciudadanos-rechazan-posible-alza-en-la-tarifa-del-agua/
2025-05-14 02:18:07,842 - lib.html_scraper - INFO - Progreso: 33/33 URLs procesadas en 24.18 seg.
2025-05-14 02:18:07,842 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_16042025.json
2025-05-14 02:18:07,842 - lib.html_scraper - INFO - Scraping completado para 33/33 URLs en 24.18 segundos.
2025-05-14 02:18:07,842 - lib.html_scraper - INFO - Resultados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_16042025.json
2025-05-14 02:18:07,851 - main_orchestrator - INFO - Scraping HTML completado en 24.19 seg.
2025-05-14 02:18:07,851 - lib.history_tracker - INFO - Añadidas 31 nuevas URLs al historial.
2025-05-14 02:18:07,853 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 43 URLs.
2025-05-14 02:18:07,854 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-14 02:18:07,855 - lib.image_processor - WARNING - Cliente API no inicializado. Saltando procesamiento de texto de imágenes.
2025-05-14 02:18:07,855 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 0.00 seg.
2025-05-14 02:18:07,855 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-14 02:18:07,855 - main_orchestrator - INFO - Leyendo archivo social para la fecha 16042025: social_links_16042025_unprocessed.json
2025-05-14 02:18:07,856 - main_orchestrator - INFO - Encontradas 9 URLs de Facebook para procesar
2025-05-14 02:18:07,856 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output
2025-05-14 02:18:07,856 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 9 URLs de Facebook para la fecha 16042025...
2025-05-14 02:18:07,856 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/watch/?mibextid=wwXIfr&v=3007796432728360&rdid=dwTFhLT54rEu7lo1
2025-05-14 02:18:07,856 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/permalink.php?story_fbid=pfbid09ACxxwnwvhgHhbqkGtJUuECu47dMTUFvPWAfCeP7tFNBhh7M9mdYm5SVfb2rtsDPl&id=100063616446639
2025-05-14 02:18:07,856 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/permalink.php?story_fbid=pfbid0gx7Pg2NrMZca5bR3hwTVSh6FSZuDwqa2fesjxWk7KCiUni3vohjaSj6fW4M3MUKkl&id=100065273659654
2025-05-14 02:18:07,862 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/permalink.php?story_fbid=pfbid0d1rwcSyt4kFugPvuGnZUvZE7nbwY34VvAXYZk54edPc2mJgs2dEXcDCwjqhexj1pl&id=100064089484737
2025-05-14 02:18:07,863 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/permalink.php?story_fbid=pfbid02z62m7HKa1tBsxHC9YHA2TuS2Bc5twqTBf9PANRUXvgffgrhDdnuGXJQuBNhf8SuMl&id=61559613183648
2025-05-14 02:18:32,794 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-4.pdf
2025-05-14 02:18:36,128 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-2.pdf
2025-05-14 02:18:37,907 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/permalink.php?story_fbid=pfbid02jjxa5vMavsFyt2VVpMfg7aLimbMDQw21agnBHdsiyWfSL6BomtXekrcmNyiKkviNl&id=100062993063417
2025-05-14 02:18:38,405 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-3.pdf
2025-05-14 02:18:38,764 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-1.pdf
2025-05-14 02:18:39,720 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-5.pdf
2025-05-14 02:18:40,027 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/permalink.php?story_fbid=pfbid02ozZBtnBo2bLjaHnXZ4TTZygwN3fjLhwdZEwab7R7vyUj8k8DKoUsC4rey5YfaEbel&id=100072108931277
2025-05-14 02:18:42,286 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/share/v/15kkoxxenF/
2025-05-14 02:18:43,329 - lib.facebook_processor - INFO - Procesando URL de Facebook (9): https://www.facebook.com/larepublicanorte/posts/980634487518628
2025-05-14 02:18:43,773 - lib.facebook_processor - INFO - Progreso Facebook: 5/9 en 35.92 seg.
2025-05-14 02:18:52,953 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-6.pdf
2025-05-14 02:18:56,266 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-7.pdf
2025-05-14 02:19:01,009 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-9.pdf
2025-05-14 02:19:07,951 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-8.pdf
2025-05-14 02:19:11,744 - lib.facebook_processor - INFO - Progreso Facebook: 9/9 en 63.89 seg.
2025-05-14 02:19:11,746 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_results_16042025.json
2025-05-14 02:19:11,748 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 9/9 exitosos en 63.89 segundos.
2025-05-14 02:19:11,750 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 63.89 seg.
2025-05-14 02:19:11,751 - lib.history_tracker - INFO - Añadidas 9 nuevas URLs al historial.
2025-05-14 02:19:11,752 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 52 URLs.
2025-05-14 02:19:11,753 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-14 02:19:12,421 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-4.pdf
2025-05-14 02:19:13,152 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-2.pdf
2025-05-14 02:19:13,878 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-3.pdf
2025-05-14 02:19:14,035 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-1.pdf
2025-05-14 02:19:14,742 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-5.pdf
2025-05-14 02:19:15,416 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-6.pdf
2025-05-14 02:19:16,123 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-7.pdf
2025-05-14 02:19:16,845 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-9.pdf
2025-05-14 02:19:16,906 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\16042025\16042025-8.pdf
2025-05-14 02:19:16,906 - lib.facebook_processor - INFO - Texto extraído de 9 PDFs de Facebook
2025-05-14 02:19:16,907 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 5.15 seg.
2025-05-14 02:19:16,907 - main_orchestrator - INFO - Texto extraído de 9 PDFs de Facebook
2025-05-14 02:19:16,908 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_16042025.json
2025-05-14 02:19:16,909 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_16042025.json
2025-05-14 02:19:16,909 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-14 02:19:16,909 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_16042025.json
2025-05-14 02:19:16,910 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_16042025.json
2025-05-14 02:19:16,910 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:19:16.909908', 'date_processed': '16042025', 'total_urls_in_pdf': 59, 'new_urls_processed_count': 59, 'history_total_urls': 52, 'categories': {'html': 33, 'images': 12, 'social': 14}, 'html_processing': {'attempted': 33, 'processed': 31, 'successful': 31, 'relevant (>=0.3)': 17, 'average_relevance': 0.48387096774193544}, 'image_processing': {'attempted_download': 12, 'successful_download': 12, 'attempted_api': 12, 'successful_api': 0}, 'facebook_processing': {'attempted': 9, 'successful': 9, 'extracted_texts': 9}, 'timings_seconds': {'pdf_extraction': 0.1, 'pdf_text_extraction': 5.15, 'image_download': 8.77, 'html_scraping': 24.19, 'image_api': 0.0, 'facebook_processing': 63.89, 'facebook_text_extraction': 5.15, 'stats_consolidation': 0.0}}
2025-05-14 02:19:16,911 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-14 02:19:16,911 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-14 02:19:16,912 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_16042025\pdf_text_16042025.json
2025-05-14 02:19:16,918 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_16042025.json
2025-05-14 02:19:16,919 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_16042025.json
2025-05-14 02:19:16,919 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-14 02:19:16,942 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-14 02:19:16,942 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-14 02:19:16,942 - semantic_cleaner - INFO - Extraídos 6 textos de PDF
2025-05-14 02:19:16,942 - semantic_cleaner - INFO - Extraídos 31 textos de HTML
2025-05-14 02:19:16,942 - semantic_cleaner - INFO - Extraídos 0 textos de imágenes
2025-05-14 02:19:16,942 - semantic_cleaner - INFO - Extraídos 9 textos de Facebook
2025-05-14 02:19:23,516 - semantic_cleaner - INFO - Se identificaron 46 grupos de textos similares
2025-05-14 02:19:23,516 - semantic_cleaner - INFO - Se seleccionaron 46 textos representativos
2025-05-14 02:19:23,516 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-14 02:19:23,517 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_16042025.json
2025-05-14 02:19:23,517 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_16042025.json
2025-05-14 02:19:23,520 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_16042025.md
2025-05-14 02:19:23,528 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_16042025.md
2025-05-14 02:19:23,529 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_16042025.json
2025-05-14 02:19:23,529 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_16042025.json
2025-05-14 02:19:23,529 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:19:16.909908', 'date_processed': '16042025', 'total_urls_in_pdf': 59, 'new_urls_processed_count': 59, 'history_total_urls': 52, 'categories': {'html': 33, 'images': 12, 'social': 14}, 'html_processing': {'attempted': 33, 'processed': 31, 'successful': 31, 'relevant (>=0.3)': 17, 'average_relevance': 0.48387096774193544}, 'image_processing': {'attempted_download': 12, 'successful_download': 12, 'attempted_api': 12, 'successful_api': 0}, 'facebook_processing': {'attempted': 9, 'successful': 9, 'extracted_texts': 9}, 'timings_seconds': {'pdf_extraction': 0.1, 'pdf_text_extraction': 5.15, 'image_download': 8.77, 'html_scraping': 24.19, 'image_api': 0.0, 'facebook_processing': 63.89, 'facebook_text_extraction': 5.15, 'stats_consolidation': 0.0, 'semantic_cleaning': 6.61}}
2025-05-14 02:19:23,532 - main_orchestrator - INFO - Limpieza semántica completada en 6.61 seg.
2025-05-14 02:19:23,532 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-14 02:19:23,532 - facebook_extractor_fix - ERROR - No se encontró el archivo de textos de Facebook: C:\Jerson\SUNASS\2025\5_May\output\facebook_texts_16042025.json
2025-05-14 02:19:23,532 - main_orchestrator - WARNING - No se pudieron integrar los textos de Facebook en archivos limpios
2025-05-14 02:19:23,532 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-14 02:19:23,532 - main_orchestrator - INFO - ==================================================
2025-05-14 02:19:23,532 - main_orchestrator - INFO - PIPELINE FINALIZADO en 108.80 segundos.
2025-05-14 02:19:23,532 - main_orchestrator - INFO - ==================================================
2025-05-14 02:41:00,943 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-14 02:41:00,943 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-14 02:41:00,943 - main_orchestrator - INFO - Se usará la fecha proporcionada: 06052025
2025-05-14 02:41:00,943 - main_orchestrator - INFO - ==================================================
2025-05-14 02:41:00,943 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-14 02:41:00,943 - main_orchestrator - INFO - Usando fecha: 06052025
2025-05-14 02:41:00,943 - main_orchestrator - INFO - ==================================================
2025-05-14 02:41:00,943 - lib.config_manager - INFO - Configuración cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\config.yaml
2025-05-14 02:41:00,963 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\credentials/api_keys.yaml
2025-05-14 02:41:00,964 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-14 02:41:00,965 - lib.history_tracker - INFO - Historial cargado desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 52 URLs.
2025-05-14 02:41:00,965 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-14 02:41:00,965 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-14 02:41:00,966 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-14 02:41:00,966 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-14 02:41:00,966 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-14 02:41:00,966 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-14 02:41:00,997 - lib.pdf_processor - INFO - Abriendo PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:41:01,102 - lib.pdf_processor - INFO - Se extrajeron 57 enlaces URI (no mailto) de 06052025.pdf.
2025-05-14 02:41:01,102 - main_orchestrator - INFO - PDF procesado en 0.14 seg. Enlaces encontrados: 57
2025-05-14 02:41:01,107 - lib.file_manager - INFO - Datos guardados en CSV: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\In\links_extracted_06052025.csv
2025-05-14 02:41:01,107 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-14 02:41:01,110 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:41:01,130 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:41:01,130 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 4 párrafos
2025-05-14 02:41:01,130 - main_orchestrator - INFO - Texto del PDF extraído en 0.02 seg. Guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:41:01,130 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-14 02:41:01,130 - main_orchestrator - INFO - URLs nuevas para procesar: 57 (de 57 total)
2025-05-14 02:41:01,130 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-14 02:41:01,130 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-14 02:41:01,130 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-14 02:41:01,130 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-14 02:41:01,130 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-14 02:41:01,134 - lib.url_manager - INFO - Clasificación de 57 URLs:
2025-05-14 02:41:01,134 - lib.url_manager - INFO -  - HTML: 21
2025-05-14 02:41:01,134 - lib.url_manager - INFO -  - IMAGES: 6
2025-05-14 02:41:01,134 - lib.url_manager - INFO -  - SOCIAL: 30
2025-05-14 02:41:01,134 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_06052025_unprocessed.json
2025-05-14 02:41:01,136 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Social\social_links_06052025_unprocessed.json
2025-05-14 02:41:01,136 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-14 02:41:01,136 - lib.image_processor - INFO - Iniciando descarga paralela de 6 imágenes para la fecha 06052025...
2025-05-14 02:41:02,155 - lib.image_processor - WARNING - URL https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-C4-ANIEGO-EN-VENTANILLA-AFECTO-A-COLEGIO-PRIMERA-EDICION.mp4 contiene video/mp4, no una imagen. Se registrará como tipo no válido.
2025-05-14 02:41:02,171 - lib.image_processor - WARNING - URL https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-EXITOSA-ANIEGO-EN-AV-TOMAS-VALLE-EN-EL-CALLAO.mp3 contiene audio/mpeg, no una imagen. Se registrará como tipo no válido.
2025-05-14 02:41:03,102 - lib.image_processor - INFO - Imagen 4 guardada como 'img_4_9e84a0e9_06052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (331801 bytes)
2025-05-14 02:41:04,722 - lib.image_processor - INFO - Imagen 5 guardada como 'img_5_391db554_06052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (936303 bytes)
2025-05-14 02:41:05,205 - lib.image_processor - INFO - Imagen 6 guardada como 'img_6_c180ea3a_06052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (1122167 bytes)
2025-05-14 02:41:05,250 - lib.image_processor - INFO - Imagen 3 guardada como 'img_3_7b273d74_06052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (858252 bytes)
2025-05-14 02:41:07,731 - lib.image_processor - INFO - Imagen 2 guardada como 'img_2_c92d4982_06052025.mp3' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (1604336 bytes)
2025-05-14 02:41:08,158 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-EXITOSA-ANIEGO-EN-AV-TOMAS-VALLE-EN-EL-CALLAO.mp3: Content type 'audio/mpeg' is not an image
2025-05-14 02:41:49,214 - lib.image_processor - INFO - Imagen 1 guardada como 'img_1_be57c13d_06052025.mp4' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025 (34572743 bytes)
2025-05-14 02:41:49,995 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-C4-ANIEGO-EN-VENTANILLA-AFECTO-A-COLEGIO-PRIMERA-EDICION.mp4: Content type 'video/mp4' is not an image
2025-05-14 02:41:49,995 - lib.image_processor - INFO - Progreso descarga imágenes: 6/6 en 48.86 seg.
2025-05-14 02:41:49,995 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_06052025.json
2025-05-14 02:41:49,995 - lib.image_processor - INFO - Descarga de imágenes completada para 6/6 URLs en 48.86 segundos.
2025-05-14 02:41:49,995 - main_orchestrator - INFO - Descarga de imágenes completada en 48.86 seg.
2025-05-14 02:41:49,995 - lib.history_tracker - INFO - Añadidas 6 nuevas URLs al historial.
2025-05-14 02:41:49,995 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 58 URLs.
2025-05-14 02:41:49,995 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-14 02:41:49,995 - lib.html_scraper - INFO - Iniciando scraping paralelo de 21 URLs...
2025-05-14 02:41:59,281 - lib.html_scraper - INFO - Progreso: 20/21 URLs procesadas en 9.29 seg.
2025-05-14 02:41:59,594 - lib.html_scraper - INFO - Progreso: 21/21 URLs procesadas en 9.60 seg.
2025-05-14 02:41:59,604 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_06052025.json
2025-05-14 02:41:59,613 - lib.html_scraper - INFO - Scraping completado para 21/21 URLs en 9.61 segundos.
2025-05-14 02:41:59,613 - lib.html_scraper - INFO - Resultados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_06052025.json
2025-05-14 02:41:59,613 - main_orchestrator - INFO - Scraping HTML completado en 9.62 seg.
2025-05-14 02:41:59,613 - lib.history_tracker - INFO - Añadidas 20 nuevas URLs al historial.
2025-05-14 02:41:59,616 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 78 URLs.
2025-05-14 02:41:59,616 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-14 02:42:02,458 - lib.api_client - INFO - Texto extraído de tmp2sotv_rd.jpg (4 chars).
2025-05-14 02:42:02,458 - lib.image_processor - INFO - Procesando 6 imágenes con API (batch_size=3, pausa=60s)
2025-05-14 02:42:02,458 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-14 02:42:02,458 - lib.image_processor - INFO - Procesando imagen con API: img_4_9e84a0e9_06052025.jpg
2025-05-14 02:42:15,671 - lib.api_client - INFO - Texto extraído de img_4_9e84a0e9_06052025.jpg (3033 chars).
2025-05-14 02:42:17,869 - lib.image_processor - INFO - Imagen procesada exitosamente: img_4_9e84a0e9_06052025.jpg
2025-05-14 02:42:18,774 - lib.image_processor - INFO - Procesando imagen con API: img_5_391db554_06052025.jpg
2025-05-14 02:42:39,742 - lib.api_client - INFO - Texto extraído de img_5_391db554_06052025.jpg (4526 chars).
2025-05-14 02:42:41,984 - lib.image_processor - INFO - Imagen procesada exitosamente: img_5_391db554_06052025.jpg
2025-05-14 02:42:42,728 - lib.image_processor - INFO - Procesando imagen con API: img_3_7b273d74_06052025.jpg
2025-05-14 02:43:01,354 - lib.api_client - INFO - Texto extraído de img_3_7b273d74_06052025.jpg (3842 chars).
2025-05-14 02:43:02,725 - lib.image_processor - INFO - Imagen procesada exitosamente: img_3_7b273d74_06052025.jpg
2025-05-14 02:43:03,332 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-14 02:44:03,334 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-14 02:44:03,335 - lib.image_processor - INFO - Procesando imagen con API: img_6_c180ea3a_06052025.jpg
2025-05-14 02:44:36,992 - lib.api_client - INFO - Texto extraído de img_6_c180ea3a_06052025.jpg (9639 chars).
2025-05-14 02:44:39,706 - lib.image_processor - INFO - Imagen procesada exitosamente: img_6_c180ea3a_06052025.jpg
2025-05-14 02:44:40,460 - lib.image_processor - INFO - Procesando imagen con API: img_2_c92d4982_06052025.mp3
2025-05-14 02:44:40,554 - lib.image_processor - WARNING - Archivo no es una imagen válida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\img_2_c92d4982_06052025.mp3 (formato detectado: None)
2025-05-14 02:44:40,554 - lib.image_processor - WARNING - Error procesando imagen img_2_c92d4982_06052025.mp3: File is not a valid image
2025-05-14 02:44:41,163 - lib.image_processor - INFO - Procesando imagen con API: img_1_be57c13d_06052025.mp4
2025-05-14 02:44:41,165 - lib.image_processor - WARNING - Archivo demasiado grande para procesar eficientemente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\img_1_be57c13d_06052025.mp4 (32.97 MB)
2025-05-14 02:44:41,166 - lib.image_processor - WARNING - Error procesando imagen img_1_be57c13d_06052025.mp4: Image file too large
2025-05-14 02:44:42,147 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\texto_imagenes_api.json
2025-05-14 02:44:42,147 - lib.image_processor - INFO - Resultados de API guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\texto_imagenes_api.json
2025-05-14 02:44:42,147 - lib.image_processor - INFO - Procesamiento API completado para 4/6 imágenes en 159.69 segundos.
2025-05-14 02:44:42,147 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 162.53 seg.
2025-05-14 02:44:42,147 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-14 02:44:42,147 - main_orchestrator - INFO - Leyendo archivo social para la fecha 06052025: social_links_06052025_unprocessed.json
2025-05-14 02:44:42,147 - main_orchestrator - INFO - Encontradas 30 URLs de Facebook para procesar
2025-05-14 02:44:42,147 - main_orchestrator - INFO - Creado directorio para PDFs: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025
2025-05-14 02:44:42,152 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output
2025-05-14 02:44:42,152 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 30 URLs de Facebook para la fecha 06052025...
2025-05-14 02:44:42,152 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/share/p/1AVpMfDczs/
2025-05-14 02:44:42,152 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/share/p/15kUeKXC6H/
2025-05-14 02:44:42,154 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/share/p/15qghShx33/
2025-05-14 02:44:42,157 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/share/p/1F8gx4wghr/
2025-05-14 02:44:42,160 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/100066732634603/posts/1028868266014252/?rdid=0TcKPOXhtH3yWKZy
2025-05-14 02:45:15,707 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-3.pdf
2025-05-14 02:45:16,234 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-4.pdf
2025-05-14 02:45:16,762 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-5.pdf
2025-05-14 02:45:17,321 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-2.pdf
2025-05-14 02:45:18,115 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-1.pdf
2025-05-14 02:45:19,964 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/share/v/1XctzAahok/
2025-05-14 02:45:20,079 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/share/p/192GFaU29S/
2025-05-14 02:45:21,064 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/share/p/1EhkoFiaV2/
2025-05-14 02:45:22,393 - lib.facebook_processor - INFO - Procesando URL de Facebook (9): https://www.facebook.com/share/1BocxKr6Qn/
2025-05-14 02:45:23,310 - lib.facebook_processor - INFO - Progreso Facebook: 5/30 en 41.16 seg.
2025-05-14 02:45:23,310 - lib.facebook_processor - INFO - Procesando URL de Facebook (10): https://www.facebook.com/share/p/15hTeYeevY/
2025-05-14 02:45:36,834 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-7.pdf
2025-05-14 02:45:40,734 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-8.pdf
2025-05-14 02:45:41,862 - lib.facebook_processor - INFO - Procesando URL de Facebook (11): https://www.facebook.com/share/p/1HKaVAnoJ2/
2025-05-14 02:45:44,372 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-6.pdf
2025-05-14 02:45:44,987 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-9.pdf
2025-05-14 02:45:45,314 - lib.facebook_processor - INFO - Procesando URL de Facebook (12): https://www.facebook.com/share/p/1BHpQk4mih/
2025-05-14 02:45:47,647 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-10.pdf
2025-05-14 02:45:48,496 - lib.facebook_processor - INFO - Procesando URL de Facebook (13): https://www.facebook.com/share/p/19dJjceBSW/
2025-05-14 02:45:49,233 - lib.facebook_processor - INFO - Procesando URL de Facebook (14): https://www.facebook.com/share/p/19dJjceBSW/
2025-05-14 02:45:51,737 - lib.facebook_processor - INFO - Progreso Facebook: 10/30 en 69.59 seg.
2025-05-14 02:45:51,739 - lib.facebook_processor - INFO - Procesando URL de Facebook (15): https://www.facebook.com/share/p/1AFoGitX4y/
2025-05-14 02:45:59,655 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-11.pdf
2025-05-14 02:46:02,175 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-12.pdf
2025-05-14 02:46:03,922 - lib.facebook_processor - INFO - Procesando URL de Facebook (16): https://www.facebook.com/share/p/18sg1mx7nx/
2025-05-14 02:46:07,308 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-13.pdf
2025-05-14 02:46:07,607 - lib.facebook_processor - INFO - Procesando URL de Facebook (17): https://www.facebook.com/share/p/1AF49nK1oy/
2025-05-14 02:46:10,992 - lib.facebook_processor - INFO - Procesando URL de Facebook (18): https://www.facebook.com/share/p/199xMHfuQ1/
2025-05-14 02:46:11,256 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-14.pdf
2025-05-14 02:46:14,147 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-15.pdf
2025-05-14 02:46:15,116 - lib.facebook_processor - INFO - Procesando URL de Facebook (19): https://www.facebook.com/share/p/199xMHfuQ1/
2025-05-14 02:46:21,008 - lib.facebook_processor - INFO - Procesando URL de Facebook (20): https://www.facebook.com/share/p/16NkHjJEFu/
2025-05-14 02:46:21,008 - lib.facebook_processor - INFO - Progreso Facebook: 15/30 en 98.86 seg.
2025-05-14 02:46:26,421 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-16.pdf
2025-05-14 02:46:30,766 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-18.pdf
2025-05-14 02:46:31,508 - lib.facebook_processor - INFO - Procesando URL de Facebook (21): https://www.facebook.com/share/p/1BWGygN4TC/
2025-05-14 02:46:31,786 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-17.pdf
2025-05-14 02:46:33,973 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-19.pdf
2025-05-14 02:46:35,164 - lib.facebook_processor - INFO - Procesando URL de Facebook (22): https://www.facebook.com/share/p/1Sjz8hsc8Y/
2025-05-14 02:46:36,809 - lib.facebook_processor - INFO - Procesando URL de Facebook (23): https://www.facebook.com/share/p/1JjuDqfNCm/
2025-05-14 02:46:37,588 - lib.facebook_processor - INFO - Procesando URL de Facebook (24): https://www.facebook.com/share/p/1Bf7UDZiQk/
2025-05-14 02:46:41,175 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-20.pdf
2025-05-14 02:46:46,231 - lib.facebook_processor - INFO - Progreso Facebook: 20/30 en 124.08 seg.
2025-05-14 02:46:46,232 - lib.facebook_processor - INFO - Procesando URL de Facebook (25): https://www.facebook.com/share/p/1Bf7UDZiQk/
2025-05-14 02:46:49,064 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-21.pdf
2025-05-14 02:46:54,676 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-22.pdf
2025-05-14 02:46:55,698 - lib.facebook_processor - INFO - Procesando URL de Facebook (26): https://www.facebook.com/story.php?story_fbid=1196662068921517&id=100057332054648&rdid=jk2mBuzI4yy4LORe
2025-05-14 02:46:58,741 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-23.pdf
2025-05-14 02:46:58,803 - lib.facebook_processor - INFO - Procesando URL de Facebook (27): https://www.facebook.com/story.php?story_fbid=1242392167888479&id=100063531222092&rdid=RHrPxg3nx2KofPcH
2025-05-14 02:47:02,375 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-24.pdf
2025-05-14 02:47:03,100 - lib.facebook_processor - INFO - Procesando URL de Facebook (28): https://www.facebook.com/share/p/15VZ5ExH6Q/
2025-05-14 02:47:07,052 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-25.pdf
2025-05-14 02:47:07,081 - lib.facebook_processor - INFO - Procesando URL de Facebook (29): https://www.facebook.com/share/p/1Edis5Q4Wn/
2025-05-14 02:47:12,376 - lib.facebook_processor - INFO - Procesando URL de Facebook (30): https://www.facebook.com/share/p/1Edis5Q4Wn/
2025-05-14 02:47:12,376 - lib.facebook_processor - INFO - Progreso Facebook: 25/30 en 150.22 seg.
2025-05-14 02:47:15,384 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-26.pdf
2025-05-14 02:47:16,573 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-27.pdf
2025-05-14 02:47:20,792 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-28.pdf
2025-05-14 02:47:24,633 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-29.pdf
2025-05-14 02:47:31,038 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-30.pdf
2025-05-14 02:47:35,776 - lib.facebook_processor - INFO - Progreso Facebook: 30/30 en 173.62 seg.
2025-05-14 02:47:35,777 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_results_06052025.json
2025-05-14 02:47:35,777 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 26/30 exitosos en 173.62 segundos.
2025-05-14 02:47:35,777 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 173.63 seg.
2025-05-14 02:47:35,777 - lib.history_tracker - INFO - Añadidas 26 nuevas URLs al historial.
2025-05-14 02:47:35,777 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 104 URLs.
2025-05-14 02:47:35,777 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-14 02:47:36,468 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-3.pdf
2025-05-14 02:47:36,682 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-5.pdf
2025-05-14 02:47:37,452 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-4.pdf
2025-05-14 02:47:38,102 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-1.pdf
2025-05-14 02:47:38,841 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-2.pdf
2025-05-14 02:47:39,081 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-7.pdf
2025-05-14 02:47:39,383 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-8.pdf
2025-05-14 02:47:39,532 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-6.pdf
2025-05-14 02:47:39,695 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-9.pdf
2025-05-14 02:47:39,826 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-10.pdf
2025-05-14 02:47:39,984 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-11.pdf
2025-05-14 02:47:40,126 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-12.pdf
2025-05-14 02:47:40,830 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-14.pdf
2025-05-14 02:47:41,617 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-15.pdf
2025-05-14 02:47:41,771 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-16.pdf
2025-05-14 02:47:41,920 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-19.pdf
2025-05-14 02:47:42,066 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-17.pdf
2025-05-14 02:47:42,220 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-20.pdf
2025-05-14 02:47:42,421 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-21.pdf
2025-05-14 02:47:42,590 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-22.pdf
2025-05-14 02:47:43,259 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-23.pdf
2025-05-14 02:47:43,519 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-25.pdf
2025-05-14 02:47:43,596 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-26.pdf
2025-05-14 02:47:43,673 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-27.pdf
2025-05-14 02:47:44,384 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-28.pdf
2025-05-14 02:47:44,555 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-30.pdf
2025-05-14 02:47:44,555 - lib.facebook_processor - INFO - Texto extraído de 26 PDFs de Facebook
2025-05-14 02:47:44,555 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 8.78 seg.
2025-05-14 02:47:44,555 - main_orchestrator - INFO - Texto extraído de 26 PDFs de Facebook
2025-05-14 02:47:44,555 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_06052025.json
2025-05-14 02:47:44,555 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_06052025.json
2025-05-14 02:47:44,555 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-14 02:47:44,565 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:47:44,566 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:47:44,567 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:47:44.555435', 'date_processed': '06052025', 'total_urls_in_pdf': 57, 'new_urls_processed_count': 57, 'history_total_urls': 104, 'categories': {'html': 21, 'images': 6, 'social': 30}, 'html_processing': {'attempted': 21, 'processed': 20, 'successful': 20, 'relevant (>=0.3)': 13, 'average_relevance': 0.55}, 'image_processing': {'attempted_download': 6, 'successful_download': 4, 'attempted_api': 4, 'successful_api': 4}, 'facebook_processing': {'attempted': 30, 'successful': 26, 'extracted_texts': 26}, 'timings_seconds': {'pdf_extraction': 0.14, 'pdf_text_extraction': 8.78, 'image_download': 48.86, 'html_scraping': 9.62, 'image_api': 162.53, 'facebook_processing': 173.63, 'facebook_text_extraction': 8.78, 'stats_consolidation': 0.0}}
2025-05-14 02:47:44,567 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-14 02:47:44,568 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-14 02:47:44,569 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:47:44,571 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_06052025.json
2025-05-14 02:47:44,571 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_06052025.json
2025-05-14 02:47:44,571 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-14 02:47:44,605 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-14 02:47:44,614 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-14 02:47:44,615 - semantic_cleaner - INFO - Extraídos 4 textos de PDF
2025-05-14 02:47:44,615 - semantic_cleaner - INFO - Extraídos 20 textos de HTML
2025-05-14 02:47:44,616 - main_orchestrator - ERROR - Error durante la limpieza semántica: 'list' object has no attribute 'items'
Traceback (most recent call last):
  File "C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\main3.py", line 637, in run_pipeline
    cleaned_json = cleaner.clean_consolidated_json(json_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\semantic_cleaner\semantic_cleaner.py", line 338, in clean_consolidated_json
    image_texts = self._extract_texts_from_images(image_data)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\semantic_cleaner\semantic_cleaner.py", line 121, in _extract_texts_from_images
    for image_key, image_info in image_data.items():
                                 ^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'items'
2025-05-14 02:47:44,621 - main_orchestrator - WARNING - La limpieza semántica falló, pero el proceso principal continúa.
2025-05-14 02:47:44,621 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-14 02:47:44,621 - main_orchestrator - INFO - ==================================================
2025-05-14 02:47:44,621 - main_orchestrator - INFO - PIPELINE FINALIZADO en 403.68 segundos.
2025-05-14 02:47:44,621 - main_orchestrator - INFO - ==================================================
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Se usará la fecha proporcionada: 06052025
2025-05-14 02:57:40,290 - main_orchestrator - INFO - ==================================================
2025-05-14 02:57:40,290 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Usando fecha: 06052025
2025-05-14 02:57:40,290 - main_orchestrator - INFO - ==================================================
2025-05-14 02:57:40,290 - lib.config_manager - INFO - Configuración cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\config.yaml
2025-05-14 02:57:40,290 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\credentials/api_keys.yaml
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-14 02:57:40,290 - lib.history_tracker - INFO - Historial cargado desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 104 URLs.
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-14 02:57:40,290 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-14 02:57:40,290 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-14 02:57:40,290 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-14 02:57:40,290 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-14 02:57:40,290 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-14 02:57:40,296 - lib.pdf_processor - INFO - Abriendo PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:57:40,391 - lib.pdf_processor - INFO - Se extrajeron 57 enlaces URI (no mailto) de 06052025.pdf.
2025-05-14 02:57:40,391 - main_orchestrator - INFO - PDF procesado en 0.10 seg. Enlaces encontrados: 57
2025-05-14 02:57:40,399 - lib.file_manager - INFO - Datos guardados en CSV: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\In\links_extracted_06052025.csv
2025-05-14 02:57:40,399 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-14 02:57:40,400 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:57:40,416 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:57:40,416 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 4 párrafos
2025-05-14 02:57:40,416 - main_orchestrator - INFO - Texto del PDF extraído en 0.02 seg. Guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:57:40,416 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-14 02:57:40,416 - lib.history_tracker - INFO - Filtradas 57 URLs ya procesadas del lote actual.
2025-05-14 02:57:40,416 - main_orchestrator - INFO - URLs nuevas para procesar: 0 (de 57 total)
2025-05-14 02:57:40,416 - main_orchestrator - INFO - No hay URLs nuevas para procesar en esta ejecución.
2025-05-14 02:57:40,417 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:57:40,417 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:57:40,417 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:57:40.416852', 'date_processed': '06052025', 'total_urls_in_pdf': 57, 'new_urls_processed_count': 0, 'history_total_urls': 104, 'info': 'No new URLs to process in this run.'}
2025-05-14 02:57:40,417 - main_orchestrator - INFO - Estadísticas guardadas en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:57:40,417 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-14 02:57:40,417 - main_orchestrator - INFO - ==================================================
2025-05-14 02:57:40,417 - main_orchestrator - INFO - PIPELINE FINALIZADO en 0.13 segundos.
2025-05-14 02:57:40,417 - main_orchestrator - INFO - ==================================================
2025-05-14 02:58:11,770 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Se usará la fecha proporcionada: 06052025
2025-05-14 02:58:11,778 - main_orchestrator - INFO - ==================================================
2025-05-14 02:58:11,778 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Usando fecha: 06052025
2025-05-14 02:58:11,778 - main_orchestrator - INFO - ==================================================
2025-05-14 02:58:11,778 - lib.config_manager - INFO - Configuración cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\config.yaml
2025-05-14 02:58:11,778 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\credentials/api_keys.yaml
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-14 02:58:11,778 - lib.history_tracker - INFO - Archivo de historial no encontrado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json. Se creará uno nuevo al guardar.
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-14 02:58:11,778 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-14 02:58:11,778 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-14 02:58:11,778 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-14 02:58:11,778 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-14 02:58:11,778 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-14 02:58:11,778 - lib.pdf_processor - INFO - Abriendo PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:58:11,874 - lib.pdf_processor - INFO - Se extrajeron 57 enlaces URI (no mailto) de 06052025.pdf.
2025-05-14 02:58:11,874 - main_orchestrator - INFO - PDF procesado en 0.10 seg. Enlaces encontrados: 57
2025-05-14 02:58:11,884 - lib.file_manager - INFO - Datos guardados en CSV: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\In\links_extracted_06052025.csv
2025-05-14 02:58:11,884 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-14 02:58:11,885 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025.pdf (4 páginas)
2025-05-14 02:58:11,903 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:58:11,903 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 4 párrafos
2025-05-14 02:58:11,903 - main_orchestrator - INFO - Texto del PDF extraído en 0.02 seg. Guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:58:11,903 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-14 02:58:11,903 - main_orchestrator - INFO - URLs nuevas para procesar: 57 (de 57 total)
2025-05-14 02:58:11,903 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-14 02:58:11,903 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-14 02:58:11,904 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-14 02:58:11,904 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-14 02:58:11,904 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-14 02:58:11,905 - lib.url_manager - INFO - Clasificación de 57 URLs:
2025-05-14 02:58:11,905 - lib.url_manager - INFO -  - HTML: 21
2025-05-14 02:58:11,905 - lib.url_manager - INFO -  - IMAGES: 6
2025-05-14 02:58:11,906 - lib.url_manager - INFO -  - SOCIAL: 30
2025-05-14 02:58:11,906 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_06052025_unprocessed.json
2025-05-14 02:58:11,907 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Social\social_links_06052025_unprocessed.json
2025-05-14 02:58:11,907 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-14 02:58:11,907 - lib.image_processor - INFO - Iniciando descarga paralela de 6 imágenes para la fecha 06052025...
2025-05-14 02:58:11,923 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-C4-ANIEGO-EN-VENTANILLA-AFECTO-A-COLEGIO-PRIMERA-EDICION.mp4: Content type 'video/mp4' is not an image
2025-05-14 02:58:11,926 - lib.image_processor - WARNING - Error procesando imagen https://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-EXITOSA-ANIEGO-EN-AV-TOMAS-VALLE-EN-EL-CALLAO.mp3: Content type 'audio/mpeg' is not an image
2025-05-14 02:58:11,930 - lib.image_processor - INFO - Progreso descarga imágenes: 6/6 en 0.02 seg.
2025-05-14 02:58:11,931 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_06052025.json
2025-05-14 02:58:11,932 - lib.image_processor - INFO - Descarga de imágenes completada para 6/6 URLs en 0.03 segundos.
2025-05-14 02:58:11,932 - main_orchestrator - INFO - Descarga de imágenes completada en 0.03 seg.
2025-05-14 02:58:11,932 - lib.history_tracker - INFO - Añadidas 6 nuevas URLs al historial.
2025-05-14 02:58:11,932 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 6 URLs.
2025-05-14 02:58:11,933 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-14 02:58:11,933 - lib.html_scraper - INFO - Iniciando scraping paralelo de 21 URLs...
2025-05-14 02:58:12,021 - lib.html_scraper - INFO - Progreso: 20/21 URLs procesadas en 0.09 seg.
2025-05-14 02:58:12,021 - lib.html_scraper - INFO - Progreso: 21/21 URLs procesadas en 0.09 seg.
2025-05-14 02:58:12,026 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_06052025.json
2025-05-14 02:58:12,026 - lib.html_scraper - INFO - Scraping completado para 21/21 URLs en 0.09 segundos.
2025-05-14 02:58:12,026 - lib.html_scraper - INFO - Resultados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_06052025.json
2025-05-14 02:58:12,026 - main_orchestrator - INFO - Scraping HTML completado en 0.09 seg.
2025-05-14 02:58:12,026 - lib.history_tracker - INFO - Añadidas 20 nuevas URLs al historial.
2025-05-14 02:58:12,027 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 26 URLs.
2025-05-14 02:58:12,028 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-14 02:58:14,952 - lib.api_client - INFO - Texto extraído de tmp8yl84xd4.jpg (4 chars).
2025-05-14 02:58:14,955 - lib.image_processor - INFO - Procesando 6 imágenes con API (batch_size=3, pausa=60s)
2025-05-14 02:58:14,955 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-14 02:58:14,955 - lib.image_processor - INFO - Procesando imagen con API: img_1_be57c13d_06052025.mp4
2025-05-14 02:58:14,955 - lib.image_processor - WARNING - Archivo demasiado grande para procesar eficientemente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\img_1_be57c13d_06052025.mp4 (32.97 MB)
2025-05-14 02:58:14,955 - lib.image_processor - WARNING - Error procesando imagen img_1_be57c13d_06052025.mp4: Image file too large
2025-05-14 02:58:15,508 - lib.image_processor - INFO - Procesando imagen con API: img_2_c92d4982_06052025.mp3
2025-05-14 02:58:15,552 - lib.image_processor - WARNING - Archivo no es una imagen válida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\img_2_c92d4982_06052025.mp3 (formato detectado: None)
2025-05-14 02:58:15,552 - lib.image_processor - WARNING - Error procesando imagen img_2_c92d4982_06052025.mp3: File is not a valid image
2025-05-14 02:58:16,139 - lib.image_processor - INFO - Procesando imagen con API: img_6_c180ea3a_06052025.jpg
2025-05-14 02:58:16,214 - lib.image_processor - INFO - Imagen img_6_c180ea3a_06052025.jpg visualmente similar a otra ya procesada
2025-05-14 02:58:16,232 - lib.image_processor - INFO - Imagen procesada exitosamente: img_6_c180ea3a_06052025.jpg
2025-05-14 02:58:17,175 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-14 02:59:17,176 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-14 02:59:17,176 - lib.image_processor - INFO - Procesando imagen con API: img_3_7b273d74_06052025.jpg
2025-05-14 02:59:17,245 - lib.image_processor - INFO - Imagen img_3_7b273d74_06052025.jpg visualmente similar a otra ya procesada
2025-05-14 02:59:17,262 - lib.image_processor - INFO - Imagen procesada exitosamente: img_3_7b273d74_06052025.jpg
2025-05-14 02:59:17,942 - lib.image_processor - INFO - Procesando imagen con API: img_4_9e84a0e9_06052025.jpg
2025-05-14 02:59:17,979 - lib.image_processor - INFO - Imagen img_4_9e84a0e9_06052025.jpg visualmente similar a otra ya procesada
2025-05-14 02:59:17,994 - lib.image_processor - INFO - Imagen procesada exitosamente: img_4_9e84a0e9_06052025.jpg
2025-05-14 02:59:18,599 - lib.image_processor - INFO - Procesando imagen con API: img_5_391db554_06052025.jpg
2025-05-14 02:59:18,686 - lib.image_processor - INFO - Imagen img_5_391db554_06052025.jpg visualmente similar a otra ya procesada
2025-05-14 02:59:18,704 - lib.image_processor - INFO - Imagen procesada exitosamente: img_5_391db554_06052025.jpg
2025-05-14 02:59:19,461 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\texto_imagenes_api.json
2025-05-14 02:59:19,461 - lib.image_processor - INFO - Resultados de API guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\06052025\texto_imagenes_api.json
2025-05-14 02:59:19,461 - lib.image_processor - INFO - Procesamiento API completado para 4/6 imágenes en 64.51 segundos.
2025-05-14 02:59:19,461 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 67.43 seg.
2025-05-14 02:59:19,461 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-14 02:59:19,462 - main_orchestrator - INFO - Leyendo archivo social para la fecha 06052025: social_links_06052025_unprocessed.json
2025-05-14 02:59:19,462 - main_orchestrator - INFO - Encontradas 30 URLs de Facebook para procesar
2025-05-14 02:59:19,462 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output
2025-05-14 02:59:19,462 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 30 URLs de Facebook para la fecha 06052025...
2025-05-14 02:59:19,495 - lib.facebook_processor - INFO - Progreso Facebook: 5/30 en 0.03 seg.
2025-05-14 02:59:19,512 - lib.facebook_processor - INFO - Progreso Facebook: 10/30 en 0.05 seg.
2025-05-14 02:59:19,528 - lib.facebook_processor - INFO - Progreso Facebook: 15/30 en 0.07 seg.
2025-05-14 02:59:19,540 - lib.facebook_processor - INFO - Progreso Facebook: 20/30 en 0.08 seg.
2025-05-14 02:59:19,550 - lib.facebook_processor - INFO - Progreso Facebook: 25/30 en 0.09 seg.
2025-05-14 02:59:19,560 - lib.facebook_processor - INFO - Progreso Facebook: 30/30 en 0.10 seg.
2025-05-14 02:59:19,564 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_results_06052025.json
2025-05-14 02:59:19,564 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 26/30 exitosos en 0.10 segundos.
2025-05-14 02:59:19,564 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 0.10 seg.
2025-05-14 02:59:19,564 - lib.history_tracker - INFO - Añadidas 26 nuevas URLs al historial.
2025-05-14 02:59:19,565 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 52 URLs.
2025-05-14 02:59:19,565 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-14 02:59:19,630 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-3.pdf
2025-05-14 02:59:19,669 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-2.pdf
2025-05-14 02:59:19,711 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-1.pdf
2025-05-14 02:59:19,755 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-4.pdf
2025-05-14 02:59:19,800 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-9.pdf
2025-05-14 02:59:19,937 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-7.pdf
2025-05-14 02:59:19,968 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-6.pdf
2025-05-14 02:59:20,015 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-5.pdf
2025-05-14 02:59:20,050 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-8.pdf
2025-05-14 02:59:20,092 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-10.pdf
2025-05-14 02:59:20,132 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-14.pdf
2025-05-14 02:59:20,169 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-11.pdf
2025-05-14 02:59:20,206 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-12.pdf
2025-05-14 02:59:20,247 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-17.pdf
2025-05-14 02:59:20,285 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-15.pdf
2025-05-14 02:59:20,399 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-16.pdf
2025-05-14 02:59:20,441 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-19.pdf
2025-05-14 02:59:20,482 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-21.pdf
2025-05-14 02:59:20,529 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-20.pdf
2025-05-14 02:59:20,573 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-25.pdf
2025-05-14 02:59:20,611 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-22.pdf
2025-05-14 02:59:20,647 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-23.pdf
2025-05-14 02:59:20,656 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-26.pdf
2025-05-14 02:59:20,691 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-30.pdf
2025-05-14 02:59:20,700 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-27.pdf
2025-05-14 02:59:20,735 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\06052025\06052025-28.pdf
2025-05-14 02:59:20,735 - lib.facebook_processor - INFO - Texto extraído de 26 PDFs de Facebook
2025-05-14 02:59:20,735 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 1.17 seg.
2025-05-14 02:59:20,735 - main_orchestrator - INFO - Texto extraído de 26 PDFs de Facebook
2025-05-14 02:59:20,736 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_06052025.json
2025-05-14 02:59:20,737 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_06052025.json
2025-05-14 02:59:20,737 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-14 02:59:20,737 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:59:20,738 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:59:20,738 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:59:20.737237', 'date_processed': '06052025', 'total_urls_in_pdf': 57, 'new_urls_processed_count': 57, 'history_total_urls': 52, 'categories': {'html': 21, 'images': 6, 'social': 30}, 'html_processing': {'attempted': 21, 'processed': 20, 'successful': 20, 'relevant (>=0.3)': 13, 'average_relevance': 0.55}, 'image_processing': {'attempted_download': 6, 'successful_download': 4, 'attempted_api': 4, 'successful_api': 4}, 'facebook_processing': {'attempted': 30, 'successful': 26, 'extracted_texts': 26}, 'timings_seconds': {'pdf_extraction': 0.1, 'pdf_text_extraction': 1.17, 'image_download': 0.03, 'html_scraping': 0.09, 'image_api': 67.43, 'facebook_processing': 0.1, 'facebook_text_extraction': 1.17, 'stats_consolidation': 0.0}}
2025-05-14 02:59:20,738 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-14 02:59:20,738 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-14 02:59:20,738 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_06052025\pdf_text_06052025.json
2025-05-14 02:59:20,741 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_06052025.json
2025-05-14 02:59:20,741 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_06052025.json
2025-05-14 02:59:20,741 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-14 02:59:20,757 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-14 02:59:20,757 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-14 02:59:20,757 - semantic_cleaner - INFO - Extraídos 4 textos de PDF
2025-05-14 02:59:20,757 - semantic_cleaner - INFO - Extraídos 20 textos de HTML
2025-05-14 02:59:20,757 - semantic_cleaner - INFO - Extraídos 4 textos de imágenes
2025-05-14 02:59:20,757 - semantic_cleaner - INFO - Extraídos 26 textos de Facebook
2025-05-14 02:59:29,408 - semantic_cleaner - INFO - Se identificaron 53 grupos de textos similares
2025-05-14 02:59:29,408 - semantic_cleaner - INFO - Se seleccionaron 53 textos representativos
2025-05-14 02:59:29,408 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-14 02:59:29,408 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_06052025.json
2025-05-14 02:59:29,412 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_06052025.json
2025-05-14 02:59:29,412 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_06052025.md
2025-05-14 02:59:29,418 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_06052025.md
2025-05-14 02:59:29,418 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:59:29,418 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_06052025.json
2025-05-14 02:59:29,418 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T02:59:20.737237', 'date_processed': '06052025', 'total_urls_in_pdf': 57, 'new_urls_processed_count': 57, 'history_total_urls': 52, 'categories': {'html': 21, 'images': 6, 'social': 30}, 'html_processing': {'attempted': 21, 'processed': 20, 'successful': 20, 'relevant (>=0.3)': 13, 'average_relevance': 0.55}, 'image_processing': {'attempted_download': 6, 'successful_download': 4, 'attempted_api': 4, 'successful_api': 4}, 'facebook_processing': {'attempted': 30, 'successful': 26, 'extracted_texts': 26}, 'timings_seconds': {'pdf_extraction': 0.1, 'pdf_text_extraction': 1.17, 'image_download': 0.03, 'html_scraping': 0.09, 'image_api': 67.43, 'facebook_processing': 0.1, 'facebook_text_extraction': 1.17, 'stats_consolidation': 0.0, 'semantic_cleaning': 8.68}}
2025-05-14 02:59:29,419 - main_orchestrator - INFO - Limpieza semántica completada en 8.68 seg.
2025-05-14 02:59:29,419 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-14 02:59:29,419 - facebook_extractor_fix - ERROR - No se encontró el archivo de textos de Facebook: C:\Jerson\SUNASS\2025\5_May\output\facebook_texts_06052025.json
2025-05-14 02:59:29,419 - main_orchestrator - WARNING - No se pudieron integrar los textos de Facebook en archivos limpios
2025-05-14 02:59:29,419 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-14 02:59:29,419 - main_orchestrator - INFO - ==================================================
2025-05-14 02:59:29,419 - main_orchestrator - INFO - PIPELINE FINALIZADO en 77.64 segundos.
2025-05-14 02:59:29,419 - main_orchestrator - INFO - ==================================================
2025-05-14 02:59:56,285 - main_orchestrator - INFO - Módulos mejorados de clasificación y deduplicación cargados correctamente
2025-05-14 02:59:56,285 - main_orchestrator - INFO - Deduplicador optimizado cargado correctamente
2025-05-14 02:59:56,285 - main_orchestrator - INFO - Se usará la fecha proporcionada: 07052025
2025-05-14 02:59:56,285 - main_orchestrator - INFO - ==================================================
2025-05-14 02:59:56,285 - main_orchestrator - INFO - INICIANDO PIPELINE DE SCRAPING
2025-05-14 02:59:56,285 - main_orchestrator - INFO - Usando fecha: 07052025
2025-05-14 02:59:56,285 - main_orchestrator - INFO - ==================================================
2025-05-14 02:59:56,292 - lib.config_manager - INFO - Configuración cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\config.yaml
2025-05-14 02:59:56,292 - lib.config_manager - INFO - Clave API de Google cargada desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\credentials/api_keys.yaml
2025-05-14 02:59:56,292 - main_orchestrator - INFO - Configuración y rutas cargadas.
2025-05-14 02:59:56,295 - lib.history_tracker - INFO - Historial cargado desde C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 52 URLs.
2025-05-14 02:59:56,297 - main_orchestrator - INFO - Deduplicador optimizado inicializado correctamente
2025-05-14 02:59:56,297 - lib.request_utils - INFO - Sesión global con reintentos inicializada
2025-05-14 02:59:56,297 - lib.api_client - INFO - API Gemini configurada con modelo: gemini-1.5-pro-latest
2025-05-14 02:59:56,297 - lib.image_processor - INFO - Cliente Gemini API inicializado con modelo gemini-1.5-pro-latest
2025-05-14 02:59:56,298 - main_orchestrator - INFO - Componentes inicializados (History, Scraper, ImageProcessor, FacebookProcessor).
2025-05-14 02:59:56,298 - main_orchestrator - INFO - --- Paso 1: Extrayendo enlaces del PDF ---
2025-05-14 02:59:56,324 - lib.pdf_processor - INFO - Abriendo PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025.pdf (4 páginas)
2025-05-14 02:59:56,528 - lib.pdf_processor - INFO - Se extrajeron 99 enlaces URI (no mailto) de 07052025.pdf.
2025-05-14 02:59:56,528 - main_orchestrator - INFO - PDF procesado en 0.23 seg. Enlaces encontrados: 99
2025-05-14 02:59:56,533 - lib.file_manager - INFO - Datos guardados en CSV: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\In\links_extracted_07052025.csv
2025-05-14 02:59:56,533 - main_orchestrator - INFO - --- Paso 1.1: Extrayendo texto del PDF por secciones ---
2025-05-14 02:59:56,533 - lib.text_extractor - INFO - Abriendo PDF para extracción de texto: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025.pdf (4 páginas)
2025-05-14 02:59:56,561 - lib.text_extractor - INFO - Texto del PDF extraído y guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_07052025\pdf_text_07052025.json
2025-05-14 02:59:56,564 - lib.text_extractor - INFO - Se encontraron 1 secciones con un total de 4 párrafos
2025-05-14 02:59:56,564 - main_orchestrator - INFO - Texto del PDF extraído en 0.03 seg. Guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_07052025\pdf_text_07052025.json
2025-05-14 02:59:56,564 - main_orchestrator - INFO - --- Paso 2: Filtrando URLs por historial ---
2025-05-14 02:59:56,564 - lib.history_tracker - INFO - Filtradas 2 URLs ya procesadas del lote actual.
2025-05-14 02:59:56,564 - main_orchestrator - INFO - URLs nuevas para procesar: 97 (de 99 total)
2025-05-14 02:59:56,565 - main_orchestrator - INFO - --- Paso 2.1: Analizando duplicados basados en contenido ---
2025-05-14 02:59:56,565 - main_orchestrator - WARNING - Error en análisis de duplicados: name 'ContentDeduplicator' is not defined. Continuando sin filtrar duplicados.
2025-05-14 02:59:56,565 - main_orchestrator - INFO - --- Paso 3: Clasificando URLs ---
2025-05-14 02:59:56,566 - url_classifier - INFO - URLClassifier inicializado con umbrales: {'facebook': 0.85, 'youtube': 0.95, 'news': 0.9, 'document': 0.98, 'image': 0.99, 'media': 0.95, 'government': 0.9, 'other': 0.85, 'default': 0.88}
2025-05-14 02:59:56,566 - main_orchestrator - WARNING - Error en clasificación avanzada: 'dict' object has no attribute 'lower'. Usando clasificación estándar.
2025-05-14 02:59:56,566 - lib.url_manager - INFO - Clasificación de 97 URLs:
2025-05-14 02:59:56,566 - lib.url_manager - INFO -  - HTML: 28
2025-05-14 02:59:56,566 - lib.url_manager - INFO -  - IMAGES: 7
2025-05-14 02:59:56,566 - lib.url_manager - INFO -  - SOCIAL: 62
2025-05-14 02:59:56,566 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_07052025_unprocessed.json
2025-05-14 02:59:56,570 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Social\social_links_07052025_unprocessed.json
2025-05-14 02:59:56,571 - main_orchestrator - INFO - --- Paso 4: Procesando Imágenes (Descarga) ---
2025-05-14 02:59:56,571 - lib.image_processor - INFO - Iniciando descarga paralela de 7 imágenes para la fecha 07052025...
2025-05-14 02:59:57,440 - lib.image_processor - WARNING - URL http://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-C31-EL-ESTADO-A-TU-SERVICIO-ESPECIALIZACION-DE-ALUMNOS-EN-SANEAMIENTO.mp4 contiene video/mp4, no una imagen. Se registrará como tipo no válido.
2025-05-14 02:59:58,623 - lib.image_processor - INFO - Imagen 3 guardada como 'img_3_58337370_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (181882 bytes)
2025-05-14 02:59:58,645 - lib.image_processor - INFO - Imagen 4 guardada como 'img_4_acc2869d_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (189683 bytes)
2025-05-14 02:59:59,208 - lib.image_processor - INFO - Imagen 7 guardada como 'img_7_2574b789_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (266961 bytes)
2025-05-14 03:00:05,925 - lib.image_processor - INFO - Imagen 6 guardada como 'img_6_2f0f4648_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (929524 bytes)
2025-05-14 03:00:05,946 - lib.image_processor - INFO - Imagen 5 guardada como 'img_5_3b1a9efd_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (770580 bytes)
2025-05-14 03:00:06,828 - lib.image_processor - INFO - Imagen 1 guardada como 'img_1_4259ce81_07052025.jpg' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (265440 bytes)
2025-05-14 03:01:03,383 - lib.image_processor - INFO - Imagen 2 guardada como 'img_2_0940cb8a_07052025.mp4' en C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025 (60376403 bytes)
2025-05-14 03:01:03,766 - lib.image_processor - WARNING - Error procesando imagen http://imacorpplataforma.com/wp-content/uploads/2025/05/06-05-2025-C31-EL-ESTADO-A-TU-SERVICIO-ESPECIALIZACION-DE-ALUMNOS-EN-SANEAMIENTO.mp4: Content type 'video/mp4' is not an image
2025-05-14 03:01:03,767 - lib.image_processor - INFO - Progreso descarga imágenes: 7/7 en 67.20 seg.
2025-05-14 03:01:03,770 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\image_links_07052025.json
2025-05-14 03:01:03,770 - lib.image_processor - INFO - Descarga de imágenes completada para 7/7 URLs en 67.20 segundos.
2025-05-14 03:01:03,770 - main_orchestrator - INFO - Descarga de imágenes completada en 67.20 seg.
2025-05-14 03:01:03,771 - lib.history_tracker - INFO - Añadidas 7 nuevas URLs al historial.
2025-05-14 03:01:03,772 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 59 URLs.
2025-05-14 03:01:03,772 - main_orchestrator - INFO - --- Paso 5: Procesando HTML (Scraping) ---
2025-05-14 03:01:03,772 - lib.html_scraper - INFO - Iniciando scraping paralelo de 28 URLs...
2025-05-14 03:01:10,561 - lib.html_scraper - INFO - Progreso: 20/28 URLs procesadas en 6.79 seg.
2025-05-14 03:01:14,022 - lib.html_scraper - INFO - Progreso: 28/28 URLs procesadas en 10.25 seg.
2025-05-14 03:01:14,037 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_07052025.json
2025-05-14 03:01:14,038 - lib.html_scraper - INFO - Scraping completado para 28/28 URLs en 10.27 segundos.
2025-05-14 03:01:14,039 - lib.html_scraper - INFO - Resultados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_texts_07052025.json
2025-05-14 03:01:14,039 - main_orchestrator - INFO - Scraping HTML completado en 10.27 seg.
2025-05-14 03:01:14,040 - lib.history_tracker - INFO - Añadidas 28 nuevas URLs al historial.
2025-05-14 03:01:14,042 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 87 URLs.
2025-05-14 03:01:14,043 - main_orchestrator - INFO - --- Paso 6: Procesando Imágenes Descargadas (API) ---
2025-05-14 03:01:16,403 - lib.api_client - INFO - Texto extraído de tmpjfbhoq57.jpg (4 chars).
2025-05-14 03:01:16,406 - lib.image_processor - INFO - Procesando 7 imágenes con API (batch_size=3, pausa=60s)
2025-05-14 03:01:16,407 - lib.image_processor - INFO - Procesando batch 1 (3 imágenes)
2025-05-14 03:01:16,408 - lib.image_processor - INFO - Procesando imagen con API: img_4_acc2869d_07052025.jpg
2025-05-14 03:01:27,979 - lib.api_client - INFO - Texto extraído de img_4_acc2869d_07052025.jpg (2588 chars).
2025-05-14 03:01:30,452 - lib.image_processor - INFO - Imagen procesada exitosamente: img_4_acc2869d_07052025.jpg
2025-05-14 03:01:31,351 - lib.image_processor - INFO - Procesando imagen con API: img_3_58337370_07052025.jpg
2025-05-14 03:01:41,497 - lib.api_client - INFO - Texto extraído de img_3_58337370_07052025.jpg (2350 chars).
2025-05-14 03:01:43,414 - lib.image_processor - INFO - Imagen procesada exitosamente: img_3_58337370_07052025.jpg
2025-05-14 03:01:44,048 - lib.image_processor - INFO - Procesando imagen con API: img_7_2574b789_07052025.jpg
2025-05-14 03:02:04,701 - lib.api_client - INFO - Texto extraído de img_7_2574b789_07052025.jpg (4389 chars).
2025-05-14 03:02:07,004 - lib.image_processor - INFO - Imagen procesada exitosamente: img_7_2574b789_07052025.jpg
2025-05-14 03:02:07,525 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-14 03:03:07,526 - lib.image_processor - INFO - Procesando batch 2 (3 imágenes)
2025-05-14 03:03:07,526 - lib.image_processor - INFO - Procesando imagen con API: img_5_3b1a9efd_07052025.jpg
2025-05-14 03:03:25,143 - lib.api_client - INFO - Texto extraído de img_5_3b1a9efd_07052025.jpg (3521 chars).
2025-05-14 03:03:27,925 - lib.image_processor - INFO - Imagen procesada exitosamente: img_5_3b1a9efd_07052025.jpg
2025-05-14 03:03:28,872 - lib.image_processor - INFO - Procesando imagen con API: img_6_2f0f4648_07052025.jpg
2025-05-14 03:04:00,250 - lib.api_client - INFO - Texto extraído de img_6_2f0f4648_07052025.jpg (5162 chars).
2025-05-14 03:04:03,161 - lib.image_processor - INFO - Imagen procesada exitosamente: img_6_2f0f4648_07052025.jpg
2025-05-14 03:04:03,819 - lib.image_processor - INFO - Procesando imagen con API: img_1_4259ce81_07052025.jpg
2025-05-14 03:04:10,596 - lib.api_client - INFO - Texto extraído de img_1_4259ce81_07052025.jpg (468 chars).
2025-05-14 03:04:12,353 - lib.image_processor - INFO - Imagen procesada exitosamente: img_1_4259ce81_07052025.jpg
2025-05-14 03:04:12,946 - lib.image_processor - INFO - Pausa de 60s antes del siguiente batch...
2025-05-14 03:05:12,948 - lib.image_processor - INFO - Procesando batch 3 (1 imágenes)
2025-05-14 03:05:12,949 - lib.image_processor - INFO - Procesando imagen con API: img_2_0940cb8a_07052025.mp4
2025-05-14 03:05:12,950 - lib.image_processor - WARNING - Archivo demasiado grande para procesar eficientemente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025\img_2_0940cb8a_07052025.mp4 (57.58 MB)
2025-05-14 03:05:12,952 - lib.image_processor - WARNING - Error procesando imagen img_2_0940cb8a_07052025.mp4: Image file too large
2025-05-14 03:05:13,872 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025\texto_imagenes_api.json
2025-05-14 03:05:13,873 - lib.image_processor - INFO - Resultados de API guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Images\downloads\07052025\texto_imagenes_api.json
2025-05-14 03:05:13,873 - lib.image_processor - INFO - Procesamiento API completado para 6/7 imágenes en 237.47 segundos.
2025-05-14 03:05:13,875 - main_orchestrator - INFO - Procesamiento API de imágenes completado en 239.83 seg.
2025-05-14 03:05:13,875 - main_orchestrator - INFO - --- Paso 7: Procesando URLs de Facebook ---
2025-05-14 03:05:13,876 - main_orchestrator - INFO - Leyendo archivo social para la fecha 07052025: social_links_07052025_unprocessed.json
2025-05-14 03:05:13,877 - main_orchestrator - INFO - Encontradas 58 URLs de Facebook para procesar
2025-05-14 03:05:13,878 - main_orchestrator - INFO - Creado directorio para PDFs: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025
2025-05-14 03:05:13,884 - main_orchestrator - INFO - Asegurando que exista el directorio de salida: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output
2025-05-14 03:05:13,884 - lib.facebook_processor - INFO - Iniciando procesamiento paralelo de 58 URLs de Facebook para la fecha 07052025...
2025-05-14 03:05:13,886 - lib.facebook_processor - INFO - Procesando URL de Facebook (1): https://www.facebook.com/share/p/16iwL3twkz/
2025-05-14 03:05:13,886 - lib.facebook_processor - INFO - Procesando URL de Facebook (2): https://www.facebook.com/share/p/19cHPJySEs/
2025-05-14 03:05:13,887 - lib.facebook_processor - INFO - Procesando URL de Facebook (3): https://www.facebook.com/share/p/1Bzsx8UpCj/
2025-05-14 03:05:13,893 - lib.facebook_processor - INFO - Procesando URL de Facebook (4): https://www.facebook.com/share/p/1AfwHc2Ao6/
2025-05-14 03:05:13,897 - lib.facebook_processor - INFO - Procesando URL de Facebook (5): https://www.facebook.com/share/p/19FijZnYbE/
2025-05-14 03:05:36,983 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-4.pdf
2025-05-14 03:05:37,340 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-3.pdf
2025-05-14 03:05:38,121 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-1.pdf
2025-05-14 03:05:39,258 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-2.pdf
2025-05-14 03:05:40,175 - lib.facebook_processor - INFO - Procesando URL de Facebook (6): https://www.facebook.com/share/p/151JiRn2mdc/
2025-05-14 03:05:41,670 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-5.pdf
2025-05-14 03:05:42,174 - lib.facebook_processor - INFO - Procesando URL de Facebook (7): https://www.facebook.com/share/16FhGTQ4xe/
2025-05-14 03:05:42,822 - lib.facebook_processor - INFO - Procesando URL de Facebook (8): https://www.facebook.com/share/p/1PkSia3LZe/
2025-05-14 03:05:42,899 - lib.facebook_processor - INFO - Procesando URL de Facebook (9): https://www.facebook.com/share/p/19XYVoXWnC/
2025-05-14 03:05:46,499 - lib.facebook_processor - INFO - Progreso Facebook: 5/58 en 32.62 seg.
2025-05-14 03:05:46,501 - lib.facebook_processor - INFO - Procesando URL de Facebook (10): https://www.facebook.com/share/p/16jQUMgBZY/
2025-05-14 03:05:59,078 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-6.pdf
2025-05-14 03:06:00,710 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-7.pdf
2025-05-14 03:06:02,714 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-8.pdf
2025-05-14 03:06:03,151 - lib.facebook_processor - INFO - Procesando URL de Facebook (11): https://www.facebook.com/share/p/1KgyzLtm5E/
2025-05-14 03:06:04,340 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-9.pdf
2025-05-14 03:06:05,637 - lib.facebook_processor - INFO - Procesando URL de Facebook (12): https://www.facebook.com/share/p/18jqJiJ7co/
2025-05-14 03:06:07,905 - lib.facebook_processor - INFO - Procesando URL de Facebook (13): https://www.facebook.com/share/p/1CJGwmUQxx/
2025-05-14 03:06:08,321 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-10.pdf
2025-05-14 03:06:09,246 - lib.facebook_processor - INFO - Procesando URL de Facebook (14): https://www.facebook.com/share/p/18R3okUHFm/
2025-05-14 03:06:12,159 - lib.facebook_processor - INFO - Progreso Facebook: 10/58 en 58.27 seg.
2025-05-14 03:06:12,159 - lib.facebook_processor - INFO - Procesando URL de Facebook (15): https://www.facebook.com/share/p/16ZUTYkfny/
2025-05-14 03:06:21,294 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-11.pdf
2025-05-14 03:06:24,394 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-12.pdf
2025-05-14 03:06:26,399 - lib.facebook_processor - INFO - Procesando URL de Facebook (16): https://www.facebook.com/share/p/16QKBykzv2/
2025-05-14 03:06:27,717 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-13.pdf
2025-05-14 03:06:28,460 - lib.facebook_processor - INFO - Procesando URL de Facebook (17): https://www.facebook.com/share/p/191igBA3W4/
2025-05-14 03:06:30,835 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-14.pdf
2025-05-14 03:06:31,883 - lib.facebook_processor - INFO - Procesando URL de Facebook (18): https://www.facebook.com/share/p/1BFia5qfMJ/
2025-05-14 03:06:35,271 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-15.pdf
2025-05-14 03:06:36,546 - lib.facebook_processor - INFO - Procesando URL de Facebook (19): https://www.facebook.com/share/p/16bNRnqUZ4/
2025-05-14 03:06:39,622 - lib.facebook_processor - INFO - Procesando URL de Facebook (20): https://www.facebook.com/share/p/16QEvZcXvs/
2025-05-14 03:06:39,623 - lib.facebook_processor - INFO - Progreso Facebook: 15/58 en 85.74 seg.
2025-05-14 03:06:46,962 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-16.pdf
2025-05-14 03:06:54,975 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-18.pdf
2025-05-14 03:06:57,796 - lib.facebook_processor - INFO - Procesando URL de Facebook (21): https://www.facebook.com/share/p/1EeY3aeaor/
2025-05-14 03:06:58,637 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-20.pdf
2025-05-14 03:06:59,554 - lib.facebook_processor - INFO - Procesando URL de Facebook (22): https://www.facebook.com/share/p/1AKQuNKUvf/
2025-05-14 03:07:01,129 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-17.pdf
2025-05-14 03:07:02,491 - lib.facebook_processor - INFO - Procesando URL de Facebook (23): https://www.facebook.com/share/p/1938F6wWHd/
2025-05-14 03:07:03,040 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-19.pdf
2025-05-14 03:07:05,839 - lib.facebook_processor - INFO - Procesando URL de Facebook (24): https://www.facebook.com/share/p/16Xz2MbJVk/
2025-05-14 03:07:07,078 - lib.facebook_processor - INFO - Progreso Facebook: 20/58 en 113.19 seg.
2025-05-14 03:07:07,079 - lib.facebook_processor - INFO - Procesando URL de Facebook (25): https://www.facebook.com/share/p/1AoMu16tF4/
2025-05-14 03:07:15,089 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-21.pdf
2025-05-14 03:07:18,434 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-22.pdf
2025-05-14 03:07:21,692 - lib.facebook_processor - INFO - Procesando URL de Facebook (26): https://www.facebook.com/share/p/1GdJnM6nCT/
2025-05-14 03:07:21,713 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-23.pdf
2025-05-14 03:07:23,905 - lib.facebook_processor - INFO - Procesando URL de Facebook (27): https://www.facebook.com/share/p/1GdJnM6nCT/
2025-05-14 03:07:25,336 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-24.pdf
2025-05-14 03:07:25,433 - lib.facebook_processor - INFO - Procesando URL de Facebook (28): https://www.facebook.com/share/p/16TM7vLoR2/
2025-05-14 03:07:27,245 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-25.pdf
2025-05-14 03:07:31,461 - lib.facebook_processor - INFO - Procesando URL de Facebook (29): https://www.facebook.com/share/p/15CPtY2RBG/
2025-05-14 03:07:32,171 - lib.facebook_processor - INFO - Progreso Facebook: 25/58 en 138.29 seg.
2025-05-14 03:07:32,172 - lib.facebook_processor - INFO - Procesando URL de Facebook (30): https://www.facebook.com/share/p/1D4iAu7a73/
2025-05-14 03:07:42,302 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-26.pdf
2025-05-14 03:07:45,046 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-28.pdf
2025-05-14 03:07:45,569 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-27.pdf
2025-05-14 03:07:46,826 - lib.facebook_processor - INFO - Procesando URL de Facebook (31): https://www.facebook.com/share/p/198Ld13uPp/
2025-05-14 03:07:49,242 - lib.facebook_processor - INFO - Procesando URL de Facebook (32): https://www.facebook.com/photo/?fbid=1238350431629492&set=a.498407755623767
2025-05-14 03:07:50,636 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-29.pdf
2025-05-14 03:07:51,091 - lib.facebook_processor - INFO - Procesando URL de Facebook (33): https://www.facebook.com/photo?fbid=9319136754881022&set=a.740299552764828
2025-05-14 03:07:53,603 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-30.pdf
2025-05-14 03:07:55,466 - lib.facebook_processor - INFO - Procesando URL de Facebook (34): https://www.facebook.com/photo?fbid=9319136754881022&set=a.740299552764828
2025-05-14 03:07:57,812 - lib.facebook_processor - INFO - Progreso Facebook: 30/58 en 163.93 seg.
2025-05-14 03:07:57,812 - lib.facebook_processor - INFO - Procesando URL de Facebook (35): https://www.facebook.com/riberenalajoya/posts/pfbid02eAbjnjMVjknzUntJHjxzzdCTj3yqC8u9vuMBg9QgBTyMFFNXdu6cu4QqZo46tMfml
2025-05-14 03:08:07,526 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-31.pdf
2025-05-14 03:08:09,408 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-32.pdf
2025-05-14 03:08:15,088 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-33.pdf
2025-05-14 03:08:17,784 - lib.facebook_processor - INFO - Procesando URL de Facebook (36): https://www.facebook.com/permalink.php?story_fbid=pfbid02gWMA3t8TYMyhSjwaBXJZxo5YoP7C48YALuvWzPsDQhDD6Djvfh3cVTqseAQfPGMEl&id=61575120090485
2025-05-14 03:08:19,395 - lib.facebook_processor - INFO - Procesando URL de Facebook (37): https://www.facebook.com/permalink.php?story_fbid=pfbid0f7kb1Y2wqNijz6GvyFvV7Pxz5fa2eNJSgj8UR9GVUUZmHcPRsEudRKnkoLufGJbLl&id=100047283977319
2025-05-14 03:08:19,791 - lib.facebook_processor - INFO - Procesando URL de Facebook (38): https://www.facebook.com/permalink.php?story_fbid=pfbid0f7kb1Y2wqNijz6GvyFvV7Pxz5fa2eNJSgj8UR9GVUUZmHcPRsEudRKnkoLufGJbLl&id=100047283977319
2025-05-14 03:08:21,542 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-34.pdf
2025-05-14 03:08:22,305 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-35.pdf
2025-05-14 03:08:26,893 - lib.facebook_processor - INFO - Procesando URL de Facebook (39): https://www.facebook.com/DiarioEP.pe/posts/pfbid02Kgp4Nz2QZFNp2bb8g52rSZMK7j1v5YFGRTBFpRiizSdiZxezN3nnASdgKqvEKZwbl
2025-05-14 03:08:28,472 - lib.facebook_processor - INFO - Progreso Facebook: 35/58 en 194.59 seg.
2025-05-14 03:08:28,473 - lib.facebook_processor - INFO - Procesando URL de Facebook (40): https://www.facebook.com/photo?fbid=660818233449061&set=a.107006905496866
2025-05-14 03:08:37,791 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-36.pdf
2025-05-14 03:08:39,674 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-38.pdf
2025-05-14 03:08:43,238 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-37.pdf
2025-05-14 03:08:44,972 - lib.facebook_processor - INFO - Procesando URL de Facebook (41): https://www.facebook.com/permalink.php?story_fbid=pfbid02PhkrU3Eaw2YsGZD1vBEJmD7LWVLEFipc7d7Eo5Kkv97TQrXeTBG7mU6pmYh9sbL8l&id=61575464192731
2025-05-14 03:08:46,801 - lib.facebook_processor - INFO - Procesando URL de Facebook (42): https://www.facebook.com/PaoDavilaCanaElTigre/posts/pfbid033JTuk9RSTGkd9mPtzkEnkFwuRSeGhNtz1Wwt9XcRNLPTpVcNmGCV3mbW3TFqSTVxl
2025-05-14 03:08:46,825 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-40.pdf
2025-05-14 03:08:47,188 - lib.facebook_processor - INFO - Procesando URL de Facebook (43): https://www.facebook.com/PaoDavilaCanaElTigre/posts/pfbid033JTuk9RSTGkd9mPtzkEnkFwuRSeGhNtz1Wwt9XcRNLPTpVcNmGCV3mbW3TFqSTVxl
2025-05-14 03:08:50,914 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-39.pdf
2025-05-14 03:08:51,756 - lib.facebook_processor - INFO - Procesando URL de Facebook (44): https://www.facebook.com/permalink.php?story_fbid=pfbid0AL3DJwtfzUNKag7DYMh632AuPcC2rWCBF5daFgwNxpLZLNKRwsFfPKFK3oqGThxsl&id=100067011262342
2025-05-14 03:08:57,418 - lib.facebook_processor - INFO - Progreso Facebook: 40/58 en 223.53 seg.
2025-05-14 03:08:57,419 - lib.facebook_processor - INFO - Procesando URL de Facebook (45): https://www.facebook.com/Losprotagonistasdelanoticia/posts/pfbid021oeGT1ffzTghb6Qq1nRmLYdZpn7pxUm6LQQ3JAXAFguLDepLRubsYpNKVsc9gbaYl
2025-05-14 03:09:07,008 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-41.pdf
2025-05-14 03:09:09,169 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-42.pdf
2025-05-14 03:09:09,535 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-43.pdf
2025-05-14 03:09:12,787 - lib.facebook_processor - INFO - Procesando URL de Facebook (46): https://www.facebook.com/Arequipa.pe/posts/pfbid02YN87NK1sS2RmZwsM7iU7djS1r2s7iNWbxfztnGHy423rnpv4fGWdrR2nCPeJ1D1jl
2025-05-14 03:09:12,949 - lib.facebook_processor - INFO - Procesando URL de Facebook (47): https://www.facebook.com/Arequipa.pe/posts/pfbid02YN87NK1sS2RmZwsM7iU7djS1r2s7iNWbxfztnGHy423rnpv4fGWdrR2nCPeJ1D1jl
2025-05-14 03:09:13,734 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-44.pdf
2025-05-14 03:09:14,893 - lib.facebook_processor - INFO - Procesando URL de Facebook (48): https://www.facebook.com/Arequipa.pe/posts/pfbid02YN87NK1sS2RmZwsM7iU7djS1r2s7iNWbxfztnGHy423rnpv4fGWdrR2nCPeJ1D1jl
2025-05-14 03:09:20,736 - lib.facebook_processor - INFO - Procesando URL de Facebook (49): https://www.facebook.com/universaltvarequipa/posts/pfbid02Yg9GxzBnT5fdLqBuwZkCD8Lzo6F7Go644a4tcLHUuNyg5qheoD87KuDCjJw5CNAql
2025-05-14 03:09:22,987 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-45.pdf
2025-05-14 03:09:32,754 - lib.facebook_processor - INFO - Progreso Facebook: 45/58 en 258.87 seg.
2025-05-14 03:09:32,754 - lib.facebook_processor - INFO - Procesando URL de Facebook (50): https://www.facebook.com/permalink.php?story_fbid=pfbid0wfvjCA2NDiJRn6aqadGmf2hiikE8znPQSYA6wXEEH9VbVeNpeNwu1dkeYXzJkZ4tl&id=100083119487359
2025-05-14 03:09:37,356 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-47.pdf
2025-05-14 03:09:38,569 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-46.pdf
2025-05-14 03:09:41,166 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-49.pdf
2025-05-14 03:09:41,472 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-48.pdf
2025-05-14 03:09:44,510 - lib.facebook_processor - INFO - Procesando URL de Facebook (51): https://www.facebook.com/photo?fbid=1262239625904066&set=a.524736176321085
2025-05-14 03:09:44,543 - lib.facebook_processor - INFO - Procesando URL de Facebook (52): https://www.facebook.com/EntreVocesArequipa/posts/pfbid0sT5UwmuepMsdVpximSDTuU4cjX5QK5yy8zhGFdQ4Gt6NkbeXojHw45Nu3aqdpbC9l
2025-05-14 03:09:45,696 - lib.facebook_processor - INFO - Procesando URL de Facebook (53): https://www.facebook.com/permalink.php?story_fbid=pfbid02PME2VwLxQ4htjKAMQTJJArLUZWWAas41UE6XV17Vveg4fbGBBbyFXGEGgWD4QeLkl&id=100064303594358
2025-05-14 03:09:46,183 - lib.facebook_processor - INFO - Procesando URL de Facebook (54): https://www.facebook.com/permalink.php?story_fbid=pfbid02PME2VwLxQ4htjKAMQTJJArLUZWWAas41UE6XV17Vveg4fbGBBbyFXGEGgWD4QeLkl&id=100064303594358
2025-05-14 03:09:54,856 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-50.pdf
2025-05-14 03:10:03,374 - lib.facebook_processor - INFO - Progreso Facebook: 50/58 en 289.49 seg.
2025-05-14 03:10:03,375 - lib.facebook_processor - INFO - Procesando URL de Facebook (55): https://www.facebook.com/photo/?fbid=656482207213066&set=a.114708711390421
2025-05-14 03:10:05,140 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-52.pdf
2025-05-14 03:10:05,224 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-51.pdf
2025-05-14 03:10:08,605 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-53.pdf
2025-05-14 03:10:10,256 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-54.pdf
2025-05-14 03:10:10,498 - lib.facebook_processor - INFO - Procesando URL de Facebook (56): https://www.facebook.com/watch/?v=1386577492667461
2025-05-14 03:10:11,853 - lib.facebook_processor - INFO - Procesando URL de Facebook (57): https://www.facebook.com/impetudiario/posts/pfbid0MXWbQyfHAkNacHYzxhBhTvj72XDXiuvGgAdFNo9YmKVXQ7oc5Uj2oRqAfuA6J4akl
2025-05-14 03:10:13,894 - lib.facebook_processor - INFO - Procesando URL de Facebook (58): https://www.facebook.com/plusnoticias.pe/videos/997867349135424
2025-05-14 03:10:23,143 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-55.pdf
2025-05-14 03:10:32,434 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-56.pdf
2025-05-14 03:10:35,487 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-57.pdf
2025-05-14 03:10:37,130 - lib.facebook_processor - INFO - Progreso Facebook: 55/58 en 323.25 seg.
2025-05-14 03:10:41,334 - lib.facebook_processor - INFO - PDF guardado exitosamente: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-58.pdf
2025-05-14 03:10:46,816 - lib.facebook_processor - INFO - Progreso Facebook: 58/58 en 332.93 seg.
2025-05-14 03:10:46,827 - lib.facebook_processor - INFO - Resultados de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_results_07052025.json
2025-05-14 03:10:46,827 - lib.facebook_processor - INFO - Procesamiento de Facebook completado: 51/58 exitosos en 332.94 segundos.
2025-05-14 03:10:46,827 - main_orchestrator - INFO - Procesamiento de URLs de Facebook completado en 332.95 seg.
2025-05-14 03:10:46,827 - lib.history_tracker - INFO - Añadidas 51 nuevas URLs al historial.
2025-05-14 03:10:46,834 - lib.history_tracker - INFO - Historial guardado en C:\Jerson\SUNASS\2025\5_May\NewsAgent\codigo\lib\history\processed_urls.json con 138 URLs.
2025-05-14 03:10:46,834 - main_orchestrator - INFO - --- Paso 9: Extrayendo Texto de PDFs de Facebook ---
2025-05-14 03:10:47,738 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-4.pdf
2025-05-14 03:10:48,469 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-3.pdf
2025-05-14 03:10:49,205 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-2.pdf
2025-05-14 03:10:50,645 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-1.pdf
2025-05-14 03:10:51,936 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-5.pdf
2025-05-14 03:10:53,683 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-6.pdf
2025-05-14 03:10:54,569 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-7.pdf
2025-05-14 03:10:55,164 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-8.pdf
2025-05-14 03:10:55,783 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-9.pdf
2025-05-14 03:10:56,457 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-10.pdf
2025-05-14 03:10:57,102 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-11.pdf
2025-05-14 03:10:57,914 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-12.pdf
2025-05-14 03:10:58,594 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-13.pdf
2025-05-14 03:10:59,234 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-14.pdf
2025-05-14 03:11:00,088 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-15.pdf
2025-05-14 03:11:00,645 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-16.pdf
2025-05-14 03:11:01,252 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-18.pdf
2025-05-14 03:11:01,321 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-20.pdf
2025-05-14 03:11:01,904 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-17.pdf
2025-05-14 03:11:02,594 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-19.pdf
2025-05-14 03:11:02,676 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-21.pdf
2025-05-14 03:11:03,380 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-22.pdf
2025-05-14 03:11:04,011 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-23.pdf
2025-05-14 03:11:04,680 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-25.pdf
2025-05-14 03:11:05,338 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-24.pdf
2025-05-14 03:11:05,964 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-27.pdf
2025-05-14 03:11:06,752 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-28.pdf
2025-05-14 03:11:07,315 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-29.pdf
2025-05-14 03:11:07,991 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-30.pdf
2025-05-14 03:11:08,134 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-32.pdf
2025-05-14 03:11:08,755 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-31.pdf
2025-05-14 03:11:08,867 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-34.pdf
2025-05-14 03:11:09,652 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-35.pdf
2025-05-14 03:11:10,414 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-37.pdf
2025-05-14 03:11:10,554 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-36.pdf
2025-05-14 03:11:10,677 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-40.pdf
2025-05-14 03:11:10,886 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-39.pdf
2025-05-14 03:11:11,585 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-41.pdf
2025-05-14 03:11:12,217 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-43.pdf
2025-05-14 03:11:12,404 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-44.pdf
2025-05-14 03:11:13,615 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-45.pdf
2025-05-14 03:11:13,804 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-48.pdf
2025-05-14 03:11:14,605 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-49.pdf
2025-05-14 03:11:14,734 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-50.pdf
2025-05-14 03:11:14,870 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-52.pdf
2025-05-14 03:11:15,111 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-51.pdf
2025-05-14 03:11:15,827 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-54.pdf
2025-05-14 03:11:15,970 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-56.pdf
2025-05-14 03:11:16,092 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-55.pdf
2025-05-14 03:11:16,901 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-57.pdf
2025-05-14 03:11:17,078 - lib.facebook_processor - INFO - Texto extraído exitosamente del PDF: C:\Jerson\SUNASS\2025\5_May\NewsAgent\base\07052025\07052025-58.pdf
2025-05-14 03:11:17,080 - lib.facebook_processor - INFO - Texto extraído de 51 PDFs de Facebook
2025-05-14 03:11:17,080 - main_orchestrator - INFO - Extracción de texto de PDFs de Facebook completada en 30.25 seg.
2025-05-14 03:11:17,081 - main_orchestrator - INFO - Texto extraído de 51 PDFs de Facebook
2025-05-14 03:11:17,087 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_07052025.json
2025-05-14 03:11:17,089 - main_orchestrator - INFO - Textos de PDFs de Facebook guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\facebook_texts_07052025.json
2025-05-14 03:11:17,089 - main_orchestrator - INFO - --- Paso 10: Generando Estadísticas y Consolidando ---
2025-05-14 03:11:17,116 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_07052025.json
2025-05-14 03:11:17,135 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_07052025.json
2025-05-14 03:11:17,145 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T03:11:17.104948', 'date_processed': '07052025', 'total_urls_in_pdf': 99, 'new_urls_processed_count': 97, 'history_total_urls': 138, 'categories': {'html': 28, 'images': 7, 'social': 62}, 'html_processing': {'attempted': 28, 'processed': 28, 'successful': 28, 'relevant (>=0.3)': 20, 'average_relevance': 0.5535714285714285}, 'image_processing': {'attempted_download': 7, 'successful_download': 6, 'attempted_api': 6, 'successful_api': 6}, 'facebook_processing': {'attempted': 58, 'successful': 51, 'extracted_texts': 51}, 'timings_seconds': {'pdf_extraction': 0.23, 'pdf_text_extraction': 30.25, 'image_download': 67.2, 'html_scraping': 10.27, 'image_api': 239.83, 'facebook_processing': 332.95, 'facebook_text_extraction': 30.25, 'stats_consolidation': 0.0}}
2025-05-14 03:11:17,146 - main_orchestrator - INFO - Estadísticas generadas y guardadas en 0.00 seg.
2025-05-14 03:11:17,152 - main_orchestrator - INFO - --- Paso 9: Verificando contenido HTML e imágenes existentes ---
2025-05-14 03:11:17,170 - main_orchestrator - INFO - Texto del PDF cargado para consolidación desde: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Out\scraped_pdf_07052025\pdf_text_07052025.json
2025-05-14 03:11:17,213 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_07052025.json
2025-05-14 03:11:17,224 - main_orchestrator - INFO - Resultados consolidados guardados en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\consolidated_07052025.json
2025-05-14 03:11:17,227 - main_orchestrator - INFO - --- Paso 12: Realizando Limpieza Semántica ---
2025-05-14 03:11:17,292 - main_orchestrator - INFO - Realizando limpieza semántica...
2025-05-14 03:11:17,302 - semantic_cleaner - INFO - Iniciando limpieza semántica del archivo consolidado...
2025-05-14 03:11:17,302 - semantic_cleaner - INFO - Extraídos 4 textos de PDF
2025-05-14 03:11:17,302 - semantic_cleaner - INFO - Extraídos 28 textos de HTML
2025-05-14 03:11:17,302 - semantic_cleaner - INFO - Extraídos 6 textos de imágenes
2025-05-14 03:11:17,302 - semantic_cleaner - INFO - Extraídos 51 textos de Facebook
2025-05-14 03:12:07,999 - semantic_cleaner - INFO - Se identificaron 87 grupos de textos similares
2025-05-14 03:12:08,000 - semantic_cleaner - INFO - Se seleccionaron 87 textos representativos
2025-05-14 03:12:08,000 - semantic_cleaner - INFO - Limpieza semántica completada con éxito
2025-05-14 03:12:08,002 - main_orchestrator - INFO - Guardando JSON limpio en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_07052025.json
2025-05-14 03:12:08,008 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_07052025.json
2025-05-14 03:12:08,011 - main_orchestrator - INFO - Convirtiendo a formato Markdown y guardando en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_07052025.md
2025-05-14 03:12:08,034 - markdown_converter - INFO - Archivo Markdown guardado en: C:\Jerson\SUNASS\2025\5_May\NewsAgent\output\clean\clean_07052025.md
2025-05-14 03:12:08,034 - lib.file_manager - INFO - Datos guardados en JSON: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_07052025.json
2025-05-14 03:12:08,034 - lib.file_manager - INFO - Estadísticas guardadas: C:\Jerson\SUNASS\2025\5_May\NewsAgent\input\Stats\stats_07052025.json
2025-05-14 03:12:08,034 - lib.file_manager - INFO - Contenido estadísticas: {'run_timestamp': '2025-05-14T03:11:17.104948', 'date_processed': '07052025', 'total_urls_in_pdf': 99, 'new_urls_processed_count': 97, 'history_total_urls': 138, 'categories': {'html': 28, 'images': 7, 'social': 62}, 'html_processing': {'attempted': 28, 'processed': 28, 'successful': 28, 'relevant (>=0.3)': 20, 'average_relevance': 0.5535714285714285}, 'image_processing': {'attempted_download': 7, 'successful_download': 6, 'attempted_api': 6, 'successful_api': 6}, 'facebook_processing': {'attempted': 58, 'successful': 51, 'extracted_texts': 51}, 'timings_seconds': {'pdf_extraction': 0.23, 'pdf_text_extraction': 30.25, 'image_download': 67.2, 'html_scraping': 10.27, 'image_api': 239.83, 'facebook_processing': 332.95, 'facebook_text_extraction': 30.25, 'stats_consolidation': 0.0, 'semantic_cleaning': 50.79}}
2025-05-14 03:12:08,034 - main_orchestrator - INFO - Limpieza semántica completada en 50.79 seg.
2025-05-14 03:12:08,034 - main_orchestrator - INFO - --- Paso 12.1: Integrando textos de Facebook en archivos limpios ---
2025-05-14 03:12:08,034 - facebook_extractor_fix - ERROR - No se encontró el archivo de textos de Facebook: C:\Jerson\SUNASS\2025\5_May\output\facebook_texts_07052025.json
2025-05-14 03:12:08,034 - main_orchestrator - WARNING - No se pudieron integrar los textos de Facebook en archivos limpios
2025-05-14 03:12:08,042 - main_orchestrator - INFO - --- Limpieza Final ---
2025-05-14 03:12:08,042 - main_orchestrator - INFO - ==================================================
2025-05-14 03:12:08,042 - main_orchestrator - INFO - PIPELINE FINALIZADO en 731.76 segundos.
2025-05-14 03:12:08,042 - main_orchestrator - INFO - ==================================================
